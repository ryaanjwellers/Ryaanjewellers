<!doctype html>
<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>RYAAN JEWELLERS â€” White Diamond Luxury | Dubai</title>
  <meta name="description" content="RYAAN Jewellers Dubai â€” Luxury diamonds & gold jewellery. Live gold rates, bespoke designs, secure WhatsApp checkout. Handcrafted in Dubai." />
  <meta name="keywords" content="RYAAN Jewellers, Dubai gold, luxury jewellery, diamonds, bespoke jewellery, gold rates, Dubai jewellery" />
  <meta name="theme-color" content="#0b0b0b" />
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ’Ž</text></svg>" />
  <!-- Fonts & icons -->
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700;900&family=Playfair+Display:wght@400;700&family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <style>
    /* -------------------- THEME VARIABLES -------------------- */
    :root{
      --rose:#C77B7B;
      --gold: #B58B3C;
      --gold-light: #D4AF37;
      --muted:#8a8a8a;
      --bg:#fff9f8;
      --card:#fff;
      --dark:#0f1720;
      --glass: rgba(255,255,255,0.6);
      --radius:18px;
      --trans:.35s ease;
      --max-width:1200px;
      --lux-scale:1;
      --success: #4CAF50;
      --warning: #FF9800;
      --error: #F44336;
    }
    
    /* Dark (OLED) theme overrides */
    :root[data-theme='dark']{
      --bg:#050405;
      --card:#0e0e10;
      --muted:#bdbdbd;
      --glass: rgba(255,255,255,0.03);
      --lux-scale:1;
    }

    /* RTL support */
    html[dir='rtl'] .brand h1,
    html[dir='rtl'] .hero-title,
    html[dir='rtl'] .section-title {
      font-family: 'Cairo', 'Inter', sans-serif;
    }

    html, body { height:100%; overflow-x:hidden; }
    * { box-sizing:border-box; margin:0; padding:0 }
    
    body {
      font-family:'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
      background:var(--bg);
      color:var(--dark);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      line-height:1.6;
      transition:background .35s ease, color .35s ease;
      font-size:16px;
    }

    /* Container */
    .container { max-width:var(--max-width); margin:0 auto; padding:0 18px; }
    
    /* -------------------- SPLASH (BIG BOX) -------------------- */
    #splash {
      position:fixed;
      inset:0;
      z-index:99999;
      display:flex;
      align-items:center;
      justify-content:center;
      background:linear-gradient(180deg, rgba(0,0,0,0.92), rgba(0,0,0,0.98));
      padding:24px;
      transition:opacity 0.65s ease, visibility 0.65s ease;
    }
    
    .splash-box {
      width:min(1100px, 95%);
      background:linear-gradient(135deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
      border-radius:28px;
      padding:32px;
      display:flex;
      gap:32px;
      align-items:center;
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      box-shadow:0 40px 120px rgba(0,0,0,0.8);
      border:1px solid rgba(255,255,255,0.05);
      animation:fadeIn 0.8s ease;
    }
    
    @keyframes fadeIn {
      from { opacity:0; transform:scale(0.95); }
      to { opacity:1; transform:scale(1); }
    }
    
    .splash-media {
      flex:0 0 380px;
      border-radius:20px;
      overflow:hidden;
      border:1px solid rgba(255,255,255,0.08);
      box-shadow:0 20px 60px rgba(0,0,0,0.4);
    }
    
    .splash-media video {
      width:100%;
      height:100%;
      display:block;
      object-fit:cover;
      transition:transform 0.5s ease;
    }
    
    .splash-media:hover video {
      transform:scale(1.02);
    }
    
    .splash-content {
      flex:1;
      color:#fff;
    }
    
    .splash-title {
      font-family:'Cinzel', serif;
      font-size:48px;
      font-weight:900;
      letter-spacing:1.2px;
      margin-bottom:8px;
      background:linear-gradient(45deg, #D4AF37, #FFD700, #B58B3C);
      -webkit-background-clip:text;
      -webkit-text-fill-color:transparent;
      background-clip:text;
    }
    
    .splash-sub {
      font-size:18px;
      color:rgba(243,234,234,0.9);
      margin-bottom:24px;
      line-height:1.5;
    }
    
    .splash-actions {
      display:flex;
      gap:16px;
      align-items:center;
      flex-wrap:wrap;
    }
    
    .splash-play {
      background:linear-gradient(45deg, var(--rose), #D4AF37);
      border:none;
      color:#fff;
      padding:14px 28px;
      border-radius:999px;
      cursor:pointer;
      font-weight:700;
      font-size:16px;
      transition:all 0.3s ease;
      display:flex;
      align-items:center;
      gap:10px;
    }
    
    .splash-play:hover {
      transform:translateY(-2px);
      box-shadow:0 10px 30px rgba(199,123,123,0.3);
    }
    
    .splash-muted {
      background:rgba(255,255,255,0.12);
      padding:12px 20px;
      border-radius:12px;
      color:#fff;
      border:1px solid rgba(255,255,255,0.15);
      cursor:pointer;
      font-weight:600;
      display:flex;
      align-items:center;
      gap:8px;
      transition:all 0.3s ease;
    }
    
    .splash-muted:hover {
      background:rgba(255,255,255,0.18);
    }
    
    .splash-note {
      font-size:14px;
      color:rgba(221,221,221,0.7);
      margin-top:16px;
      line-height:1.4;
    }
    
    /* -------------------- HEADER -------------------- */
    header {
      position:sticky;
      top:0;
      z-index:900;
      background:linear-gradient(180deg, rgba(255,255,255,0.97), rgba(255,255,255,0.95));
      backdrop-filter:blur(10px);
      -webkit-backdrop-filter:blur(10px);
      border-bottom:1px solid rgba(199,123,123,0.08);
      transition:all 0.3s ease;
    }
    
    :root[data-theme='dark'] header {
      background:linear-gradient(180deg, rgba(14,14,16,0.95), rgba(14,14,16,0.92));
    }
    
    .header-inner {
      max-width:var(--max-width);
      margin:0 auto;
      padding:14px 24px;
      display:flex;
      align-items:center;
      gap:24px;
      justify-content:space-between;
    }
    
    .brand {
      display:flex;
      align-items:center;
      gap:16px;
      cursor:pointer;
      text-decoration:none;
    }
    
    .brand .logo-video {
      width:100px;
      height:100px;
      border-radius:50%;
      overflow:hidden;
      border:2px solid rgba(199,123,123,0.1);
      box-shadow:0 8px 32px rgba(0,0,0,0.1);
      transition:all 0.3s ease;
    }
    
    .brand:hover .logo-video {
      transform:rotate(5deg);
      border-color:rgba(199,123,123,0.3);
    }
    
    .brand h1 {
      font-family:'Cinzel', serif;
      font-size:24px;
      margin:0;
      letter-spacing:0.8px;
      color:var(--dark);
    }
    
    :root[data-theme='dark'] .brand h1 {
      color:#fff;
    }
    
    .brand-sub {
      font-size:12px;
      color:var(--muted);
      margin-top:2px;
    }
    
    nav ul {
      display:flex;
      gap:20px;
      list-style:none;
      align-items:center;
    }
    
    nav a {
      padding:8px 16px;
      border-radius:10px;
      font-weight:600;
      color:var(--dark);
      text-decoration:none;
      transition:all 0.3s ease;
      position:relative;
      font-size:15px;
    }
    
    :root[data-theme='dark'] nav a {
      color:#fff;
    }
    
    nav a:hover {
      background:var(--glass);
      color:var(--rose);
    }
    
    nav a::after {
      content:'';
      position:absolute;
      bottom:-5px;
      left:50%;
      width:0;
      height:2px;
      background:var(--rose);
      transition:all 0.3s ease;
      transform:translateX(-50%);
    }
    
    nav a:hover::after {
      width:70%;
    }
    
    .header-actions {
      display:flex;
      gap:12px;
      align-items:center;
    }
    
    .icon-btn {
      width:44px;
      height:44px;
      border-radius:12px;
      background:var(--glass);
      border:1px solid rgba(199,123,123,0.1);
      cursor:pointer;
      display:flex;
      align-items:center;
      justify-content:center;
      transition:all 0.3s ease;
    }
    
    .icon-btn:hover {
      background:rgba(199,123,123,0.1);
      transform:translateY(-2px);
      box-shadow:0 8px 20px rgba(199,123,123,0.15);
    }
    
    .cart-count {
      background:var(--rose);
      color:#fff;
      padding:4px 8px;
      border-radius:20px;
      font-weight:800;
      margin-left:6px;
      font-size:12px;
      min-width:20px;
      height:20px;
      display:inline-flex;
      align-items:center;
      justify-content:center;
    }
    
    .search {
      display:flex;
      align-items:center;
      gap:10px;
      border-radius:14px;
      padding:8px 16px;
      border:1px solid rgba(15,23,32,0.1);
      background:var(--card);
      min-width:360px;
      transition:all 0.3s ease;
    }
    
    .search:focus-within {
      border-color:var(--rose);
      box-shadow:0 4px 20px rgba(199,123,123,0.15);
    }
    
    .search input {
      border:0;
      outline:0;
      padding:8px;
      font-size:14px;
      background:transparent;
      flex:1;
      color:var(--dark);
    }
    
    :root[data-theme='dark'] .search input {
      color:#fff;
    }
    
    /* -------------------- HERO -------------------- */
    .hero {
      min-height:70vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:80px 24px;
      background:linear-gradient(135deg, #fff7f6 0%, #f8ecec 50%, #f5e8e8 100%);
      position:relative;
      overflow:hidden;
    }
    
    :root[data-theme='dark'] .hero {
      background:linear-gradient(135deg, #0a0808 0%, #0e0c0c 50%, #120f0f 100%);
    }
    
    .hero::before {
      content:'';
      position:absolute;
      top:0;
      left:0;
      right:0;
      bottom:0;
      background:url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%23c77b7b' fill-opacity='0.05' fill-rule='evenodd'/%3E%3C/svg%3E");
      opacity:0.3;
    }
    
    .hero-inner {
      text-align:center;
      max-width:980px;
      position:relative;
      z-index:1;
    }
    
    .hero-tag {
      display:inline-block;
      padding:10px 28px;
      background:linear-gradient(45deg, var(--rose), #D4AF37);
      color:#fff;
      border-radius:999px;
      font-weight:800;
      margin-bottom:24px;
      font-size:14px;
      letter-spacing:0.5px;
      box-shadow:0 8px 24px rgba(199,123,123,0.3);
    }
    
    .hero-title {
      font-family:'Playfair Display', serif;
      font-size:64px;
      line-height:1.1;
      margin:20px 0;
      color:var(--dark);
      background:linear-gradient(45deg, var(--dark), #444);
      -webkit-background-clip:text;
      -webkit-text-fill-color:transparent;
      background-clip:text;
    }
    
    :root[data-theme='dark'] .hero-title {
      background:linear-gradient(45deg, #fff, #aaa);
      -webkit-background-clip:text;
      -webkit-text-fill-color:transparent;
    }
    
    .hero-sub {
      color:var(--muted);
      font-size:20px;
      max-width:820px;
      margin:0 auto 32px;
      line-height:1.6;
    }
    
    .hero-actions {
      display:flex;
      gap:16px;
      justify-content:center;
      flex-wrap:wrap;
      margin-top:32px;
    }
    
    /* -------------------- GOLD RATES SECTION -------------------- */
    .rates-section {
      padding:40px 0;
      background:linear-gradient(135deg, var(--card) 0%, #fefefe 100%);
    }
    
    :root[data-theme='dark'] .rates-section {
      background:linear-gradient(135deg, var(--card) 0%, #121212 100%);
    }
    
    .rates {
      display:grid;
      grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));
      gap:20px;
      justify-content:center;
      padding:20px 0;
    }
    
    .rate-card {
      background:linear-gradient(135deg, var(--card), rgba(255,255,255,0.8));
      padding:24px;
      border-radius:20px;
      border:1px solid rgba(199,123,123,0.12);
      text-align:center;
      box-shadow:0 10px 30px rgba(0,0,0,0.08);
      transition:all 0.4s ease;
      position:relative;
      overflow:hidden;
    }
    
    .rate-card:hover {
      transform:translateY(-8px);
      box-shadow:0 20px 40px rgba(199,123,123,0.2);
      border-color:rgba(199,123,123,0.3);
    }
    
    .rate-card::before {
      content:'';
      position:absolute;
      top:0;
      left:0;
      right:0;
      height:4px;
      background:linear-gradient(45deg, var(--gold), var(--rose));
    }
    
    .rate-title {
      font-size:14px;
      color:var(--muted);
      text-transform:uppercase;
      letter-spacing:1px;
      margin-bottom:12px;
      font-weight:600;
    }
    
    .rate-value {
      font-family:'Cinzel', serif;
      font-size:32px;
      color:var(--gold);
      font-weight:900;
      margin:12px 0;
      text-shadow:0 2px 10px rgba(181,139,60,0.2);
    }
    
    .rate-time {
      font-size:12px;
      color:var(--muted);
      margin-top:8px;
      opacity:0.8;
      display:flex;
      align-items:center;
      justify-content:center;
      gap:6px;
    }
    
    .api-status {
      font-size:11px;
      padding:4px 12px;
      border-radius:12px;
      background:var(--success);
      color:white;
      margin-top:8px;
      display:inline-block;
    }
    
    .api-status.sample {
      background:var(--warning);
    }
    
    .api-status.error {
      background:var(--error);
    }
    
    /* -------------------- LAYOUT -------------------- */
    .layout {
      max-width:var(--max-width);
      margin:40px auto;
      padding:0 24px;
      display:grid;
      grid-template-columns:1fr 380px;
      gap:32px;
    }
    
    @media (max-width:1100px) {
      .layout {
        grid-template-columns:1fr;
      }
      .side {
        position:static !important;
        margin-top:32px;
      }
    }
    
    /* Section titles */
    .section-title {
      font-family:'Cinzel', serif;
      font-size:32px;
      margin:32px 0 24px;
      color:var(--dark);
      position:relative;
      padding-bottom:12px;
    }
    
    :root[data-theme='dark'] .section-title {
      color:#fff;
    }
    
    .section-title::after {
      content:'';
      position:absolute;
      bottom:0;
      left:0;
      width:60px;
      height:3px;
      background:linear-gradient(45deg, var(--rose), var(--gold));
    }
    
    /* Slider */
    .slider-container {
      position:relative;
      overflow:hidden;
      border-radius:20px;
      box-shadow:0 20px 60px rgba(0,0,0,0.1);
    }
    
    .track {
      display:flex;
      gap:20px;
      transition:transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
      padding:20px;
      scroll-behavior:smooth;
    }
    
    .slide {
      flex:0 0 calc(33.333% - 14px);
      border-radius:16px;
      background:var(--card);
      overflow:hidden;
      box-shadow:0 12px 36px rgba(0,0,0,0.1);
      transition:all 0.4s ease;
      position:relative;
    }
    
    .slide:hover {
      transform:translateY(-12px);
      box-shadow:0 24px 48px rgba(199,123,123,0.2);
    }
    
    .slide img {
      width:100%;
      height:280px;
      object-fit:cover;
      transition:transform 0.5s ease;
    }
    
    .slide:hover img {
      transform:scale(1.05);
    }
    
    .meta {
      padding:20px;
    }
    
    .slide-category {
      font-size:12px;
      color:var(--muted);
      text-transform:uppercase;
      letter-spacing:1px;
      margin-bottom:8px;
    }
    
    .slide-name {
      font-weight:800;
      font-size:18px;
      margin:8px 0;
      color:var(--dark);
    }
    
    :root[data-theme='dark'] .slide-name {
      color:#fff;
    }
    
    .slide-price {
      font-family:'Cinzel', serif;
      color:var(--rose);
      font-size:22px;
      font-weight:900;
      margin:12px 0;
    }
    
    .slider-controls {
      display:flex;
      gap:12px;
      justify-content:center;
      margin-top:24px;
    }
    
    .slider-controls .icon-btn {
      width:56px;
      height:56px;
      font-size:18px;
      background:var(--card);
      border:2px solid rgba(199,123,123,0.15);
    }
    
    .slider-controls .icon-btn:hover {
      background:var(--rose);
      color:#fff;
      border-color:var(--rose);
    }
    
    /* Filters and controls */
    .controls-row {
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:20px;
      flex-wrap:wrap;
      margin:32px 0;
      padding:20px;
      background:var(--card);
      border-radius:16px;
      box-shadow:0 8px 32px rgba(0,0,0,0.05);
    }
    
    .filter-row {
      display:flex;
      gap:12px;
      flex-wrap:wrap;
    }
    
    .filter-row button {
      padding:10px 20px;
      border-radius:25px;
      border:2px solid rgba(199,123,123,0.15);
      background:transparent;
      cursor:pointer;
      font-weight:600;
      color:var(--muted);
      transition:all 0.3s ease;
    }
    
    .filter-row button:hover {
      border-color:var(--rose);
      color:var(--dark);
    }
    
    :root[data-theme='dark'] .filter-row button:hover {
      color:#fff;
    }
    
    .filter-row button.active {
      background:linear-gradient(45deg, var(--rose), #D4AF37);
      color:#fff;
      border-color:transparent;
      box-shadow:0 8px 24px rgba(199,123,123,0.3);
    }
    
    .sort-select {
      padding:10px 20px;
      border-radius:12px;
      border:2px solid rgba(199,123,123,0.15);
      background:var(--card);
      color:var(--dark);
      font-weight:600;
      cursor:pointer;
      outline:none;
      transition:all 0.3s ease;
    }
    
    :root[data-theme='dark'] .sort-select {
      color:#fff;
      background:var(--card);
    }
    
    .sort-select:focus {
      border-color:var(--rose);
      box-shadow:0 4px 20px rgba(199,123,123,0.15);
    }
    
    /* Product grid */
    .products-grid {
      display:grid;
      grid-template-columns:repeat(auto-fill, minmax(280px, 1fr));
      gap:24px;
      margin-top:24px;
    }
    
    .product {
      background:var(--card);
      border-radius:20px;
      overflow:hidden;
      border:1px solid rgba(199,123,123,0.1);
      transition:all 0.4s ease;
      position:relative;
    }
    
    .product:hover {
      transform:translateY(-12px);
      box-shadow:0 24px 48px rgba(199,123,123,0.2);
      border-color:rgba(199,123,123,0.3);
    }
    
    .product-badge {
      position:absolute;
      top:16px;
      left:16px;
      background:linear-gradient(45deg, var(--rose), var(--gold));
      color:#fff;
      padding:6px 14px;
      border-radius:20px;
      font-size:11px;
      font-weight:800;
      z-index:2;
      text-transform:uppercase;
      letter-spacing:0.5px;
    }
    
    .product img {
      width:100%;
      height:240px;
      object-fit:cover;
      transition:transform 0.5s ease;
    }
    
    .product:hover img {
      transform:scale(1.05);
    }
    
    .info {
      padding:20px;
    }
    
    .name {
      font-weight:800;
      font-size:18px;
      margin-bottom:8px;
      color:var(--dark);
      line-height:1.3;
    }
    
    :root[data-theme='dark'] .name {
      color:#fff;
    }
    
    .desc {
      font-size:14px;
      color:var(--muted);
      margin-bottom:16px;
      line-height:1.5;
    }
    
    .price {
      font-family:'Cinzel', serif;
      color:var(--rose);
      font-size:24px;
      font-weight:900;
      margin:16px 0;
    }
    
    .product-actions {
      display:flex;
      gap:12px;
      margin-top:16px;
    }
    
    /* Buttons */
    .btn {
      padding:14px 28px;
      border-radius:999px;
      border:none;
      cursor:pointer;
      font-weight:800;
      font-size:15px;
      transition:all 0.3s ease;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:10px;
    }
    
    .btn-primary {
      background:linear-gradient(45deg, var(--rose), #D4AF37);
      color:#fff;
      box-shadow:0 8px 24px rgba(199,123,123,0.3);
    }
    
    .btn-primary:hover {
      transform:translateY(-2px);
      box-shadow:0 12px 32px rgba(199,123,123,0.4);
    }
    
    .btn-outline {
      background:transparent;
      border:2px solid rgba(199,123,123,0.3);
      color:var(--dark);
    }
    
    :root[data-theme='dark'] .btn-outline {
      color:#fff;
    }
    
    .btn-outline:hover {
      background:rgba(199,123,123,0.1);
      border-color:var(--rose);
    }
    
    /* Side cart */
    .side {
      position:sticky;
      top:100px;
      padding:24px;
      background:var(--card);
      border-radius:20px;
      border:1px solid rgba(199,123,123,0.08);
      box-shadow:0 12px 36px rgba(0,0,0,0.08);
      height:fit-content;
    }
    
    .cart-preview {
      display:flex;
      flex-direction:column;
      gap:16px;
      margin-top:16px;
    }
    
    .cart-item {
      display:flex;
      gap:16px;
      align-items:center;
      padding:16px;
      background:rgba(199,123,123,0.03);
      border-radius:12px;
      transition:all 0.3s ease;
    }
    
    .cart-item:hover {
      background:rgba(199,123,123,0.08);
    }
    
    .cart-item img {
      width:80px;
      height:80px;
      object-fit:cover;
      border-radius:10px;
    }
    
    .cart-item-info {
      flex:1;
    }
    
    .cart-item-name {
      font-weight:700;
      margin-bottom:4px;
    }
    
    .cart-item-price {
      font-size:14px;
      color:var(--muted);
    }
    
    .cart-quantity-controls {
      display:flex;
      align-items:center;
      gap:10px;
    }
    
    .cart-quantity-btn {
      width:32px;
      height:32px;
      border-radius:8px;
      border:1px solid rgba(199,123,123,0.2);
      background:var(--card);
      cursor:pointer;
      display:flex;
      align-items:center;
      justify-content:center;
      transition:all 0.2s ease;
    }
    
    .cart-quantity-btn:hover {
      background:rgba(199,123,123,0.1);
      border-color:var(--rose);
    }
    
    .cart-total {
      font-weight:900;
      color:var(--rose);
      font-size:24px;
      margin-top:8px;
    }
    
    /* Modals */
    .modal {
      position:fixed;
      inset:0;
      background:rgba(0,0,0,0.8);
      backdrop-filter:blur(8px);
      -webkit-backdrop-filter:blur(8px);
      display:none;
      align-items:center;
      justify-content:center;
      z-index:2000;
      padding:20px;
      animation:fadeIn 0.3s ease;
    }
    
    .modal-box {
      background:var(--card);
      padding:32px;
      border-radius:24px;
      max-width:900px;
      width:100%;
      max-height:90vh;
      overflow:auto;
      box-shadow:0 40px 80px rgba(0,0,0,0.3);
      animation:slideUp 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    @keyframes slideUp {
      from { opacity:0; transform:translateY(40px); }
      to { opacity:1; transform:translateY(0); }
    }
    
    .modal-grid {
      display:grid;
      grid-template-columns:1fr 1fr;
      gap:32px;
    }
    
    @media (max-width:800px) {
      .modal-grid {
        grid-template-columns:1fr;
      }
    }
    
    /* Notify */
    #notify {
      position:fixed;
      right:24px;
      top:100px;
      display:none;
      background:linear-gradient(45deg, var(--rose), var(--gold));
      color:#fff;
      padding:16px 24px;
      border-radius:12px;
      font-weight:700;
      z-index:2001;
      box-shadow:0 12px 32px rgba(0,0,0,0.2);
      animation:slideInRight 0.3s ease;
      max-width:400px;
    }
    
    @keyframes slideInRight {
      from { transform:translateX(100%); opacity:0; }
      to { transform:translateX(0); opacity:1; }
    }
    
    /* Debug */
    .debug-info {
      background:#fff3cd;
      border:2px solid #ffeaa7;
      border-radius:12px;
      padding:20px;
      margin:20px 0;
      font-size:14px;
      color:#856404;
    }
    
    :root[data-theme='dark'] .debug-info {
      background:#332701;
      border-color:#665300;
      color:#ffd700;
    }
    
    /* Footer */
    footer {
      margin-top:80px;
      padding:60px 24px 40px;
      background:linear-gradient(180deg, transparent, var(--card));
      border-top:1px solid rgba(199,123,123,0.1);
    }
    
    .footer-content {
      display:grid;
      grid-template-columns:repeat(auto-fit, minmax(250px, 1fr));
      gap:40px;
      margin-bottom:40px;
    }
    
    .footer-brand {
      font-family:'Cinzel', serif;
      font-size:24px;
      color:var(--rose);
      margin-bottom:16px;
    }
    
    .footer-contact {
      color:var(--muted);
      line-height:1.8;
    }
    
    .footer-contact div {
      margin-bottom:8px;
      display:flex;
      align-items:center;
      gap:12px;
    }
    
    .social-links {
      display:flex;
      gap:16px;
      margin-top:20px;
    }
    
    .social-link {
      width:44px;
      height:44px;
      border-radius:12px;
      background:var(--glass);
      display:flex;
      align-items:center;
      justify-content:center;
      color:var(--dark);
      text-decoration:none;
      transition:all 0.3s ease;
    }
    
    :root[data-theme='dark'] .social-link {
      color:#fff;
    }
    
    .social-link:hover {
      background:var(--rose);
      color:#fff;
      transform:translateY(-3px);
    }
    
    .footer-bottom {
      text-align:center;
      padding-top:40px;
      border-top:1px solid rgba(199,123,123,0.1);
      color:var(--muted);
      font-size:14px;
    }
    
    /* Loader */
    .loader {
      width:48px;
      height:48px;
      border:3px solid rgba(199,123,123,0.2);
      border-top-color:var(--rose);
      border-radius:50%;
      animation:spin 1s linear infinite;
      margin:40px auto;
    }
    
    @keyframes spin {
      to { transform:rotate(360deg); }
    }
    
    /* Responsive */
    @media (max-width:768px) {
      .header-inner {
        flex-direction:column;
        gap:16px;
        padding:12px 16px;
      }
      
      .search {
        min-width:100%;
        order:3;
      }
      
      nav ul {
        justify-content:center;
        flex-wrap:wrap;
      }
      
      .hero-title {
        font-size:36px;
      }
      
      .hero-sub {
        font-size:16px;
      }
      
      .slide {
        flex:0 0 calc(100% - 20px);
      }
      
      .controls-row {
        flex-direction:column;
        align-items:stretch;
      }
      
      .filter-row {
        justify-content:center;
      }
      
      .splash-box {
        flex-direction:column;
        padding:24px;
        gap:24px;
      }
      
      .splash-media {
        width:100%;
        flex:none;
      }
      
      .splash-title {
        font-size:32px;
      }
      
      .modal-box {
        padding:24px;
      }
    }
    
    @media (max-width:480px) {
      .products-grid {
        grid-template-columns:1fr;
      }
      
      .hero-actions {
        flex-direction:column;
        align-items:stretch;
      }
      
      .btn {
        width:100%;
        justify-content:center;
      }
      
      .rate-card {
        padding:20px;
      }
      
      .rate-value {
        font-size:24px;
      }
    }
  </style>
</head>

<body>
  <!-- ========== SPLASH SCREEN ========== -->
  <div id="splash" aria-hidden="false">
    <div class="splash-box" role="dialog" aria-modal="true" aria-label="RYAAN Jewellers Luxury Experience">
      <div class="splash-media">
        <video id="splashVideo" playsinline autoplay muted loop 
          poster="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='600' height='400'%3E%3Crect width='100%25' height='100%25' fill='%230a0a0a'/%3E%3Ctext x='50%25' y='50%25' font-family='Cinzel' font-size='32' fill='%23b58b3c' text-anchor='middle' dy='.3em'%3ERYAAN JEWELLERS%3C/text%3E%3C/svg%3E">
          <source src="https://raw.githubusercontent.com/ryaanjewellers007/ryaanjewellers/main/Ryaan%20Jewellers.mp4" type="video/mp4">
        </video>
      </div>
      <div class="splash-content">
        <div class="splash-title">RYAAN JEWELLERS</div>
        <div class="splash-sub">Experience White Diamond Luxury â€” Masterfully handcrafted in Dubai, UAE. Bespoke designs, certified diamonds, and real-time gold pricing.</div>
        <div class="splash-actions">
          <button id="enterBtn" class="splash-play">
            <i class="fas fa-gem"></i> Enter Luxury Experience
          </button>
          <button id="soundToggle" class="splash-muted" aria-pressed="false">
            <i class="fas fa-volume-mute"></i> Enable Immersive Sound
          </button>
        </div>
        <div class="splash-note">
          <i class="fas fa-info-circle"></i> For the full cinematic experience, enable sound. You can control audio preferences anytime.
        </div>
      </div>
    </div>
  </div>

  <!-- ========== HEADER ========== -->
  <header>
    <div class="header-inner">
      <a href="#home" class="brand" onclick="event.preventDefault(); window.scrollTo({top:0,behavior:'smooth'})">
        <div class="logo-video">
          <video id="logoVid" autoplay loop muted playsinline 
            poster="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100'%3E%3Ccircle cx='50' cy='50' r='48' fill='none' stroke='%23b58b3c' stroke-width='2'/%3E%3Ctext x='50' y='55' font-family='Cinzel' font-size='12' fill='%23b58b3c' text-anchor='middle'%3ER%3C/text%3E%3C/svg%3E">
            <source src="https://raw.githubusercontent.com/ryaanjewellers007/ryaanjewellers/main/LogoDec.mp4" type="video/mp4">
          </video>
        </div>
        <div>
          <h1>RYAAN JEWELLERS</h1>
          <div class="brand-sub">Dubai â€¢ Handcrafted Luxury Since 2010</div>
        </div>
      </a>

      <div style="display:flex;align-items:center;gap:16px">
        <div class="search" role="search" aria-label="Search luxury jewellery">
          <i class="fas fa-search" style="color:var(--muted)"></i>
          <input id="searchInput" placeholder="Search diamonds, rings, necklaces, collections..." 
                 aria-label="Search products and collections">
          <button id="searchBtn" class="icon-btn" title="Search" aria-label="Search">
            <i class="fas fa-arrow-right"></i>
          </button>
        </div>

        <nav aria-label="Main Navigation">
          <ul>
            <li><a href="#home" class="nav-link">Home</a></li>
            <li><a href="#collections" class="nav-link">Collections</a></li>
            <li><a href="#custom" class="nav-link">Custom Design</a></li>
            <li><a href="#about" class="nav-link">About</a></li>
            <li><a href="#contact" class="nav-link">Contact</a></li>
          </ul>
        </nav>

        <div class="header-actions">
          <button id="themeToggle" class="icon-btn" title="Toggle theme" aria-label="Toggle theme">
            <i class="fas fa-moon"></i>
          </button>
          <button id="dirToggle" class="icon-btn" title="Toggle LTR/RTL" aria-label="Toggle text direction">
            <span id="dirText">AR</span>
          </button>
          <button class="icon-btn" onclick="document.getElementById('goldRates').scrollIntoView({behavior:'smooth'})" 
                  title="Live Gold Rates" aria-label="View live gold rates">
            <i class="fas fa-coins"></i>
          </button>
          <button class="icon-btn" onclick="openCart()" title="Shopping Cart" aria-label="Open shopping cart">
            <i class="fas fa-shopping-bag"></i>
            <span class="cart-count" id="cartCount" aria-live="polite"></span>
          </button>
        </div>
      </div>
    </div>
  </header>

  <!-- ========== MAIN CONTENT ========== -->
  <main>
    <!-- HERO SECTION -->
    <section id="home" class="hero" aria-label="Main Hero Section">
      <div class="hero-inner">
        <div class="hero-tag">Exclusive Masterpieces</div>
        <h1 class="hero-title">Where Elegance Meets Timeless Craftsmanship</h1>
        <p class="hero-sub">Experience bespoke jewellery creation with certified diamonds, real-time gold pricing, and master artisans in Dubai. Your vision, our expertise â€” crafted to perfection.</p>
        <div class="hero-actions">
          <button class="btn btn-primary" onclick="document.getElementById('collections').scrollIntoView({behavior:'smooth'})">
            <i class="fas fa-gem"></i> Explore Collections
          </button>
          <button class="btn btn-outline" onclick="openCustomInquiry()">
            <i class="fas fa-pencil-ruler"></i> Start Custom Design
          </button>
        </div>
      </div>
    </section>

    <!-- GOLD RATES SECTION -->
    <section id="goldRates" class="rates-section" aria-live="polite">
      <div class="container">
        <h2 class="section-title">Live Gold Market Rates</h2>
        <p style="text-align:center;color:var(--muted);margin-bottom:32px;max-width:800px;margin-left:auto;margin-right:auto">
          Real-time gold prices per gram in UAE Dirhams. Rates update every 5 minutes. 
          <span id="goldSource" style="font-size:12px;display:block;margin-top:8px;color:var(--gold)"></span>
        </p>
        
        <div class="rates">
          <div class="rate-card">
            <div class="rate-title">24K Pure Gold / gram</div>
            <div class="rate-value" id="rate24">â€”</div>
            <div class="rate-time" id="rateTime">
              <i class="fas fa-clock"></i> <span id="rateTimeText">Loading...</span>
            </div>
            <div class="api-status" id="apiStatus">Checking...</div>
          </div>
          
          <div class="rate-card">
            <div class="rate-title">22K Gold / gram</div>
            <div class="rate-value" id="rate22">â€”</div>
            <div class="rate-time">Based on 91.7% purity</div>
          </div>
          
          <div class="rate-card">
            <div class="rate-title">18K Gold / gram</div>
            <div class="rate-value" id="rate18">â€”</div>
            <div class="rate-time">Based on 75% purity</div>
          </div>
          
          <div class="rate-card">
            <div class="rate-title">Market Status</div>
            <div class="rate-value" id="marketTrend" style="font-size:20px">â€”</div>
            <div class="rate-time" id="marketTime">Dubai Gold Souk</div>
            <button class="btn btn-outline" onclick="fetchGoldRates(true)" 
                    style="margin-top:12px;padding:8px 16px;font-size:13px">
              <i class="fas fa-sync-alt"></i> Refresh Rates
            </button>
          </div>
        </div>
        
        <div style="text-align:center;margin-top:24px;font-size:12px;color:var(--muted)">
          <i class="fas fa-info-circle"></i> Gold prices are indicative. Final jewellery pricing includes craftsmanship, diamonds, and making charges.
        </div>
      </div>
    </section>

    <!-- MAIN LAYOUT -->
    <div class="layout">
      <!-- MAIN COLUMN -->
      <section class="main-col">
        <!-- FEATURED SLIDER -->
        <div class="container">
          <h2 class="section-title">Featured Masterpieces</h2>
          <div class="slider-container">
            <div class="track" id="sliderTrack" role="list" aria-label="Featured products carousel"></div>
          </div>
          <div class="slider-controls">
            <button class="icon-btn" onclick="prevSlide()" aria-label="Previous slide">
              <i class="fas fa-chevron-left"></i>
            </button>
            <button class="icon-btn" onclick="nextSlide()" aria-label="Next slide">
              <i class="fas fa-chevron-right"></i>
            </button>
            <button class="icon-btn" onclick="pauseAutoSlide()" id="pauseBtn" aria-label="Pause auto-slide">
              <i class="fas fa-pause"></i>
            </button>
          </div>
        </div>

        <!-- FILTERS & CONTROLS -->
        <div class="container">
          <div class="controls-row">
            <div class="filter-row" id="filterRow" role="toolbar" aria-label="Product filters">
              <button class="active" onclick="applyFilter('all', this)">All Collections</button>
              <button onclick="applyFilter('bracelet', this)">Bracelets</button>
              <button onclick="applyFilter('necklace', this)">Necklaces</button>
              <button onclick="applyFilter('ring', this)">Rings</button>
              <button onclick="applyFilter('earrings', this)">Earrings</button>
              <button onclick="applyFilterByCategory('Messika Collection', this)">Messika</button>
              <button onclick="applyFilterByCategory('Van Cleef Inspired', this)">Van Cleef</button>
              <button onclick="applyFilterByCategory('Bvlgari Inspired', this)">Bvlgari</button>
            </div>

            <div style="display:flex;gap:12px;align-items:center">
              <select id="sortSelect" class="sort-select" onchange="applySort(this.value)" aria-label="Sort products">
                <option value="featured">Featured First</option>
                <option value="price-asc">Price: Low to High</option>
                <option value="price-desc">Price: High to Low</option>
                <option value="name-asc">Name: A to Z</option>
                <option value="newest">Newest First</option>
              </select>
              <button class="icon-btn" title="Refresh view" onclick="renderProducts()" aria-label="Refresh products">
                <i class="fas fa-redo"></i>
              </button>
            </div>
          </div>
        </div>

        <!-- PRODUCTS GRID -->
        <div class="container" id="collections">
          <h2 class="section-title">Luxury Collection</h2>
          <div id="productsLoading" class="loader" style="display:none"></div>
          <div class="products-grid" id="productsGrid" aria-live="polite" role="list"></div>
        </div>

        <!-- CUSTOM DESIGN SECTION -->
        <section id="custom" class="container" style="margin-top:60px">
          <h2 class="section-title">Bespoke Design Service</h2>
          <p style="color:var(--muted);margin-top:12px;font-size:18px;max-width:800px">
            From your initial concept to the finished masterpiece â€” our bespoke design service offers complete 
            customization with 3D visualization, expert consultation, and master craftsmanship.
          </p>
          
          <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:24px;margin-top:32px">
            <div style="padding:32px;background:var(--card);border-radius:20px;border:1px solid rgba(199,123,123,0.1);text-align:center;transition:all 0.3s ease">
              <div style="width:64px;height:64px;background:linear-gradient(45deg, rgba(199,123,123,0.1), rgba(181,139,60,0.1));border-radius:16px;display:flex;align-items:center;justify-content:center;margin:0 auto 20px">
                <i class="fas fa-comments" style="font-size:28px;color:var(--rose)"></i>
              </div>
              <h4 style="margin-bottom:12px;font-size:20px">Consultation</h4>
              <p style="color:var(--muted);line-height:1.6">Share your vision with our expert designers. We'll guide you through materials, styles, and budget.</p>
            </div>
            
            <div style="padding:32px;background:var(--card);border-radius:20px;border:1px solid rgba(199,123,123,0.1);text-align:center;transition:all 0.3s ease">
              <div style="width:64px;height:64px;background:linear-gradient(45deg, rgba(199,123,123,0.1), rgba(181,139,60,0.1));border-radius:16px;display:flex;align-items:center;justify-content:center;margin:0 auto 20px">
                <i class="fas fa-cube" style="font-size:28px;color:var(--rose)"></i>
              </div>
              <h4 style="margin-bottom:12px;font-size:20px">3D Modeling</h4>
              <p style="color:var(--muted);line-height:1.6">Visualize your design in photorealistic 3D before crafting. Make adjustments until it's perfect.</p>
            </div>
            
            <div style="padding:32px;background:var(--card);border-radius:20px;border:1px solid rgba(199,123,123,0.1);text-align:center;transition:all 0.3s ease">
              <div style="width:64px;height:64px;background:linear-gradient(45deg, rgba(199,123,123,0.1), rgba(181,139,60,0.1));border-radius:16px;display:flex;align-items:center;justify-content:center;margin:0 auto 20px">
                <i class="fas fa-gem" style="font-size:28px;color:var(--rose)"></i>
              </div>
              <h4 style="margin-bottom:12px;font-size:20px">Craft & Delivery</h4>
              <p style="color:var(--muted);line-height:1.6">Master artisans handcraft your piece. Quality assurance and secure delivery worldwide.</p>
            </div>
          </div>
          
          <div style="text-align:center;margin-top:40px">
            <button class="btn btn-primary" onclick="openCustomInquiry()" style="padding:16px 40px;font-size:16px">
              <i class="fab fa-whatsapp"></i> Start Your Custom Design â€” WhatsApp Consultation
            </button>
          </div>
        </section>

        <!-- DEBUG SECTION -->
        <div class="container" id="debugSection" style="display:none;margin-top:40px">
          <div class="debug-info">
            <strong><i class="fas fa-exclamation-triangle"></i> Image Debug Information</strong>
            <ul id="debugList" style="margin-top:16px;padding-left:20px"></ul>
            <small style="display:block;margin-top:16px;color:#6b4e00">
              <i class="fas fa-info-circle"></i> Upload missing product images to your GitHub repository to replace placeholders. Ensure filenames match the image URLs in the products array.
            </small>
          </div>
        </div>
      </section>

      <!-- SIDEBAR: CART & SUMMARY -->
      <aside class="side" aria-label="Shopping Cart & Order Summary">
        <div style="display:flex;justify-content:space-between;align-items:center">
          <div style="font-family:'Cinzel',serif;font-weight:800;color:var(--rose);font-size:20px">
            <i class="fas fa-shopping-bag"></i> Your Cart
          </div>
          <div style="font-size:12px;color:var(--muted);background:rgba(199,123,123,0.1);padding:4px 12px;border-radius:20px">
            <i class="fas fa-lock"></i> Saved Locally
          </div>
        </div>

        <div class="cart-preview" id="cartPreview" style="margin-top:20px"></div>

        <div style="margin-top:24px;border-top:2px dashed rgba(199,123,123,0.1);padding-top:24px">
          <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:16px">
            <div style="font-weight:700;font-size:18px">Subtotal</div>
            <div class="cart-total" id="cartSubtotal">AED 0</div>
          </div>
          
          <div style="background:rgba(199,123,123,0.05);padding:16px;border-radius:12px;margin-bottom:20px">
            <div style="font-size:12px;color:var(--muted);margin-bottom:8px">
              <i class="fas fa-shipping-fast"></i> Free insured delivery in Dubai
            </div>
            <div style="font-size:12px;color:var(--muted)">
              <i class="fas fa-award"></i> Certificate of Authenticity included
            </div>
          </div>
          
          <div style="display:flex;gap:12px;flex-direction:column">
            <button class="btn btn-primary" onclick="openCheckout()" style="width:100%">
              <i class="fab fa-whatsapp"></i> Proceed to WhatsApp Checkout
            </button>
            <button class="btn btn-outline" onclick="clearCart()" style="width:100%">
              <i class="fas fa-trash"></i> Clear Cart
            </button>
          </div>
          
          <div style="margin-top:20px;font-size:12px;color:var(--muted);text-align:center">
            <i class="fas fa-credit-card"></i> Secure payment options available
            <button class="icon-btn" onclick="payPlaceholder()" style="margin-left:8px;padding:4px 12px;font-size:11px">
              Pay by Card
            </button>
          </div>
        </div>
      </aside>
    </div>

    <!-- ABOUT SECTION -->
    <section id="about" class="container" style="margin-top:80px;padding:60px 24px;background:linear-gradient(135deg, var(--card), rgba(255,255,255,0.5));border-radius:32px">
      <h2 class="section-title" style="text-align:center">RYAAN JEWELLERS Story</h2>
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:60px;align-items:center;margin-top:40px">
        <div>
          <h3 style="font-size:24px;margin-bottom:20px;color:var(--dark)">Crafting Legacy Since 2010</h3>
          <p style="color:var(--muted);line-height:1.8;margin-bottom:20px">
            Founded in the heart of Dubai, RYAAN JEWELLERS represents the pinnacle of jewellery craftsmanship. 
            Our journey began with a simple vision: to create pieces that tell stories, capture emotions, and 
            become family heirlooms.
          </p>
          <p style="color:var(--muted);line-height:1.8;margin-bottom:20px">
            Each piece is meticulously handcrafted by master artisans who combine traditional techniques with 
            modern innovation. We work exclusively with ethically sourced diamonds and certified gold, ensuring 
            both beauty and responsibility.
          </p>
          <div style="display:flex;gap:20px;margin-top:32px">
            <div style="text-align:center">
              <div style="font-family:'Cinzel',serif;font-size:32px;color:var(--gold);font-weight:900">14+</div>
              <div style="font-size:14px;color:var(--muted)">Years Excellence</div>
            </div>
            <div style="text-align:center">
              <div style="font-family:'Cinzel',serif;font-size:32px;color:var(--gold);font-weight:900">5000+</div>
              <div style="font-size:14px;color:var(--muted)">Happy Clients</div>
            </div>
            <div style="text-align:center">
              <div style="font-family:'Cinzel',serif;font-size:32px;color:var(--gold);font-weight:900">100%</div>
              <div style="font-size:14px;color:var(--muted)">Satisfaction</div>
            </div>
          </div>
        </div>
        <div style="background:linear-gradient(45deg, rgba(199,123,123,0.1), rgba(181,139,60,0.1));padding:40px;border-radius:24px;text-align:center">
          <i class="fas fa-gem" style="font-size:64px;color:var(--rose);margin-bottom:24px"></i>
          <h4 style="margin-bottom:16px;font-size:20px">Our Promise</h4>
          <p style="color:var(--muted);line-height:1.6">
            Every RYAAN piece comes with lifetime warranty, certificate of authenticity, and 
            complimentary cleaning service. We stand behind the quality and craftsmanship of 
            every creation.
          </p>
        </div>
      </div>
    </section>
  </main>

  <!-- ========== FOOTER ========== -->
  <footer id="contact">
    <div class="container">
      <div class="footer-content">
        <div>
          <div class="footer-brand">RYAAN JEWELLERS</div>
          <div class="footer-contact">
            <div><i class="fas fa-map-marker-alt"></i> <strong>Showroom:</strong> Dubai Gold Souk, Deira, Dubai, UAE</div>
            <div><i class="fas fa-phone"></i> <strong>Phone:</strong> +971 54 374 6476</div>
            <div><i class="fas fa-envelope"></i> <strong>Email:</strong> info@ryaanjewellers.com</div>
            <div><i class="fas fa-clock"></i> <strong>Hours:</strong> 10:00 AM - 10:00 PM (GMT+4)</div>
          </div>
          <div class="social-links">
            <a href="https://www.instagram.com/ryaanjewellers" class="social-link" target="_blank" aria-label="Instagram">
              <i class="fab fa-instagram"></i>
            </a>
            <a href="https://www.facebook.com/ryaanjewellers" class="social-link" target="_blank" aria-label="Facebook">
              <i class="fab fa-facebook-f"></i>
            </a>
            <a href="https://www.pinterest.com/ryaanjewellers" class="social-link" target="_blank" aria-label="Pinterest">
              <i class="fab fa-pinterest-p"></i>
            </a>
            <a href="https://www.youtube.com/ryaanjewellers" class="social-link" target="_blank" aria-label="YouTube">
              <i class="fab fa-youtube"></i>
            </a>
          </div>
        </div>
        
        <div>
          <h4 style="margin-bottom:20px;font-size:18px">Quick Links</h4>
          <div style="display:grid;grid-template-columns:1fr 1fr;gap:16px">
            <div>
              <a href="#collections" style="display:block;color:var(--muted);text-decoration:none;margin-bottom:12px;transition:color 0.3s ease">Collections</a>
              <a href="#custom" style="display:block;color:var(--muted);text-decoration:none;margin-bottom:12px;transition:color 0.3s ease">Custom Design</a>
              <a href="#goldRates" style="display:block;color:var(--muted);text-decoration:none;margin-bottom:12px;transition:color 0.3s ease">Gold Rates</a>
            </div>
            <div>
              <a href="#about" style="display:block;color:var(--muted);text-decoration:none;margin-bottom:12px;transition:color 0.3s ease">Our Story</a>
              <a href="#" onclick="openCart()" style="display:block;color:var(--muted);text-decoration:none;margin-bottom:12px;transition:color 0.3s ease">Your Cart</a>
              <a href="#" onclick="openCustomInquiry()" style="display:block;color:var(--muted);text-decoration:none;margin-bottom:12px;transition:color 0.3s ease">Contact Us</a>
            </div>
          </div>
        </div>
        
        <div>
          <h4 style="margin-bottom:20px;font-size:18px">Newsletter</h4>
          <p style="color:var(--muted);margin-bottom:20px;font-size:14px">
            Subscribe for exclusive previews, gold market insights, and special offers.
          </p>
          <div style="display:flex;gap:8px">
            <input type="email" placeholder="Your email" style="flex:1;padding:12px 16px;border-radius:12px;border:1px solid rgba(199,123,123,0.2);background:var(--card);color:var(--dark)">
            <button class="btn btn-primary" style="padding:12px 24px">
              <i class="fas fa-paper-plane"></i>
            </button>
          </div>
          <div style="margin-top:20px;font-size:12px;color:var(--muted)">
            <i class="fas fa-shield-alt"></i> We respect your privacy. Unsubscribe anytime.
          </div>
        </div>
      </div>
      
      <div class="footer-bottom">
        <div style="display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:20px">
          <div>
            <a href="https://wa.me/971543746476" style="color:#25D366;font-weight:600;text-decoration:none;display:flex;align-items:center;gap:8px">
              <i class="fab fa-whatsapp fa-lg"></i> WhatsApp Order: +971 54 374 6476
            </a>
          </div>
          <div style="display:flex;gap:24px">
            <a href="#" style="color:var(--muted);font-size:12px;text-decoration:none">Privacy Policy</a>
            <a href="#" style="color:var(--muted);font-size:12px;text-decoration:none">Terms of Service</a>
            <a href="#" style="color:var(--muted);font-size:12px;text-decoration:none">Returns & Warranty</a>
          </div>
        </div>
        <div style="margin-top:20px;color:var(--muted);font-size:13px">
          Â© 2025 RYAAN JEWELLERS FZE. All rights reserved. | Dubai, United Arab Emirates
        </div>
        <div style="margin-top:12px;font-size:11px;color:var(--muted);opacity:0.7">
          <i class="fas fa-certificate"></i> Certified Diamonds â€¢ Hallmarked Gold â€¢ Lifetime Warranty
        </div>
      </div>
    </div>
  </footer>

  <!-- ========== MODALS ========== -->
  <!-- PRODUCT QUICK VIEW MODAL -->
  <div id="productModal" class="modal" aria-hidden="true">
    <div class="modal-box" role="dialog" aria-modal="true" aria-label="Product Details">
      <button onclick="closeProductModal()" class="icon-btn" style="position:absolute;right:24px;top:24px" aria-label="Close">
        <i class="fas fa-times"></i>
      </button>
      <div class="modal-grid" id="productModalContent">
        <!-- Dynamic content will be inserted here -->
      </div>
    </div>
  </div>

  <!-- CART MODAL -->
  <div id="cartModal" class="modal" aria-hidden="true">
    <div class="modal-box" role="dialog" aria-modal="true" aria-label="Shopping Cart">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:24px">
        <div style="font-family:'Cinzel',serif;color:var(--rose);font-weight:800;font-size:24px">
          <i class="fas fa-shopping-bag"></i> Your Shopping Cart
        </div>
        <button onclick="closeCart()" class="icon-btn" aria-label="Close cart">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <div id="cartModalItems" style="max-height:50vh;overflow:auto;padding-right:8px"></div>
      <div style="margin-top:32px;padding-top:24px;border-top:2px solid rgba(199,123,123,0.1)">
        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:24px">
          <div>
            <div style="font-weight:700;font-size:18px">Total Amount</div>
            <div style="font-size:13px;color:var(--muted);margin-top:4px">Free insured delivery included</div>
          </div>
          <div style="font-weight:900;color:var(--rose);font-size:28px" id="cartModalTotal">AED 0</div>
        </div>
        <div style="display:flex;gap:12px">
          <button class="btn btn-outline" onclick="closeCart()" style="flex:1">Continue Shopping</button>
          <button class="btn btn-primary" onclick="openCheckout()" style="flex:1">
            <i class="fab fa-whatsapp"></i> Checkout
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- CHECKOUT MODAL -->
  <div id="checkoutModal" class="modal" aria-hidden="true">
    <div class="modal-box" role="dialog" aria-modal="true" aria-label="Checkout">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:24px">
        <div style="font-family:'Cinzel',serif;color:var(--rose);font-weight:800;font-size:24px">
          <i class="fab fa-whatsapp"></i> WhatsApp Checkout
        </div>
        <button onclick="closeCheckout()" class="icon-btn" aria-label="Close checkout">
          <i class="fas fa-times"></i>
        </button>
      </div>
      
      <div id="checkoutContent">
        <div style="margin-bottom:20px;color:var(--rose);font-weight:700;font-size:18px">
          <i class="fas fa-receipt"></i> Order Summary
        </div>
        <div id="checkoutItems" style="max-height:220px;overflow:auto;margin-bottom:32px;padding-right:8px"></div>

        <div style="margin-bottom:20px;color:var(--rose);font-weight:700;font-size:18px">
          <i class="fas fa-user-circle"></i> Delivery Details
        </div>
        <div style="display:grid;gap:16px;margin-bottom:32px">
          <div>
            <label style="display:block;margin-bottom:8px;font-weight:600;color:var(--dark)">Full Name *</label>
            <input id="custName" type="text" placeholder="Your full name" 
                   style="width:100%;padding:14px;border-radius:12px;border:2px solid rgba(199,123,123,0.2);background:var(--card);color:var(--dark);transition:all 0.3s ease">
          </div>
          
          <div>
            <label style="display:block;margin-bottom:8px;font-weight:600;color:var(--dark)">Phone Number *</label>
            <input id="custPhone" type="tel" placeholder="e.g. +971 50 123 4567" 
                   style="width:100%;padding:14px;border-radius:12px;border:2px solid rgba(199,123,123,0.2);background:var(--card);color:var(--dark);transition:all 0.3s ease">
          </div>
          
          <div>
            <label style="display:block;margin-bottom:8px;font-weight:600;color:var(--dark)">Delivery Address *</label>
            <textarea id="custAddress" placeholder="Full address in Dubai (including area, building, apartment)" rows="3"
                      style="width:100%;padding:14px;border-radius:12px;border:2px solid rgba(199,123,123,0.2);background:var(--card);color:var(--dark);resize:vertical;transition:all 0.3s ease"></textarea>
          </div>
          
          <div>
            <label style="display:block;margin-bottom:8px;font-weight:600;color:var(--dark)">Special Instructions (Optional)</label>
            <textarea id="custNotes" placeholder="Delivery timing preferences or special requests" rows="2"
                      style="width:100%;padding:14px;border-radius:12px;border:2px solid rgba(199,123,123,0.2);background:var(--card);color:var(--dark);resize:vertical"></textarea>
          </div>
        </div>

        <div style="background:rgba(199,123,123,0.05);padding:20px;border-radius:16px;margin-bottom:32px">
          <div style="display:flex;align-items:center;gap:12px;margin-bottom:12px">
            <i class="fas fa-info-circle" style="color:var(--rose)"></i>
            <div style="font-weight:600">How WhatsApp Checkout Works</div>
          </div>
          <ol style="margin:0;padding-left:20px;color:var(--muted);line-height:1.6">
            <li>Your order details will be sent via WhatsApp to our sales team</li>
            <li>We'll confirm availability and provide final pricing</li>
            <li>Choose delivery or pickup option</li>
            <li>Make payment via secure link or cash on delivery</li>
            <li>Receive your insured delivery within Dubai</li>
          </ol>
        </div>

        <div style="display:flex;gap:12px;justify-content:flex-end">
          <button class="btn btn-outline" onclick="closeCheckout()" style="padding:14px 28px">Cancel</button>
          <button class="btn btn-primary" onclick="sendOrderWhatsApp()" style="padding:14px 28px">
            <i class="fab fa-whatsapp"></i> Send Order via WhatsApp
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- NOTIFICATION TOAST -->
  <div id="notify" role="status" aria-live="polite"></div>

  <script>
  /***********************************************
   * CONFIGURATION - PRODUCTION SETTINGS *
   ***********************************************/
  const GOLD_API_KEY = 'goldapi-zw91ysmirop9ad-io'; // Replace with your actual GoldAPI.io key
  const WHATSAPP_NUMBER = '971543746476';
  const GITHUB_BASE_URL = 'https://raw.githubusercontent.com/ryaanjewellers007/ryaanjewellers/main/';
  const COMPANY_NAME = 'RYAAN JEWELLERS';
  const COMPANY_LOCATION = 'Dubai Gold Souk, Deira, Dubai, UAE';
  
  /********************* PRODUCTS DATABASE *********************/
  const messikaProducts = [
    {
      id: 100,
      name: "Messika Move Hoop Earrings",
      category: "Messika Collection",
      price: 8500,
      image: GITHUB_BASE_URL + "Messika-Move-Hoop-04407-YG.jpg",
      altImage: "https://images.unsplash.com/photo-1535632066927-ab7c9ab60908?w=800&h=600&fit=crop&q=80",
      type: "earrings",
      desc: "18K yellow gold move hoop earrings with brilliant-cut diamonds. Signature Messika moving diamonds design.",
      material: "18K Yellow Gold",
      stones: "Brilliant-cut Diamonds",
      weight: "8.2g",
      collection: "Messika Move",
      featured: true
    },
    {
      id: 101,
      name: "Messika Move Uno Mini Hoops",
      category: "Messika Collection",
      price: 7200,
      image: GITHUB_BASE_URL + "Messika-Move-UNO-Mini-Hoops-10050-WG-1.jpg",
      altImage: "https://images.unsplash.com/photo-1594576722512-582d5577dc56?w=800&h=600&fit=crop&q=80",
      type: "earrings",
      desc: "White gold mini hoop earrings with single moving diamond. Minimalist elegance with signature movement.",
      material: "18K White Gold",
      stones: "Single Brilliant-cut Diamond",
      weight: "6.5g",
      collection: "Messika Move Uno",
      featured: true
    }
  ];

  const allProducts = [
    {
      id: 1,
      name: "Van Cleef Inspired Onyx Bracelet",
      category: "Van Cleef Inspired",
      price: 9800,
      image: GITHUB_BASE_URL + "Vancleef%20Bracelet%20Onyx.jpg",
      altImage: "https://images.unsplash.com/photo-1535632066927-ab7c9ab60908?w=800&h=600&fit=crop&q=80",
      type: "bracelet",
      desc: "Luxury gold bracelet with black onyx and diamond accents. Inspired by classic Alhambra design.",
      material: "18K Yellow Gold",
      stones: "Black Onyx, Diamonds",
      weight: "22.5g",
      collection: "Alhambra Inspired",
      featured: true
    },
    {
      id: 2,
      name: "Van Cleef Inspired Carnelian Bracelet",
      category: "Van Cleef Inspired",
      price: 10200,
      image: GITHUB_BASE_URL + "Vancleef%20Bracelet%20Carnelian.jpg",
      altImage: "https://images.unsplash.com/photo-1599643478518-a784e5dc4c8f?w=800&h=600&fit=crop&q=80",
      type: "bracelet",
      desc: "Gold bracelet with vibrant carnelian stones. Four-leaf clover motif for luck and elegance.",
      material: "18K Rose Gold",
      stones: "Carnelian, Diamonds",
      weight: "24.8g",
      collection: "Alhambra Inspired",
      featured: true
    },
    {
      id: 3,
      name: "Serpenti Choker Necklace",
      category: "Bvlgari Inspired",
      price: 12500,
      image: GITHUB_BASE_URL + "Serpenti%20Bvulgari%20Chocker.jpg",
      altImage: "https://images.unsplash.com/photo-1599643478518-a784e5dc4c8f?w=800&h=600&fit=crop&q=80",
      type: "necklace",
      desc: "Iconic serpent design choker necklace with emerald eyes. A statement piece for evening wear.",
      material: "18K White Gold",
      stones: "Diamonds, Emerald Eyes",
      weight: "45.2g",
      collection: "Serpenti Inspired",
      featured: true
    },
    {
      id: 4,
      name: "Diamond Tennis Bracelet",
      category: "Classic Collection",
      price: 15600,
      image: GITHUB_BASE_URL + "tennis-bracelet.jpg",
      altImage: "https://images.unsplash.com/photo-1535632066927-ab7c9ab60908?w=800&h=600&fit=crop&q=80",
      type: "bracelet",
      desc: "Classic tennis bracelet with channel-set brilliant diamonds. Timeless elegance for any occasion.",
      material: "18K White Gold",
      stones: "Brilliant-cut Diamonds (2ct total)",
      weight: "18.6g",
      collection: "Classic Collection",
      featured: true
    },
    {
      id: 5,
      name: "Pear Drop Diamond Earrings",
      category: "Classic Collection",
      price: 8900,
      image: GITHUB_BASE_URL + "pear-earrings.jpg",
      altImage: "https://images.unsplash.com/photo-1594576722512-582d5577dc56?w=800&h=600&fit=crop&q=80",
      type: "earrings",
      desc: "Elegant pear-shaped diamond drop earrings with gold detailing. Perfect for formal events.",
      material: "18K White Gold",
      stones: "Pear-shaped Diamonds (1.5ct total)",
      weight: "9.8g",
      collection: "Classic Collection",
      featured: false
    },
    {
      id: 6,
      name: "Emerald Cut Solitaire Ring",
      category: "Engagement Collection",
      price: 22000,
      image: GITHUB_BASE_URL + "emerald-ring.jpg",
      altImage: "https://images.unsplash.com/photo-1535632066927-ab7c9ab60908?w=800&h=600&fit=crop&q=80",
      type: "ring",
      desc: "Stunning emerald-cut diamond solitaire ring with pave diamond band. Center stone 2.5ct.",
      material: "Platinum",
      stones: "Emerald-cut Diamond (2.5ct), Pave Diamonds",
      weight: "6.2g",
      collection: "Engagement Collection",
      featured: true
    },
    {
      id: 7,
      name: "Diamond Halo Pendant",
      category: "Pendant Collection",
      price: 6500,
      image: GITHUB_BASE_URL + "halo-pendant.jpg",
      altImage: "https://images.unsplash.com/photo-1599643478518-a784e5dc4c8f?w=800&h=600&fit=crop&q=80",
      type: "necklace",
      desc: "Round brilliant diamond with halo setting on delicate chain. Adjustable 16-18 inch chain.",
      material: "18K White Gold",
      stones: "Round Brilliant Diamond (0.75ct), Halo Diamonds",
      weight: "5.4g",
      collection: "Pendant Collection",
      featured: false
    },
    {
      id: 8,
      name: "Bangle Set with Sapphires",
      category: "Color Stone Collection",
      price: 13200,
      image: GITHUB_BASE_URL + "sapphire-bangle.jpg",
      altImage: "https://images.unsplash.com/photo-1535632066927-ab7c9ab60908?w=800&h=600&fit=crop&q=80",
      type: "bracelet",
      desc: "Matching bangle set featuring alternating diamonds and blue sapphires. Stackable design.",
      material: "18K Yellow Gold",
      stones: "Diamonds, Blue Sapphires",
      weight: "42.3g",
      collection: "Color Stone Collection",
      featured: true
    },
    {
      id: 9,
      name: "Three Stone Anniversary Ring",
      category: "Anniversary Collection",
      price: 18500,
      image: GITHUB_BASE_URL + "three-stone-ring.jpg",
      altImage: "https://images.unsplash.com/photo-1535632066927-ab7c9ab60908?w=800&h=600&fit=crop&q=80",
      type: "ring",
      desc: "Three brilliant diamonds representing past, present, and future. Channel-set band.",
      material: "Platinum",
      stones: "Three Round Diamonds (3ct total)",
      weight: "7.8g",
      collection: "Anniversary Collection",
      featured: false
    },
    {
      id: 10,
      name: "Butterfly Diamond Ring",
      category: "Messika Inspired",
      price: 4850,
      image: GITHUB_BASE_URL + "Butterfly%20Ring.jpg",
      altImage: "https://images.unsplash.com/photo-1594576722512-582d5577dc56?w=800&h=600&fit=crop&q=80",
      type: "ring",
      desc: "Delicate butterfly motif ring with diamond accents. Whimsical and feminine design.",
      material: "18K Rose Gold",
      stones: "Brilliant-cut Diamonds",
      weight: "4.2g",
      collection: "Nature Inspired",
      featured: true
    },
    ...messikaProducts
  ];

  /********************* APPLICATION STATE *********************/
  let cart = JSON.parse(localStorage.getItem('ryaanCart') || '[]');
  let currentSlide = 0;
  let autoSlide = null;
  let autoSlidePaused = false;
  let missingImages = [];
  let currentFilter = 'all';
  let currentSort = 'featured';
  let lastGoldUpdate = null;

  /********************* UTILITY FUNCTIONS *********************/
  function el(sel) { 
    return document.querySelector(sel); 
  }
  
  function els(sel) { 
    return document.querySelectorAll(sel); 
  }
  
  function showNotification(msg, type = 'info', duration = 3000) {
    const n = el('#notify'); 
    n.textContent = msg;
    
    // Set background based on type
    if (type === 'success') {
      n.style.background = 'linear-gradient(45deg, #4CAF50, #45a049)';
    } else if (type === 'warning') {
      n.style.background = 'linear-gradient(45deg, #FF9800, #e68900)';
    } else if (type === 'error') {
      n.style.background = 'linear-gradient(45deg, #F44336, #d32f2f)';
    } else {
      n.style.background = 'linear-gradient(45deg, var(--rose), var(--gold))';
    }
    
    n.style.display = 'block';
    n.style.transform = 'translateX(0)';
    
    // Auto-hide after duration
    setTimeout(() => {
      n.style.transform = 'translateX(100%)';
      setTimeout(() => n.style.display = 'none', 300);
    }, duration);
  }
  
  function escapeHtml(s) { 
    return String(s).replace(/[&<>"']/g, m => ({
      '&': '&amp;', '<': '&lt;', '>': '&gt;', '"': '&quot;', "'": '&#39;'
    }[m])); 
  }
  
  function formatCurrency(amount) {
    return 'AED ' + amount.toLocaleString('en-US', {
      minimumFractionDigits: 2,
      maximumFractionDigits: 2
    });
  }
  
  function formatTime(date) {
    return date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
  }
  
  /********************* SPLASH SCREEN MANAGEMENT *********************/
  const splash = el('#splash');
  const splashVideo = el('#splashVideo');
  const enterBtn = el('#enterBtn');
  const soundToggle = el('#soundToggle');
  
  // Initialize splash video
  if (splashVideo) {
    splashVideo.addEventListener('loadeddata', () => {
      console.log('Splash video loaded successfully');
    });
    
    splashVideo.addEventListener('error', () => {
      console.warn('Splash video failed to load, using fallback');
    });
  }
  
  // Sound toggle functionality
  soundToggle.addEventListener('click', () => {
    const pressed = soundToggle.getAttribute('aria-pressed') === 'true';
    const logoVid = document.getElementById('logoVid');
    
    if (pressed) {
      // Mute
      if (splashVideo) splashVideo.muted = true;
      if (logoVid) logoVid.muted = true;
      soundToggle.setAttribute('aria-pressed', 'false');
      soundToggle.innerHTML = '<i class="fas fa-volume-mute"></i> Enable Immersive Sound';
      showNotification('Sound muted', 'info', 2000);
    } else {
      // Unmute (with user interaction requirement)
      if (splashVideo) {
        splashVideo.muted = false;
        splashVideo.play().catch(e => {
          console.log('Autoplay prevented, user interaction required');
          splashVideo.muted = true; // Keep muted if autoplay fails
        });
      }
      if (logoVid) logoVid.muted = false;
      soundToggle.setAttribute('aria-pressed', 'true');
      soundToggle.innerHTML = '<i class="fas fa-volume-up"></i> Sound On';
      showNotification('Sound enabled', 'success', 2000);
    }
  });
  
  // Enter site functionality
  enterBtn.addEventListener('click', () => {
    hideSplash();
    // Auto-unmute on enter if user interacted
    if (splashVideo) {
      splashVideo.muted = false;
      splashVideo.play().catch(() => {
        // Autoplay prevented, keep muted
        splashVideo.muted = true;
      });
    }
  });
  
  // Auto-hide splash after timeout
  setTimeout(() => {
    if (splash && splash.style.display !== 'none') {
      hideSplash();
    }
  }, 8000);
  
  function hideSplash() {
    if (!splash) return;
    
    // Add fade-out animation
    splash.style.opacity = '0';
    splash.style.pointerEvents = 'none';
    splash.style.transition = 'opacity 0.65s ease';
    
    setTimeout(() => {
      splash.style.display = 'none';
      // Trigger initial animations
      document.body.classList.add('splash-hidden');
    }, 650);
  }
  
  /********************* GOLD RATES INTEGRATION *********************/
  async function fetchGoldRates(forceRefresh = false) {
    const el24 = el('#rate24');
    const el22 = el('#rate22');
    const el18 = el('#rate18');
    const elTime = el('#rateTimeText');
    const apiStatus = el('#apiStatus');
    const goldSource = el('#goldSource');
    const marketTrend = el('#marketTrend');
    
    // Show loading state
    el24.textContent = '...';
    el22.textContent = '...';
    el18.textContent = '...';
    elTime.textContent = 'Fetching...';
    apiStatus.textContent = 'Connecting...';
    apiStatus.className = 'api-status';
    
    try {
      // Check if we should use real API or fallback
      const useRealAPI = GOLD_API_KEY && !GOLD_API_KEY.includes('goldapi-zw91ysmirop9ad-io');
      
      if (!useRealAPI) {
        // Use fallback rates with realistic Dubai prices
        throw new Error('Using sample rates - Update GOLD_API_KEY for live data');
      }
      
      // Fetch from GoldAPI.io
      console.log('Fetching gold rates from GoldAPI...');
      const response = await fetch('https://www.goldapi.io/api/XAU/AED', {
        headers: {
          'x-access-token': GOLD_API_KEY,
          'Content-Type': 'application/json'
        },
        cache: forceRefresh ? 'no-cache' : 'default'
      });
      
      if (!response.ok) {
        const errorText = await response.text();
        console.error('Gold API error:', response.status, errorText);
        throw new Error(`API error: ${response.status}`);
      }
      
      const data = await response.json();
      
      if (data.error) {
        throw new Error(data.error);
      }
      
      // Convert price from per ounce to per gram
      // 1 troy ounce = 31.1034768 grams
      const pricePerOunce = data.price;
      const pricePerGram = pricePerOunce / 31.1034768;
      
      // Calculate karat prices
      const price24K = pricePerGram;
      const price22K = pricePerGram * (22/24); // 91.7% purity
      const price18K = pricePerGram * (18/24); // 75% purity
      
      // Update display
      el24.textContent = formatCurrency(price24K);
      el22.textContent = formatCurrency(price22K);
      el18.textContent = formatCurrency(price18K);
      
      // Update timestamp
      const updateTime = data.timestamp ? 
        new Date(data.timestamp * 1000) : new Date();
      lastGoldUpdate = updateTime;
      
      elTime.textContent = `Live: ${formatTime(updateTime)}`;
      
      // Update market trend
      const change = data.ch || 0;
      if (change > 0) {
        marketTrend.innerHTML = '<i class="fas fa-arrow-up" style="color:#4CAF50"></i> Rising';
        marketTrend.style.color = '#4CAF50';
      } else if (change < 0) {
        marketTrend.innerHTML = '<i class="fas fa-arrow-down" style="color:#F44336"></i> Falling';
        marketTrend.style.color = '#F44336';
      } else {
        marketTrend.innerHTML = '<i class="fas fa-minus" style="color:#FF9800"></i> Stable';
        marketTrend.style.color = '#FF9800';
      }
      
      // Update API status
      apiStatus.textContent = 'Live';
      apiStatus.className = 'api-status';
      goldSource.textContent = 'Source: GoldAPI.io - Live Market Data';
      
      console.log('Gold rates updated successfully:', {
        '24K': price24K,
        '22K': price22K,
        '18K': price18K,
        timestamp: updateTime.toISOString()
      });
      
      // Show success notification if force refresh
      if (forceRefresh) {
        showNotification('Gold rates updated successfully', 'success');
      }
      
    } catch (error) {
      console.warn('Failed to fetch live gold rates:', error.message);
      
      // Fallback to realistic Dubai gold rates (sample data)
      const baseRate = 242.75; // Realistic Dubai 24K gold rate
      const randomFluctuation = (Math.random() * 4 - 2); // Â±2 AED fluctuation
      const currentRate = baseRate + randomFluctuation;
      
      el24.textContent = formatCurrency(currentRate);
      el22.textContent = formatCurrency(currentRate * (22/24));
      el18.textContent = formatCurrency(currentRate * (18/24));
      
      // Update timestamp
      const now = new Date();
      lastGoldUpdate = now;
      elTime.textContent = `Sample: ${formatTime(now)}`;
      
      // Update market trend (random for sample)
      const trends = ['Rising', 'Stable', 'Falling'];
      const trend = trends[Math.floor(Math.random() * trends.length)];
      marketTrend.textContent = trend;
      marketTrend.style.color = trend === 'Rising' ? '#4CAF50' : 
                                trend === 'Falling' ? '#F44336' : '#FF9800';
      
      // Update API status based on error
      if (error.message.includes('sample rates')) {
        apiStatus.textContent = 'Sample';
        apiStatus.className = 'api-status sample';
        goldSource.textContent = 'Sample rates - Add real API key for live data';
        showNotification('Using sample gold rates. Update GOLD_API_KEY for live data.', 'warning');
      } else if (error.message.includes('401') || error.message.includes('403')) {
        apiStatus.textContent = 'Invalid Key';
        apiStatus.className = 'api-status error';
        goldSource.textContent = 'API key invalid. Check your GoldAPI subscription.';
        showNotification('Gold API key invalid. Please update your API key.', 'error');
      } else {
        apiStatus.textContent = 'Offline';
        apiStatus.className = 'api-status error';
        goldSource.textContent = 'Network error - Using sample rates';
        showNotification('Network error. Using sample gold rates.', 'warning');
      }
    }
  }
  
  // Test API connection
  async function testGoldAPI() {
    try {
      const response = await fetch('https://www.goldapi.io/api/status/XAU/AED', {
        headers: {
          'x-access-token': GOLD_API_KEY,
          'Content-Type': 'application/json'
        }
      });
      
      console.log('API Test - Status:', response.status);
      
      if (response.ok) {
        showNotification('Gold API connected successfully!', 'success');
        return true;
      } else {
        showNotification(`API error: ${response.status}`, 'warning');
        return false;
      }
    } catch (error) {
      console.error('API test failed:', error);
      showNotification('Gold API test failed. Using fallback rates.', 'warning');
      return false;
    }
  }
  
  // Initialize gold rates
  fetchGoldRates();
  
  // Test API after 3 seconds
  setTimeout(testGoldAPI, 3000);
  
  // Auto-refresh every 5 minutes
  setInterval(() => fetchGoldRates(), 300000);
  
  /********************* IMAGE HANDLING *********************/
  function checkImage(url) { 
    return new Promise(resolve => { 
      if (!url) return resolve(false);
      const img = new Image();
      img.onload = () => resolve(true);
      img.onerror = () => resolve(false);
      img.src = url;
    }); 
  }
  
  function getProductImage(product) {
    // Return placeholder if no image
    if (!product.image && !product.altImage) {
      return getPlaceholderImage(product.name);
    }
    
    // Check if it's a GitHub URL
    if (product.image && product.image.startsWith(GITHUB_BASE_URL)) {
      // Try to construct a fallback if GitHub image fails
      return product.image;
    }
    
    return product.image || product.altImage;
  }
  
  function getPlaceholderImage(text = 'Luxury Jewellery') {
    // Create a SVG placeholder with product initial
    const initial = text.charAt(0);
    const color = 'C77B7B';
    const bgColor = 'F8F4F4';
    
    return `data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='300' viewBox='0 0 400 300'%3E%3Crect width='400' height='300' fill='%23${bgColor}'/%3E%3Ccircle cx='200' cy='150' r='80' fill='none' stroke='%23${color}' stroke-width='2' stroke-dasharray='5,5'/%3E%3Ctext x='200' y='160' font-family='Cinzel, serif' font-size='48' fill='%23${color}' text-anchor='middle' dy='.3em'%3E${initial}%3C/text%3E%3Ctext x='200' y='220' font-family='Inter, sans-serif' font-size='14' fill='%23888888' text-anchor='middle'%3E${encodeURIComponent(text)}%3C/text%3E%3C/svg%3E`;
  }
  
  /********************* SLIDER FUNCTIONALITY *********************/
  async function renderSlider() {
    const track = el('#sliderTrack');
    if (!track) return;
    
    track.innerHTML = '';
    // Get featured products
    const featured = allProducts.filter(p => p.featured).slice(0, 6);
    
    for (const p of featured) {
      const imageUrl = getProductImage(p);
      const ok = await checkImage(imageUrl);
      
      if (!ok) {
        missingImages.push({ name: p.name, url: imageUrl });
      }
      
      const slide = document.createElement('div');
      slide.className = 'slide';
      slide.setAttribute('role', 'listitem');
      slide.innerHTML = `
        <div class="product-badge">Featured</div>
        <img src="${ok ? imageUrl : getPlaceholderImage(p.name)}" 
             alt="${escapeHtml(p.name)}" 
             loading="lazy"
             onerror="this.src='${getPlaceholderImage(p.name)}'">
        <div class="meta">
          <div class="slide-category">${escapeHtml(p.category)}</div>
          <div class="slide-name">${escapeHtml(p.name)}</div>
          <div class="slide-price">${formatCurrency(p.price)}</div>
          <p style="font-size:13px;color:var(--muted);margin:12px 0;line-height:1.5">
            ${escapeHtml(p.desc.substring(0, 80))}...
          </p>
          <div style="display:flex;gap:12px;margin-top:16px">
            <button class="btn btn-primary" onclick="addToCart(${p.id})" style="flex:1">
              <i class="fas fa-cart-plus"></i> Add
            </button>
            <button class="btn btn-outline" onclick="showProductModal(${p.id})" style="flex:1">
              <i class="fas fa-eye"></i> View
            </button>
          </div>
        </div>
      `;
      track.appendChild(slide);
    }
    
    updateSliderPosition();
    if (!autoSlidePaused) {
      startAutoSlide();
    }
  }
  
  function updateSliderPosition() {
    const track = el('#sliderTrack');
    const slides = document.querySelectorAll('.slide');
    if (slides.length === 0) return;
    
    const slideWidth = slides[0].offsetWidth + 20; // Include gap
    track.style.transform = `translateX(${-currentSlide * slideWidth}px)`;
  }
  
  function nextSlide() {
    const slides = document.querySelectorAll('.slide');
    if (slides.length === 0) return;
    
    currentSlide = (currentSlide + 1) % slides.length;
    updateSliderPosition();
    if (!autoSlidePaused) {
      resetAutoSlide();
    }
  }
  
  function prevSlide() {
    const slides = document.querySelectorAll('.slide');
    if (slides.length === 0) return;
    
    currentSlide = (currentSlide - 1 + slides.length) % slides.length;
    updateSliderPosition();
    if (!autoSlidePaused) {
      resetAutoSlide();
    }
  }
  
  function startAutoSlide() {
    clearInterval(autoSlide);
    autoSlide = setInterval(nextSlide, 5000);
  }
  
  function resetAutoSlide() {
    clearInterval(autoSlide);
    startAutoSlide();
  }
  
  function pauseAutoSlide() {
    const pauseBtn = el('#pauseBtn');
    if (!autoSlidePaused) {
      clearInterval(autoSlide);
      autoSlidePaused = true;
      pauseBtn.innerHTML = '<i class="fas fa-play"></i>';
      pauseBtn.setAttribute('aria-label', 'Play auto-slide');
      showNotification('Slider paused', 'info', 2000);
    } else {
      startAutoSlide();
      autoSlidePaused = false;
      pauseBtn.innerHTML = '<i class="fas fa-pause"></i>';
      pauseBtn.setAttribute('aria-label', 'Pause auto-slide');
      showNotification('Slider resumed', 'success', 2000);
    }
  }
  
  /********************* PRODUCTS GRID FUNCTIONALITY *********************/
  async function renderProducts() {
    const grid = el('#productsGrid');
    const loading = el('#productsLoading');
    
    if (!grid) return;
    
    // Show loading
    grid.innerHTML = '';
    loading.style.display = 'block';
    
    // Apply filters and sorting
    let filteredProducts = [...allProducts];
    
    // Search filter
    const searchQuery = (el('#searchInput').value || '').trim().toLowerCase();
    if (searchQuery) {
      filteredProducts = filteredProducts.filter(p => 
        p.name.toLowerCase().includes(searchQuery) ||
        (p.desc && p.desc.toLowerCase().includes(searchQuery)) ||
        (p.category && p.category.toLowerCase().includes(searchQuery)) ||
        (p.collection && p.collection.toLowerCase().includes(searchQuery))
      );
    }
    
    // Category/type filter
    if (currentFilter !== 'all') {
      if (currentFilter.startsWith('category:')) {
        const category = currentFilter.replace('category:', '');
        filteredProducts = filteredProducts.filter(p => p.category === category);
      } else {
        filteredProducts = filteredProducts.filter(p => p.type === currentFilter);
      }
    }
    
    // Apply sorting
    switch (currentSort) {
      case 'price-asc':
        filteredProducts.sort((a, b) => a.price - b.price);
        break;
      case 'price-desc':
        filteredProducts.sort((a, b) => b.price - a.price);
        break;
      case 'name-asc':
        filteredProducts.sort((a, b) => a.name.localeCompare(b.name));
        break;
      case 'newest':
        // Assuming newer products have higher IDs
        filteredProducts.sort((a, b) => b.id - a.id);
        break;
      case 'featured':
      default:
        filteredProducts.sort((a, b) => (b.featured ? 1 : 0) - (a.featured ? 1 : 0));
        break;
    }
    
    // Clear missing images for this render
    missingImages = [];
    
    // Render products
    for (const p of filteredProducts) {
      const imageUrl = getProductImage(p);
      const ok = await checkImage(imageUrl);
      
      if (!ok) {
        missingImages.push({ name: p.name, url: imageUrl });
      }
      
      const productCard = document.createElement('div');
      productCard.className = 'product';
      productCard.setAttribute('role', 'listitem');
      
      // Create badge if featured
      const badge = p.featured ? '<div class="product-badge">Featured</div>' : '';
      
      productCard.innerHTML = `
        ${badge}
        <img src="${ok ? imageUrl : getPlaceholderImage(p.name)}" 
             alt="${escapeHtml(p.name)}" 
             loading="lazy"
             onerror="this.src='${getPlaceholderImage(p.name)}'">
        <div class="info">
          <div style="font-size:12px;color:var(--muted);margin-bottom:8px;text-transform:uppercase;letter-spacing:0.5px">
            ${escapeHtml(p.category)}
          </div>
          <div class="name">${escapeHtml(p.name)}</div>
          <div class="desc">${escapeHtml(p.desc.substring(0, 100))}...</div>
          <div style="margin-top:16px;display:flex;justify-content:space-between;align-items:center">
            <div class="price">${formatCurrency(p.price)}</div>
            <div class="product-actions">
              <button class="btn btn-outline" onclick="showProductModal(${p.id})" title="View details">
                <i class="fas fa-eye"></i>
              </button>
              <button class="btn btn-primary" onclick="addToCart(${p.id})" title="Add to cart">
                <i class="fas fa-cart-plus"></i>
              </button>
            </div>
          </div>
        </div>
      `;
      
      grid.appendChild(productCard);
    }
    
    // Hide loading
    loading.style.display = 'none';
    
    // Show debug info if missing images
    if (missingImages.length > 0) {
      el('#debugSection').style.display = 'block';
      const debugList = el('#debugList');
      debugList.innerHTML = '';
      
      missingImages.forEach(m => {
        const li = document.createElement('li');
        li.innerHTML = `<strong>${escapeHtml(m.name)}</strong> â€” <code>${escapeHtml(m.url.replace(GITHUB_BASE_URL, ''))}</code>`;
        debugList.appendChild(li);
      });
    } else {
      el('#debugSection').style.display = 'none';
    }
    
    // Update cart UI
    updateCartUI();
  }
  
  function applyFilter(type, btn) {
    // Update active button
    document.querySelectorAll('#filterRow button').forEach(b => b.classList.remove('active'));
    if (btn) btn.classList.add('active');
    
    // Apply filter
    currentFilter = type;
    renderProducts();
    
    // Scroll to products
    document.getElementById('collections').scrollIntoView({ behavior: 'smooth' });
  }
  
  function applyFilterByCategory(cat, btn) {
    applyFilter('category:' + cat, btn);
  }
  
  function applySort(val) {
    currentSort = val;
    renderProducts();
  }
  
  // Search functionality
  el('#searchBtn').addEventListener('click', () => renderProducts());
  el('#searchInput').addEventListener('keydown', e => {
    if (e.key === 'Enter') {
      renderProducts();
      e.preventDefault();
    }
  });
  
  // Search debounce
  let searchTimer;
  el('#searchInput').addEventListener('input', () => {
    clearTimeout(searchTimer);
    searchTimer = setTimeout(() => renderProducts(), 500);
  });
  
  /********************* CART MANAGEMENT *********************/
  function saveCart() {
    localStorage.setItem('ryaanCart', JSON.stringify(cart));
    updateCartUI();
  }
  
  function updateCartUI() {
    // Update cart count
    const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
    const cartCount = el('#cartCount');
    
    if (totalItems > 0) {
      cartCount.textContent = totalItems > 99 ? '99+' : totalItems.toString();
      cartCount.style.display = 'inline-flex';
    } else {
      cartCount.style.display = 'none';
    }
    
    // Update cart preview
    const preview = el('#cartPreview');
    if (!preview) return;
    
    if (cart.length === 0) {
      preview.innerHTML = `
        <div style="text-align:center;padding:32px;color:var(--muted)">
          <i class="fas fa-shopping-bag" style="font-size:32px;margin-bottom:16px;opacity:0.5"></i>
          <div style="font-weight:600;margin-bottom:8px">Your cart is empty</div>
          <div style="font-size:14px">Add luxurious pieces to begin</div>
        </div>
      `;
      el('#cartSubtotal').textContent = formatCurrency(0);
      return;
    }
    
    let total = 0;
    preview.innerHTML = '';
    
    cart.forEach((item, index) => {
      const itemTotal = item.price * item.quantity;
      total += itemTotal;
      
      const cartItem = document.createElement('div');
      cartItem.className = 'cart-item';
      cartItem.innerHTML = `
        <img src="${item.image || getPlaceholderImage(item.name)}" 
             alt="${escapeHtml(item.name)}"
             onerror="this.src='${getPlaceholderImage(item.name)}'">
        <div class="cart-item-info">
          <div class="cart-item-name">${escapeHtml(item.name)}</div>
          <div class="cart-item-price">${formatCurrency(item.price)} Ã— ${item.quantity}</div>
        </div>
        <div class="cart-quantity-controls">
          <button class="cart-quantity-btn" onclick="updateQuantity(${index}, ${item.quantity - 1})" 
                  ${item.quantity <= 1 ? 'disabled' : ''}>
            <i class="fas fa-minus"></i>
          </button>
          <span style="font-weight:700;min-width:24px;text-align:center">${item.quantity}</span>
          <button class="cart-quantity-btn" onclick="updateQuantity(${index}, ${item.quantity + 1})">
            <i class="fas fa-plus"></i>
          </button>
        </div>
      `;
      preview.appendChild(cartItem);
    });
    
    // Update totals
    el('#cartSubtotal').textContent = formatCurrency(total);
    
    // Update modal if open
    updateCartModal();
  }
  
  function updateCartModal() {
    const modalItems = el('#cartModalItems');
    const modalTotal = el('#cartModalTotal');
    
    if (!modalItems || !modalTotal) return;
    
    if (cart.length === 0) {
      modalItems.innerHTML = `
        <div style="text-align:center;padding:40px;color:var(--muted)">
          <i class="fas fa-shopping-bag" style="font-size:48px;margin-bottom:20px;opacity:0.5"></i>
          <div style="font-weight:600;font-size:18px;margin-bottom:12px">Your cart is empty</div>
          <div style="font-size:14px">Add luxurious pieces to begin your collection</div>
        </div>
      `;
      modalTotal.textContent = formatCurrency(0);
      return;
    }
    
    let total = 0;
    modalItems.innerHTML = '';
    
    cart.forEach((item, index) => {
      const itemTotal = item.price * item.quantity;
      total += itemTotal;
      
      const itemEl = document.createElement('div');
      itemEl.style.padding = '16px 0';
      itemEl.style.borderBottom = '1px solid rgba(199,123,123,0.1)';
      itemEl.innerHTML = `
        <div style="display:flex;justify-content:space-between;align-items:flex-start;gap:16px">
          <div style="flex:1">
            <div style="font-weight:700;margin-bottom:4px">${escapeHtml(item.name)}</div>
            <div style="font-size:14px;color:var(--muted);margin-bottom:8px">
              Qty: ${item.quantity} Ã— ${formatCurrency(item.price)}
            </div>
            <div style="display:flex;gap:8px">
              <button class="icon-btn" onclick="updateQuantity(${index}, ${item.quantity - 1})" 
                      style="padding:4px 8px;font-size:12px" ${item.quantity <= 1 ? 'disabled' : ''}>
                <i class="fas fa-minus"></i>
              </button>
              <button class="icon-btn" onclick="updateQuantity(${index}, ${item.quantity + 1})" 
                      style="padding:4px 8px;font-size:12px">
                <i class="fas fa-plus"></i>
              </button>
              <button class="icon-btn" onclick="removeFromCart(${index})" 
                      style="padding:4px 8px;font-size:12px;color:var(--error)">
                <i class="fas fa-trash"></i>
              </button>
            </div>
          </div>
          <div style="font-weight:900;font-size:18px;color:var(--rose)">
            ${formatCurrency(itemTotal)}
          </div>
        </div>
      `;
      modalItems.appendChild(itemEl);
    });
    
    modalTotal.textContent = formatCurrency(total);
  }
  
  function addToCart(id) {
    const product = allProducts.find(p => p.id === id);
    if (!product) {
      showNotification('Product not found', 'error');
      return;
    }
    
    // Check if product already in cart
    const existingItem = cart.find(item => item.id === id);
    
    if (existingItem) {
      existingItem.quantity += 1;
    } else {
      cart.push({
        id: product.id,
        name: product.name,
        price: product.price,
        image: product.image || getPlaceholderImage(product.name),
        quantity: 1,
        category: product.category
      });
    }
    
    saveCart();
    showNotification(`Added ${product.name} to cart`, 'success');
  }
  
  function updateQuantity(index, newQuantity) {
    if (newQuantity < 1) {
      cart.splice(index, 1);
    } else {
      cart[index].quantity = newQuantity;
    }
    saveCart();
  }
  
  function removeFromCart(index) {
    if (index >= 0 && index < cart.length) {
      const itemName = cart[index].name;
      cart.splice(index, 1);
      saveCart();
      showNotification(`Removed ${itemName} from cart`, 'success');
    }
  }
  
  function clearCart() {
    if (cart.length === 0) {
      showNotification('Cart is already empty', 'info');
      return;
    }
    
    if (confirm('Are you sure you want to clear your cart?')) {
      cart = [];
      saveCart();
      showNotification('Cart cleared', 'success');
    }
  }
  
  function openCart() {
    updateCartModal();
    el('#cartModal').style.display = 'flex';
    document.body.style.overflow = 'hidden';
  }
  
  function closeCart() {
    el('#cartModal').style.display = 'none';
    document.body.style.overflow = 'auto';
  }
  
  /********************* CHECKOUT FUNCTIONALITY *********************/
  function openCheckout() {
    if (cart.length === 0) {
      showNotification('Your cart is empty', 'warning');
      return;
    }
    
    const checkoutItems = el('#checkoutItems');
    if (!checkoutItems) return;
    
    let total = 0;
    checkoutItems.innerHTML = '';
    
    cart.forEach(item => {
      const itemTotal = item.price * item.quantity;
      total += itemTotal;
      
      const itemEl = document.createElement('div');
      itemEl.style.padding = '12px 0';
      itemEl.style.borderBottom = '1px solid rgba(199,123,123,0.1)';
      itemEl.innerHTML = `
        <div style="display:flex;justify-content:space-between;align-items:center">
          <div style="flex:1">
            <div style="font-weight:700;margin-bottom:4px">${escapeHtml(item.name)}</div>
            <div style="font-size:13px;color:var(--muted)">
              Qty: ${item.quantity} Ã— ${formatCurrency(item.price)}
            </div>
          </div>
          <div style="font-weight:900;color:var(--rose)">
            ${formatCurrency(itemTotal)}
          </div>
        </div>
      `;
      checkoutItems.appendChild(itemEl);
    });
    
    // Add total row
    const totalEl = document.createElement('div');
    totalEl.style.padding = '16px 0';
    totalEl.style.borderTop = '2px solid rgba(199,123,123,0.2)';
    totalEl.style.marginTop = '16px';
    totalEl.innerHTML = `
      <div style="display:flex;justify-content:space-between;align-items:center">
        <div style="font-weight:900;font-size:18px">Total</div>
        <div style="font-weight:900;font-size:24px;color:var(--rose)">
          ${formatCurrency(total)}
        </div>
      </div>
    `;
    checkoutItems.appendChild(totalEl);
    
    // Clear form fields
    el('#custName').value = '';
    el('#custPhone').value = '';
    el('#custAddress').value = '';
    el('#custNotes').value = '';
    
    // Show modal
    el('#checkoutModal').style.display = 'flex';
    document.body.style.overflow = 'hidden';
  }
  
  function closeCheckout() {
    el('#checkoutModal').style.display = 'none';
    document.body.style.overflow = 'auto';
  }
  
  function sendOrderWhatsApp() {
    // Get customer details
    const name = el('#custName').value.trim();
    const phone = el('#custPhone').value.trim();
    const address = el('#custAddress').value.trim();
    const notes = el('#custNotes').value.trim();
    
    // Validate inputs
    if (!name || !phone || !address) {
      showNotification('Please fill in all required fields (Name, Phone, Address)', 'error');
      return;
    }
    
    // Format phone number
    let formattedPhone = phone.replace(/\D/g, '');
    
    // Handle UAE numbers
    if (formattedPhone.startsWith('0') && formattedPhone.length === 10) {
      formattedPhone = '971' + formattedPhone.slice(1);
    } else if (formattedPhone.length === 9) {
      formattedPhone = '971' + formattedPhone;
    } else if (!formattedPhone.startsWith('971') && formattedPhone.length === 10) {
      formattedPhone = '971' + formattedPhone;
    }
    
    // If still doesn't look like UAE number, use WhatsApp number as fallback
    if (!formattedPhone.startsWith('971') || formattedPhone.length < 9) {
      formattedPhone = WHATSAPP_NUMBER;
    }
    
    // Build order message
    let message = `ðŸ›ï¸ *RYAAN JEWELLERS - NEW ORDER* ðŸ›ï¸\n\n`;
    message += `*Customer Details:*\n`;
    message += `ðŸ‘¤ Name: ${name}\n`;
    message += `ðŸ“± Phone: ${phone}\n`;
    message += `ðŸ“ Address: ${address}\n`;
    if (notes) {
      message += `ðŸ“ Notes: ${notes}\n`;
    }
    message += `\n---\n\n`;
    message += `*Order Items:*\n`;
    
    let total = 0;
    cart.forEach((item, index) => {
      const itemTotal = item.price * item.quantity;
      total += itemTotal;
      message += `${index + 1}. ${item.name}\n`;
      message += `   Quantity: ${item.quantity}\n`;
      message += `   Price: ${formatCurrency(item.price)} each\n`;
      message += `   Subtotal: ${formatCurrency(itemTotal)}\n\n`;
    });
    
    message += `---\n\n`;
    message += `*Order Summary:*\n`;
    message += `ðŸ“¦ Items: ${cart.reduce((sum, item) => sum + item.quantity, 0)}\n`;
    message += `ðŸ’° Subtotal: ${formatCurrency(total)}\n`;
    message += `ðŸšš Delivery: FREE (Dubai)\n`;
    message += `ðŸ’Ž *TOTAL: ${formatCurrency(total)}*\n\n`;
    message += `---\n\n`;
    message += `*Order Information:*\n`;
    message += `ðŸ†” Order ID: RYAAN-${Date.now().toString().slice(-6)}\n`;
    message += `ðŸ“… Date: ${new Date().toLocaleDateString('en-GB')}\n`;
    message += `ðŸ•’ Time: ${new Date().toLocaleTimeString('en-GB', { hour: '2-digit', minute: '2-digit' })}\n\n`;
    message += `Please confirm availability and provide:\n`;
    message += `1. Final pricing confirmation\n`;
    message += `2. Estimated delivery time\n`;
    message += `3. Payment options\n`;
    message += `4. Any additional charges (if applicable)`;
    
    // Create WhatsApp URL
    const encodedMessage = encodeURIComponent(message);
    const whatsappURL = `https://wa.me/${formattedPhone}?text=${encodedMessage}`;
    
    // Open WhatsApp
    window.open(whatsappURL, '_blank');
    
    // Clear cart and close modal
    cart = [];
    saveCart();
    closeCheckout();
    closeCart();
    
    // Show success message
    showNotification('Order sent via WhatsApp! Our team will contact you shortly.', 'success');
  }
  
  /********************* CUSTOM DESIGN FUNCTIONALITY *********************/
  function openCustomInquiry() {
    const message = `ðŸ›ï¸ *RYAAN JEWELLERS - CUSTOM DESIGN INQUIRY* ðŸ›ï¸\n\n`;
    message += `Hello RYAAN team,\n\n`;
    message += `I'm interested in creating a custom jewellery piece. Please contact me to discuss:\n\n`;
    message += `â€¢ Design ideas and inspiration\n`;
    message += `â€¢ Material preferences (gold type, diamonds, gemstones)\n`;
    message += `â€¢ Budget range\n`;
    message += `â€¢ Timeline requirements\n\n`;
    message += `Looking forward to creating something beautiful together!`;
    
    const encodedMessage = encodeURIComponent(message);
    const whatsappURL = `https://wa.me/${WHATSAPP_NUMBER}?text=${encodedMessage}`;
    
    window.open(whatsappURL, '_blank');
    showNotification('Opening WhatsApp for custom design consultation', 'success');
  }
  
  /********************* PRODUCT MODAL FUNCTIONALITY *********************/
  async function showProductModal(id) {
    const product = allProducts.find(p => p.id === id);
    if (!product) return;
    
    const modalContent = el('#productModalContent');
    if (!modalContent) return;
    
    // Get product image
    const imageUrl = getProductImage(product);
    const imageOk = await checkImage(imageUrl);
    
    // Build modal content
    modalContent.innerHTML = `
      <div>
        <img src="${imageOk ? imageUrl : getPlaceholderImage(product.name)}" 
             alt="${escapeHtml(product.name)}"
             style="width:100%;height:auto;max-height:500px;object-fit:cover;border-radius:16px"
             onerror="this.src='${getPlaceholderImage(product.name)}'">
        <div style="display:flex;gap:12px;margin-top:20px">
          <button class="btn btn-primary" onclick="addToCart(${product.id}); closeProductModal();" style="flex:1">
            <i class="fas fa-cart-plus"></i> Add to Cart
          </button>
          <button class="btn btn-outline" onclick="openCheckout()" style="flex:1">
            <i class="fas fa-bolt"></i> Quick Buy
          </button>
        </div>
      </div>
      <div>
        <h3 style="margin-top:0;font-size:28px;color:var(--dark);margin-bottom:12px">${escapeHtml(product.name)}</h3>
        <div style="color:var(--rose);font-weight:900;font-size:32px;margin-bottom:24px">${formatCurrency(product.price)}</div>
        
        <div style="margin-bottom:24px">
          <div style="font-weight:700;color:var(--dark);margin-bottom:8px">Description</div>
          <p style="color:var(--muted);line-height:1.6">${escapeHtml(product.desc)}</p>
        </div>
        
        <div style="background:rgba(199,123,123,0.05);padding:20px;border-radius:16px;margin-bottom:24px">
          <div style="font-weight:700;color:var(--dark);margin-bottom:16px">Product Details</div>
          <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px">
            <div>
              <div style="font-size:12px;color:var(--muted);margin-bottom:4px">Category</div>
              <div style="font-weight:600">${escapeHtml(product.category)}</div>
            </div>
            <div>
              <div style="font-size:12px;color:var(--muted);margin-bottom:4px">Collection</div>
              <div style="font-weight:600">${escapeHtml(product.collection || 'Classic')}</div>
            </div>
            <div>
              <div style="font-size:12px;color:var(--muted);margin-bottom:4px">Material</div>
              <div style="font-weight:600">${escapeHtml(product.material || '18K Gold')}</div>
            </div>
            <div>
              <div style="font-size:12px;color:var(--muted);margin-bottom:4px">Stones</div>
              <div style="font-weight:600">${escapeHtml(product.stones || 'Diamonds')}</div>
            </div>
          </div>
        </div>
        
        <div style="font-size:14px;color:var(--muted);line-height:1.6">
          <i class="fas fa-shipping-fast"></i> Free insured delivery in Dubai within 3-5 business days.<br>
          <i class="fas fa-award"></i> Includes certificate of authenticity and lifetime warranty.<br>
          <i class="fas fa-undo"></i> 30-day return policy for unused items.
        </div>
      </div>
    `;
    
    // Show modal
    el('#productModal').style.display = 'flex';
    document.body.style.overflow = 'hidden';
  }
  
  function closeProductModal() {
    el('#productModal').style.display = 'none';
    document.body.style.overflow = 'auto';
  }
  
  /********************* PAYMENT PLACEHOLDER *********************/
  function payPlaceholder() {
    showNotification(
      'Card payment integration coming soon! Currently accepting WhatsApp orders, cash on delivery, and bank transfer. Contact us for details.',
      'info',
      5000
    );
  }
  
  /********************* THEME & DIRECTION MANAGEMENT *********************/
  function applySavedPreferences() {
    // Theme
    const savedTheme = localStorage.getItem('ryaan_theme') || 'auto';
    const themeToggleIcon = el('#themeToggle i');
    
    if (savedTheme === 'auto') {
      const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
      document.documentElement.setAttribute('data-theme', prefersDark ? 'dark' : 'light');
      themeToggleIcon.className = prefersDark ? 'fas fa-sun' : 'fas fa-moon';
    } else {
      document.documentElement.setAttribute('data-theme', savedTheme);
      themeToggleIcon.className = savedTheme === 'dark' ? 'fas fa-sun' : 'fas fa-moon';
    }
    
    // Direction
    const savedDir = localStorage.getItem('ryaan_dir') || 'ltr';
    document.documentElement.dir = savedDir;
    el('#dirText').textContent = savedDir === 'ltr' ? 'AR' : 'EN';
  }
  
  // Initialize preferences
  applySavedPreferences();
  
  // Theme toggle
  el('#themeToggle').addEventListener('click', () => {
    const current = localStorage.getItem('ryaan_theme') || 'auto';
    let next;
    
    if (current === 'auto') {
      next = 'dark';
    } else if (current === 'dark') {
      next = 'light';
    } else {
      next = 'auto';
    }
    
    localStorage.setItem('ryaan_theme', next);
    applySavedPreferences();
    
    const messages = {
      'auto': 'Theme: Auto (System)',
      'dark': 'Theme: Dark',
      'light': 'Theme: Light'
    };
    showNotification(messages[next], 'success');
  });
  
  // Direction toggle
  el('#dirToggle').addEventListener('click', () => {
    const current = document.documentElement.dir || 'ltr';
    const next = current === 'ltr' ? 'rtl' : 'ltr';
    
    document.documentElement.dir = next;
    localStorage.setItem('ryaan_dir', next);
    el('#dirText').textContent = next === 'ltr' ? 'AR' : 'EN';
    
    showNotification(`Direction: ${next.toUpperCase()}`, 'success');
  });
  
  /********************* INITIALIZATION *********************/
  async function init() {
    try {
      // Render initial content
      await renderSlider();
      await renderProducts();
      
      // Load cart from localStorage
      const savedCart = localStorage.getItem('ryaanCart');
      if (savedCart) {
        try {
          cart = JSON.parse(savedCart);
          updateCartUI();
        } catch (e) {
          console.warn('Failed to parse saved cart:', e);
          cart = [];
          saveCart();
        }
      }
      
      // Setup slider drag functionality
      const track = el('#sliderTrack');
      if (track) {
        let isDragging = false;
        let startPos = 0;
        let currentTranslate = 0;
        let prevTranslate = 0;
        let animationID = null;
        
        track.addEventListener('pointerdown', (e) => {
          isDragging = true;
          startPos = e.clientX;
          track.style.cursor = 'grabbing';
          clearInterval(autoSlide);
          autoSlidePaused = true;
          el('#pauseBtn').innerHTML = '<i class="fas fa-play"></i>';
        });
        
        track.addEventListener('pointermove', (e) => {
          if (!isDragging) return;
          e.preventDefault();
          const currentPosition = e.clientX;
          const diff = currentPosition - startPos;
          
          currentTranslate = prevTranslate + diff;
          track.style.transform = `translateX(${currentTranslate}px)`;
        });
        
        track.addEventListener('pointerup', () => {
          if (!isDragging) return;
          isDragging = false;
          track.style.cursor = 'grab';
          
          // Determine if we should change slide
          const movedBy = currentTranslate - prevTranslate;
          const slideWidth = document.querySelector('.slide')?.offsetWidth + 20 || 340;
          
          if (Math.abs(movedBy) > slideWidth / 3) {
            if (movedBy > 0) {
              prevSlide();
            } else {
              nextSlide();
            }
          }
          
          // Reset position
          updateSliderPosition();
          autoSlidePaused = false;
          startAutoSlide();
          el('#pauseBtn').innerHTML = '<i class="fas fa-pause"></i>';
        });
        
        track.addEventListener('pointerleave', () => {
          if (isDragging) {
            isDragging = false;
            track.style.cursor = 'grab';
            updateSliderPosition();
            autoSlidePaused = false;
            startAutoSlide();
            el('#pauseBtn').innerHTML = '<i class="fas fa-pause"></i>';
          }
        });
      }
      
      // Keyboard shortcuts
      document.addEventListener('keydown', (e) => {
        // Escape key closes modals
        if (e.key === 'Escape') {
          closeProductModal();
          closeCart();
          closeCheckout();
        }
        
        // Left/right arrow keys for slider
        if (!e.target.matches('input, textarea, select')) {
          if (e.key === 'ArrowLeft') prevSlide();
          if (e.key === 'ArrowRight') nextSlide();
        }
      });
      
      // Smooth scroll for anchor links
      document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function(e) {
          const href = this.getAttribute('href');
          if (href === '#') return;
          
          e.preventDefault();
          const target = document.querySelector(href);
          if (target) {
            target.scrollIntoView({
              behavior: 'smooth',
              block: 'start'
            });
          }
        });
      });
      
      // Update gold rates every minute (if not already updating)
      setInterval(() => {
        if (lastGoldUpdate) {
          const now = new Date();
          const diff = now - lastGoldUpdate;
          // Only update if more than 1 minute old
          if (diff > 60000) {
            fetchGoldRates();
          }
        }
      }, 60000);
      
      // Show welcome message
      setTimeout(() => {
        if (!localStorage.getItem('ryaan_welcome_shown')) {
          showNotification('Welcome to RYAAN JEWELLERS! Enjoy live gold rates and luxury shopping.', 'success');
          localStorage.setItem('ryaan_welcome_shown', 'true');
        }
      }, 2000);
      
      console.log('RYAAN JEWELLERS website initialized successfully');
      
    } catch (error) {
      console.error('Initialization error:', error);
      showNotification('Error loading page. Please refresh.', 'error');
    }
  }
  
  // Initialize when DOM is loaded
  document.addEventListener('DOMContentLoaded', init);
  
  // Handle page visibility changes
  document.addEventListener('visibilitychange', () => {
    if (!document.hidden && !autoSlidePaused) {
      startAutoSlide();
    } else {
      clearInterval(autoSlide);
    }
  });
  </script>
</body>
</html>
