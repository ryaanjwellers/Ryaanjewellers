<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>RYAAN JEWELLERS ‚Äî White Diamond Luxury</title>
<meta name="description" content="RYAAN Jewellers Dubai - White Diamond Luxury theme. Custom designs, live gold rates, WhatsApp checkout." />
<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700;900&family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
  :root{
    --rose:#C77B7B; /* rose gold accent */
    --rose-soft:#F7E9E9;
    --muted:#8a8a8a;
    --bg:#ffffff;
    --card:#fbfbfb;
    --dark:#0f1720;
    --radius:14px;
    --trans:.35s ease;
  }
  *{box-sizing:border-box;margin:0;padding:0}
  html,body{height:100%}
  body{font-family:'Inter',system-ui,-apple-system,Segoe UI,Roboto,'Helvetica Neue',Arial;color:var(--dark);background:var(--bg);-webkit-font-smoothing:antialiased}
  a{color:inherit;text-decoration:none}
  
  /* SPLASH */
  #splash{position:fixed;inset:0;background:#000;z-index:9999;display:flex;align-items:center;justify-content:center;flex-direction:column}
  .splash-fallback{position:absolute;inset:0;background:linear-gradient(135deg, #0f1720 0%, #2c1810 100%);z-index:1}
  .splash-inner{position:relative;z-index:2;text-align:center;padding:28px;color:#fff}
  .splash-logo{width:140px;height:140px;border-radius:50%;background:linear-gradient(135deg,var(--rose),#fbeff0);display:flex;align-items:center;justify-content:center;margin:0 auto 14px;box-shadow:0 18px 40px rgba(199,123,123,.12)}
  .splash-logo img{width:100px}
  .splash-title{font-family:'Cinzel',serif;font-size:34px;color:#fff;margin-bottom:6px}
  .splash-sub{color:rgba(255,255,255,.85);margin-bottom:12px}
  .enter-btn{padding:12px 26px;border-radius:999px;border:2px solid rgba(255,255,255,.18);background:rgba(255,255,255,.03);color:#fff;cursor:pointer;font-weight:700;transition:all .3s ease}
  .enter-btn:hover{background:rgba(255,255,255,.1);transform:scale(1.05)}
  .loading-bar{width:260px;height:4px;background:rgba(255,255,255,.06);border-radius:99px;overflow:hidden;margin-top:14px}
  .loading-bar > i{display:block;height:100%;width:0;background:linear-gradient(90deg,#fff,var(--rose));transition:width 3.6s linear}

  /* HEADER */
  header{position:sticky;top:0;left:0;background:linear-gradient(180deg,rgba(255,255,255,.95),rgba(255,255,255,.98));backdrop-filter:blur(10px);z-index:900;border-bottom:1px solid rgba(199,123,123,.08)}
  .container{max-width:1200px;margin:0 auto;padding:14px 18px;display:flex;align-items:center;justify-content:space-between;gap:12px}
  .brand{display:flex;align-items:center;gap:12px;cursor:pointer}
  .brand img{width:56px;height:56px;border-radius:50%;background:linear-gradient(135deg,var(--rose),#ffdfe0);padding:8px}
  nav ul{display:flex;gap:18px;list-style:none}
  nav a{padding:8px 10px;border-radius:8px;font-weight:600;color:var(--dark);transition:all .2s ease}
  nav a:hover{background:var(--rose-soft);color:var(--rose)}
  .actions{display:flex;gap:10px;align-items:center}
  .icon-btn{background:transparent;border:1px solid rgba(199,123,123,.1);padding:8px 12px;border-radius:10px;cursor:pointer;color:var(--dark);transition:all .2s ease}
  .icon-btn:hover{background:var(--rose-soft);border-color:var(--rose)}
  .cart-count{background:var(--rose);color:#fff;padding:3px 8px;border-radius:20px;font-weight:800;font-size:12px;margin-left:8px}

  /* HERO */
  .hero{min-height:64vh;display:flex;align-items:center;justify-content:center;padding:90px 16px 40px}
  .hero-inner{text-align:center;max-width:920px}
  .hero-title{font-family:'Cinzel',serif;font-size:48px;color:var(--dark);margin-bottom:10px}
  .hero-sub{color:var(--muted);margin-bottom:18px}
  .cta{display:flex;gap:12px;justify-content:center}
  .btn{padding:12px 24px;border-radius:999px;cursor:pointer;border:none;font-weight:700;transition:all .3s ease}
  .btn-primary{background:var(--rose);color:#fff}
  .btn-primary:hover{background:#b56969;transform:translateY(-2px);box-shadow:0 10px 20px rgba(199,123,123,.2)}
  .btn-outline{background:transparent;border:1px solid rgba(10,10,10,.1);color:var(--dark)}
  .btn-outline:hover{background:var(--rose-soft);border-color:var(--rose)}

  /* GOLD RATES */
  .rates{max-width:1100px;margin:22px auto 0;display:flex;gap:12px;justify-content:center;flex-wrap:wrap;padding:0 16px}
  .rate-card{background:var(--card);padding:16px;border-radius:12px;border:1px solid rgba(199,123,123,.1);min-width:165px;text-align:center;transition:all .3s ease}
  .rate-card:hover{transform:translateY(-3px);box-shadow:0 8px 20px rgba(199,123,123,.1)}
  .rate-title{font-size:13px;color:var(--muted);margin-bottom:6px}
  .rate-value{font-family:'Cinzel',serif;font-size:20px;color:var(--rose);font-weight:800}
  .rate-time{font-size:12px;color:var(--muted);margin-top:6px}

  /* SECTION / SLIDER / PRODUCTS */
  .section{padding:56px 16px}
  .section-title{font-family:'Cinzel',serif;font-size:26px;color:var(--rose);text-align:center;margin-bottom:24px}
  .slider{max-width:1100px;margin:0 auto;background:transparent;padding:6px;border-radius:12px;overflow:hidden}
  .track{display:flex;gap:14px;transition:transform .4s ease}
  .slide{min-width:300px;border-radius:12px;background:var(--card);overflow:hidden;box-shadow:0 8px 24px rgba(10,10,10,.04);transition:all .3s ease}
  .slide:hover{transform:translateY(-5px);box-shadow:0 15px 30px rgba(199,123,123,.15)}
  .slide img{width:100%;height:220px;object-fit:cover}
  .slide .meta{padding:12px}
  .products-grid{max-width:1200px;margin:18px auto 0;display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:18px;padding:0 12px}
  .product{background:var(--card);border-radius:12px;overflow:hidden;border:1px solid rgba(199,123,123,.08);transition:transform var(--trans),box-shadow var(--trans)}
  .product:hover{transform:translateY(-6px);box-shadow:0 18px 40px rgba(199,123,123,.12)}
  .product img{width:100%;height:220px;object-fit:cover}
  .product .info{padding:12px}
  .product .name{font-weight:700;margin-bottom:6px}
  .product .desc{color:var(--muted);font-size:13px;margin-bottom:8px}
  .product .price{font-family:'Cinzel',serif;color:var(--rose);font-weight:800}

  .filter-row{display:flex;gap:8px;flex-wrap:wrap;justify-content:center;margin-bottom:18px}
  .filter-row button{padding:8px 16px;border-radius:20px;border:1px solid rgba(199,123,123,.1);background:transparent;cursor:pointer;transition:all .2s ease}
  .filter-row button:hover{background:var(--rose-soft)}
  .filter-row button.active{background:var(--rose);color:#fff;border-color:var(--rose)}

  /* CUSTOM / FOOTER */
  #custom .cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:14px;margin-top:16px}
  .custom-card{background:var(--card);padding:18px;border-radius:12px;border:1px solid rgba(199,123,123,.08);text-align:center;transition:all .3s ease}
  .custom-card:hover{transform:translateY(-5px);box-shadow:0 10px 25px rgba(199,123,123,.1)}

  footer{padding:40px 18px;background:linear-gradient(180deg,transparent,#faf9fa);border-top:1px solid rgba(199,123,123,.05)}

  /* CART MODAL */
  .modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(10,10,10,.75);z-index:1200}
  .modal-box{background:#fff;padding:24px;border-radius:16px;width:96%;max-width:620px;color:var(--dark);box-shadow:0 25px 50px rgba(0,0,0,.15)}
  .cart-item{display:flex;gap:12px;align-items:center;padding:12px 0;border-bottom:1px solid rgba(199,123,123,.1)}

  /* small */
  .center{text-align:center}
  @media (max-width:800px){
    .hero-title{font-size:32px}
    .slide{min-width:280px}
    .slide img{height:180px}
    .products-grid{grid-template-columns:repeat(auto-fill,minmax(200px,1fr))}
    nav ul{gap:8px}
  }
  @media (max-width:600px){
    .hero-title{font-size:28px}
    .products-grid{grid-template-columns:1fr}
    .filter-row{justify-content:flex-start;overflow-x:auto;padding-bottom:8px}
    .rates{flex-direction:column;align-items:center}
    .rate-card{width:100%;max-width:300px}
  }
</style>
</head>
<body>

<!-- SPLASH -->
<div id="splash" aria-hidden="false">
  <div class="splash-fallback"></div>
  <div class="splash-inner">
    <div class="splash-logo"><img src="https://raw.githubusercontent.com/ryaanjewellers007/ryaanjewellers/main/Logo%20new%20ryaan.png" alt="logo"></div>
    <div class="splash-title">RYAAN JEWELLERS</div>
    <div class="splash-sub">White Diamond Luxury ‚Äî Dubai</div>
    <button id="enterBtn" class="enter-btn">Enter RYAAN</button>
    <div class="loading-bar"><i id="loadingProgress"></i></div>
  </div>
</div>

<!-- HEADER -->
<header>
  <div class="container">
    <div class="brand" onclick="window.scrollTo({top:0,behavior:'smooth'})">
      <img src="https://raw.githubusercontent.com/ryaanjewellers007/ryaanjewellers/main/Logo%20new%20ryaan.png" alt="logo">
      <div>
        <div style="font-family:'Cinzel',serif;font-weight:800">RYAAN JEWELLERS</div>
        <div style="font-size:12px;color:var(--muted)">Dubai ‚Äî Handcrafted Luxury</div>
      </div>
    </div>

    <nav>
      <ul>
        <li><a href="#home">Home</a></li>
        <li><a href="#collections">Collections</a></li>
        <li><a href="#custom">Custom</a></li>
        <li><a href="#contact">Contact</a></li>
      </ul>
    </nav>

    <div class="actions">
      <button class="icon-btn" onclick="document.getElementById('goldRates').scrollIntoView({behavior:'smooth'})"><i class="fas fa-coins"></i></button>
      <button class="icon-btn" onclick="openCart()"><i class="fas fa-shopping-bag"></i> <span class="cart-count" id="cartCount"></span></button>
    </div>
  </div>
</header>

<main id="home">
  <!-- HERO -->
  <section class="hero" style="padding-top:98px">
    <div class="hero-inner">
      <div class="hero-tag" style="display:inline-block;padding:8px 20px;background:var(--rose-soft);border-radius:40px;color:var(--rose);font-weight:700">Signature Masterpieces</div>
      <h1 class="hero-title">Elegant. Timeless. Crafted for you.</h1>
      <p class="hero-sub">Discover our exclusive collection of rings, necklaces, bracelets and bespoke creations ‚Äî made in Dubai.</p>
      <div class="cta">
        <button class="btn btn-primary" onclick="document.getElementById('collections').scrollIntoView({behavior:'smooth'})">Explore Collections</button>
        <button class="btn btn-outline" onclick="document.getElementById('custom').scrollIntoView({behavior:'smooth'})">Custom Design</button>
      </div>
    </div>
  </section>

  <!-- LIVE GOLD RATES -->
  <section id="goldRates" class="section center">
    <div style="max-width:980px;margin:0 auto">
      <div style="display:flex;justify-content:center;gap:10px;align-items:center;margin-bottom:12px">
        <div style="font-family:'Cinzel',serif;font-weight:800;font-size:20px;color:var(--rose)">Live Dubai Gold Rate (AED)</div>
        <div style="color:var(--muted);font-size:13px">Updated automatically</div>
      </div>
      <div class="rates" id="ratesWrap">
        <div class="rate-card"><div class="rate-title">24K / gram</div><div class="rate-value" id="rate24">‚Äî</div><div class="rate-time" id="rateTime">‚Äî</div></div>
        <div class="rate-card"><div class="rate-title">22K / gram</div><div class="rate-value" id="rate22">‚Äî</div></div>
        <div class="rate-card"><div class="rate-title">18K / gram</div><div class="rate-value" id="rate18">‚Äî</div></div>
      </div>
    </div>
  </section>

  <!-- FEATURED SLIDER -->
  <section class="section slider">
    <h2 class="section-title">Featured Collection</h2>
    <div style="overflow:hidden">
      <div class="track" id="sliderTrack" aria-live="polite"></div>
    </div>
    <div style="display:flex;gap:8px;justify-content:center;margin-top:12px">
      <button class="icon-btn" onclick="prevSlide()"><i class="fas fa-chevron-left"></i></button>
      <button class="icon-btn" onclick="nextSlide()"><i class="fas fa-chevron-right"></i></button>
    </div>
  </section>

  <!-- PRODUCTS -->
  <section class="section" id="collections">
    <div style="max-width:1200px;margin:0 auto">
      <h2 class="section-title">All Luxury Products</h2>
      <p style="color:var(--muted);text-align:center;margin-bottom:24px">Browse our curated collection</p>
      
      <div class="filter-row" id="filterRow">
        <button class="active" onclick="filterProducts('all', this)">All</button>
        <button onclick="filterProducts('bracelet', this)">Bracelets</button>
        <button onclick="filterProducts('necklace', this)">Necklaces</button>
        <button onclick="filterProducts('ring', this)">Rings</button>
        <button onclick="filterProducts('earrings', this)">Earrings</button>
        <button onclick="filterProducts('bangle', this)">Bangles</button>
        <button onclick="filterProductsByCategory('Messika Collection', this)">Messika</button>
        <button onclick="filterProductsByCategory('Van Cleef Inspired', this)">Van Cleef</button>
      </div>

      <div class="products-grid" id="productsGrid"></div>
    </div>
  </section>

  <!-- CUSTOM DESIGN -->
  <section id="custom" class="section">
    <div style="max-width:980px;margin:0 auto;text-align:center">
      <h2 class="section-title">Custom Design</h2>
      <p style="color:var(--muted);margin-top:6px">From idea to masterpiece ‚Äî 3D design, approval, and handcrafting.</p>
      <div class="cards" id="customCards">
        <div class="custom-card">
          <i class="fas fa-comments" style="font-size:32px;color:var(--rose);margin-bottom:10px"></i>
          <h3 style="margin-bottom:8px">Consultation & Vision</h3>
          <p style="color:var(--muted);font-size:14px">Share your ideas with our designers</p>
        </div>
        <div class="custom-card">
          <i class="fas fa-cube" style="font-size:32px;color:var(--rose);margin-bottom:10px"></i>
          <h3 style="margin-bottom:8px">3D Modelling</h3>
          <p style="color:var(--muted);font-size:14px">Digital preview before crafting</p>
        </div>
        <div class="custom-card">
          <i class="fas fa-hammer" style="font-size:32px;color:var(--rose);margin-bottom:10px"></i>
          <h3 style="margin-bottom:8px">Handcraft & Delivery</h3>
          <p style="color:var(--muted);font-size:14px">Master artisans bring design to life</p>
        </div>
      </div>
      <div style="margin-top:24px"><button class="btn btn-primary" onclick="openCustomInquiry()">Inquire on WhatsApp</button></div>
    </div>
  </section>

  <!-- FOOTER -->
  <footer id="contact">
    <div style="max-width:1100px;margin:0 auto;display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:16px">
      <div>
        <div style="font-family:'Cinzel',serif;font-size:20px;color:var(--rose)">RYAAN JEWELLERS</div>
        <div style="color:var(--muted);margin-top:6px">Dubai ‚Äî handcrafted luxury</div>
        <div style="margin-top:10px;color:var(--muted);font-size:14px">
          <p>üìç Dubai, UAE</p>
          <p>üìû +971 54 374 6476</p>
          <p>‚úâÔ∏è info@ryaanjewellers.com</p>
        </div>
      </div>
      <div style="display:flex;flex-direction:column;gap:12px">
        <div style="display:flex;gap:12px;align-items:center">
          <a href="https://wa.me/971543746476" style="color:#25D366;font-size:14px;display:flex;align-items:center;gap:6px">
            <i class="fab fa-whatsapp fa-lg"></i> WhatsApp Order
          </a>
          <a href="#" style="color:var(--rose);font-size:14px;display:flex;align-items:center;gap:6px">
            <i class="fab fa-instagram fa-lg"></i> @ryaanjewellers
          </a>
        </div>
        <div style="color:var(--muted);font-size:12px">¬© 2024 RYAAN JEWELLERS. All rights reserved.</div>
      </div>
    </div>
  </footer>
</main>

<!-- CART MODAL -->
<div id="cartModal" class="modal" aria-hidden="true">
  <div class="modal-box" role="dialog" aria-modal="true">
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:16px">
      <div style="font-family:'Cinzel',serif;color:var(--rose);font-weight:800;font-size:20px">Your Cart</div>
      <button onclick="closeCart()" style="background:none;border:none;color:var(--muted);cursor:pointer;font-size:20px"><i class="fas fa-times"></i></button>
    </div>

    <div id="cartItems" style="max-height:260px;overflow:auto"></div>

    <div style="margin-top:20px;padding-top:16px;border-top:1px solid rgba(199,123,123,.1);display:flex;justify-content:space-between;align-items:center">
      <div style="font-weight:800;color:var(--rose);font-size:18px" id="cartTotal">Total: AED 0</div>
      <div style="display:flex;gap:10px">
        <button class="btn btn-outline" onclick="closeCart()">Continue Shopping</button>
        <button class="btn btn-primary" onclick="openCheckout()">Checkout Now</button>
      </div>
    </div>
  </div>
</div>

<!-- CHECKOUT MODAL -->
<div id="checkoutModal" class="modal" aria-hidden="true">
  <div class="modal-box">
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:16px">
      <div style="font-family:'Cinzel',serif;color:var(--rose);font-weight:800;font-size:20px">Checkout ‚Äî WhatsApp</div>
      <button onclick="closeCheckout()" style="background:none;border:none;color:var(--muted);cursor:pointer;font-size:20px"><i class="fas fa-times"></i></button>
    </div>

    <div id="checkoutContent">
      <div style="margin-bottom:12px;color:var(--rose);font-weight:700">Order summary</div>
      <div id="checkoutItems" style="max-height:160px;overflow:auto;margin-bottom:16px"></div>

      <div style="margin-bottom:12px;color:var(--rose);font-weight:700">Delivery details</div>
      <div style="display:grid;gap:12px;margin-bottom:20px">
        <input id="custName" type="text" placeholder="Full name" style="padding:12px;border-radius:8px;border:1px solid rgba(199,123,123,.2);font-family:inherit">
        <input id="custPhone" type="text" placeholder="Phone (e.g. +97150xxxxxxx)" style="padding:12px;border-radius:8px;border:1px solid rgba(199,123,123,.2);font-family:inherit">
        <textarea id="custAddress" placeholder="Delivery address in Dubai" rows="3" style="padding:12px;border-radius:8px;border:1px solid rgba(199,123,123,.2);font-family:inherit"></textarea>
      </div>

      <div style="display:flex;gap:10px;justify-content:flex-end">
        <button class="btn btn-outline" onclick="closeCheckout()">Cancel</button>
        <button class="btn btn-primary" onclick="sendOrderWhatsApp()">Send via WhatsApp</button>
      </div>
    </div>
  </div>
</div>

<!-- NOTIFICATION -->
<div id="notify" style="position:fixed;right:18px;top:90px;display:none;background:var(--rose);color:#fff;padding:12px 18px;border-radius:10px;font-weight:700;z-index:2000;box-shadow:0 5px 15px rgba(199,123,123,.3)"></div>

<script>
/* ---------- CONFIGURATION ---------- */
const GOLD_API_PROVIDER = 'goldapi'; // Options: 'goldapi' or 'metals'
const GOLD_API_KEY = ''; // Get your free API key from goldapi.io

/* ---------- MESSIKA PRODUCTS ---------- */
const messikaProducts = [
  {
    id: 100,
    name: "Messika Move Hoop Earrings",
    category: "Messika Collection",
    price: 8500,
    image: "Messika-Move-Hoop-04407-YG.jpg",
    type: "earrings",
    description: "Yellow gold move hoop earrings with diamonds"
  },
  {
    id: 101,
    name: "Messika Move Uno Mini Hoops",
    category: "Messika Collection",
    price: 7200,
    image: "Messika-Move-UNO-Mini-Hoops-10050-WG-1.jpg",
    type: "earrings",
    description: "White gold mini hoop earrings with moving diamonds"
  },
  {
    id: 102,
    name: "Messika Move Classic Bracelet",
    category: "Messika Collection",
    price: 9200,
    image: "Messika-Move-Classic-03998-WG.jpg",
    type: "bracelet",
    description: "Classic move bracelet in white gold with diamonds"
  },
  {
    id: 103,
    name: "Messika Move Uno Bracelet",
    category: "Messika Collection",
    price: 8800,
    image: "Messika-Move-Uno-04705-WG.jpg",
    type: "bracelet",
    description: "Uno move bracelet in white gold"
  },
  {
    id: 104,
    name: "Messika Move Thin Bracelet",
    category: "Messika Collection",
    price: 6800,
    image: "Messika-Move-Thin-04068-RG-2-1024x1024.jpg",
    type: "bracelet",
    description: "Rose gold thin move bracelet with diamonds"
  },
  {
    id: 105,
    name: "Messika Move Romane Necklace",
    category: "Messika Collection",
    price: 11500,
    image: "Messika-Move-Romane-06516-YG-55-2-1000x1000.jpg",
    type: "necklace",
    description: "Yellow gold romane necklace with moving diamonds"
  },
  {
    id: 106,
    name: "Messika Move XL Earrings",
    category: "Messika Collection",
    price: 9800,
    image: "messika_-packshot-boucles_d_oreilles_pendantes_move_10th_xl_pav_es_vue_2_06823_pg.jpg",
    type: "earrings",
    description: "XL pav√© diamond earrings with move technology"
  },
  {
    id: 107,
    name: "Messika Move Uno Pav√© Necklace",
    category: "Messika Collection",
    price: 12500,
    image: "messika_paris-collier_move_uno_pav_vue_1_04708_p.jpg",
    type: "necklace",
    description: "Uno pav√© necklace with moving diamonds"
  },
  {
    id: 108,
    name: "Messika Move Uno Pampille Choker",
    category: "Messika Collection",
    price: 14200,
    image: "messika-packshot-collier_choker_move_uno_pampille_pav_vue_1_12150_wg.jpg",
    type: "necklace",
    description: "White gold choker with pampille diamonds"
  },
  {
    id: 109,
    name: "Messika Move Uno Pampille Choker",
    category: "Messika Collection",
    price: 14500,
    image: "messika-packshot-collier_choker_move_uno_pampille_vue_1_14588_wg.jpg",
    type: "necklace",
    description: "Elegant choker with moving diamond pampilles"
  },
  {
    id: 110,
    name: "Messika Move Classic Pav√© Necklace",
    category: "Messika Collection",
    price: 11200,
    image: "messika-packshot-collier_move_classique_pav_vue_1_03994_p.jpg",
    type: "necklace",
    description: "Classic pav√© necklace with move technology"
  },
  {
    id: 111,
    name: "Messika Lucky Eye Necklace",
    category: "Messika Collection",
    price: 9500,
    image: "messika-packshot-collier_lucky_eye_pav_vue_1_07525_yg.jpg",
    type: "necklace",
    description: "Yellow gold lucky eye necklace with diamonds"
  },
  {
    id: 112,
    name: "Messika Lucky Eye Necklace Pink",
    category: "Messika Collection",
    price: 9700,
    image: "messika-packshot-collier_lucky_eye_pav_vue_2_07525_pg.jpg",
    type: "necklace",
    description: "Pink gold lucky eye necklace with diamonds"
  },
  {
    id: 113,
    name: "Messika Uno Pampille Choker White",
    category: "Messika Collection",
    price: 13800,
    image: "messika-packshot-_collier_choker_move_uno_pampille_vue_1_14588_wg.jpg",
    type: "necklace",
    description: "White gold uno pampille choker with diamonds"
  }
];

/* ---------- MAIN PRODUCTS ARRAY ---------- */
const allProducts = [
  // Your existing products
  {
    id: 1,
    name: "Van Cleef Onyx Bracelet",
    category: "Van Cleef Inspired",
    price: 9800,
    image: "https://raw.githubusercontent.com/ryaanjewellers007/Ryaanjewellers/main/Vancleef%20Bracelet%20Onyx.jpg",
    type: "bracelet",
    description: "Luxury gold bracelet with genuine black onyx stones"
  },
  {
    id: 2,
    name: "Van Cleef Carnelian Bracelet",
    category: "Van Cleef Inspired",
    price: 10200,
    image: "https://raw.githubusercontent.com/ryaanjewellers007/Ryaanjewellers/main/Vancleef%20Bracelet%20Carnelian.jpg",
    type: "bracelet",
    description: "Gold bracelet with vibrant carnelian stones"
  },
  {
    id: 3,
    name: "Van Cleef Agate Bracelet",
    category: "Van Cleef Inspired",
    price: 9500,
    image: "https://raw.githubusercontent.com/ryaanjewellers007/Ryaanjewellers/main/Vancleef%20Bracelet%20Agate.jpg",
    type: "bracelet",
    description: "Gold bracelet with natural agate stones"
  },
  {
    id: 4,
    name: "Van Cleef Chalcedony Bracelet",
    category: "Van Cleef Inspired",
    price: 10800,
    image: "https://raw.githubusercontent.com/ryaanjewellers007/Ryaanjewellers/main/Vancleef%20Bracelet%20Chalcedony.jpg",
    type: "bracelet",
    description: "Gold bracelet with beautiful blue chalcedony"
  },
  {
    id: 5,
    name: "Van Cleef Mother of Pearl Bracelet",
    category: "Van Cleef Inspired",
    price: 11200,
    image: "https://raw.githubusercontent.com/ryaanjewellers007/Ryaanjewellers/main/Vancleef%20Bracelet%20Mother%20of%20Pearl.jpg",
    type: "bracelet",
    description: "Gold bracelet with mother of pearl inlay"
  },
  {
    id: 6,
    name: "Van Cleef Tiger Eye Bracelet",
    category: "Van Cleef Inspired",
    price: 9600,
    image: "https://raw.githubusercontent.com/ryaanjewellers007/Ryaanjewellers/main/Vancleef%20Bracelet%20Tiger%20Eye.jpg",
    type: "bracelet",
    description: "Gold bracelet with tiger eye stone"
  },
  {
    id: 7,
    name: "Van Cleef Malachite Bracelet",
    category: "Van Cleef Inspired",
    price: 10400,
    image: "https://raw.githubusercontent.com/ryaanjewellers007/Ryaanjewellers/main/Vancleef%20Bracelet%20Malachite.jpg",
    type: "bracelet",
    description: "Gold bracelet with green malachite stones"
  },
  {
    id: 8,
    name: "Serpenti Choker Necklace",
    category: "Bvlgari Inspired",
    price: 12500,
    image: "https://raw.githubusercontent.com/ryaanjewellers007/Ryaanjewellers/main/Serpenti%20Bvulgari%20Chocker.jpg",
    type: "necklace",
    description: "Luxury serpent design necklace with diamonds"
  },
  {
    id: 9,
    name: "Diamond Pendant Necklace",
    category: "Luxury Collection",
    price: 8500,
    image: "https://raw.githubusercontent.com/ryaanjewellers007/Ryaanjewellers/main/White%20.%20Blue%20.%20jpg.jpg",
    type: "necklace",
    description: "Elegant diamond pendant necklace"
  },
  {
    id: 10,
    name: "Butterfly Diamond Ring",
    category: "Messika Inspired",
    price: 4850,
    image: "https://raw.githubusercontent.com/ryaanjewellers007/Ryaanjewellers/main/Butterfly%20Ring.jpg",
    type: "ring",
    description: "18K gold ring with diamond butterfly design"
  },
  {
    id: 11,
    name: "Emerald Solitaire Ring",
    category: "Classic Collection",
    price: 7500,
    image: "https://raw.githubusercontent.com/ryaanjewellers007/Ryaanjewellers/main/Screenshot_20251129_014624_Chrome.jpg",
    type: "ring",
    description: "Solitaire emerald ring with diamond halo"
  },
  {
    id: 12,
    name: "Ruby Diamond Ring",
    category: "Classic Collection",
    price: 8200,
    image: "https://raw.githubusercontent.com/ryaanjewellers007/Ryaanjewellers/main/Screenshot_20251129_014621_Chrome.jpg",
    type: "ring",
    description: "Ruby center stone with diamond accents"
  },
  {
    id: 13,
    name: "Heart Bangle",
    category: "Chopard Inspired",
    price: 8250,
    image: "https://raw.githubusercontent.com/ryaanjewellers007/Ryaanjewellers/main/Heart%20Bangle.jpg",
    type: "bangle",
    description: "18K gold heart design bangle"
  },
  {
    id: 14,
    name: "Chopard Diamond Earrings",
    category: "Chopard Inspired",
    price: 6500,
    image: "https://raw.githubusercontent.com/ryaanjewellers007/Ryaanjewellers/main/Chopard%20Earring.jpg",
    type: "earrings",
    description: "Diamond stud earrings with gold setting"
  },
  {
    id: 15,
    name: "Messika Rose Uno Move",
    category: "Messika Inspired",
    price: 7250,
    image: "https://raw.githubusercontent.com/ryaanjewellers007/Ryaanjewellers/main/Messika%20rose%20uno%20move.jpg",
    type: "bracelet",
    description: "Moving diamond rose gold bracelet"
  },
  {
    id: 16,
    name: "Diamond Tennis Bracelet",
    category: "Classic Collection",
    price: 12500,
    image: "https://raw.githubusercontent.com/ryaanjewellers007/Ryaanjewellers/main/Screenshot_20251129_014606_Chrome.jpg",
    type: "bracelet",
    description: "Full diamond tennis bracelet"
  },
  {
    id: 17,
    name: "Pearl Drop Earrings",
    category: "Luxury Collection",
    price: 5800,
    image: "https://raw.githubusercontent.com/ryaanjewellers007/Ryaanjewellers/main/Screenshot_20251129_014550_Chrome.jpg",
    type: "earrings",
    description: "Pearl drop earrings with diamond accents"
  },
  {
    id: 18,
    name: "Diamond Halo Necklace",
    category: "Luxury Collection",
    price: 11500,
    image: "https://raw.githubusercontent.com/ryaanjewellers007/Ryaanjewellers/main/Screenshot_20251129_014405_Chrome.jpg",
    type: "necklace",
    description: "Diamond halo pendant necklace"
  },
  {
    id: 19,
    name: "Custom Diamond Ring",
    category: "Bespoke Collection",
    price: 9500,
    image: "https://raw.githubusercontent.com/ryaanjewellers007/Ryaanjewellers/main/Screenshot_20251126_021000_Instagram.jpg",
    type: "ring",
    description: "Custom designed diamond ring"
  },
  {
    id: 20,
    name: "Gold Diamond Set",
    category: "Luxury Collection",
    price: 18500,
    image: "https://raw.githubusercontent.com/ryaanjewellers007/Ryaanjewellers/main/Screenshot_20251126_020930_Instagram.jpg",
    type: "set",
    description: "Complete gold and diamond jewellery set"
  },
  {
    id: 21,
    name: "Classic Diamond Ring",
    category: "Timeless Collection",
    price: 6800,
    image: "https://raw.githubusercontent.com/ryaanjewellers007/Ryaanjewellers/main/Screenshot_20250618_220852_Chrome.jpg",
    type: "ring",
    description: "Classic diamond solitaire ring"
  },
  
  // Add all Messika products
  ...messikaProducts
];

let cart = JSON.parse(localStorage.getItem('ryaanCart') || '[]');
let currentSlide = 0;
let autoSlide = null;

/* ---------- Splash handling ---------- */
const loadingProgress = document.getElementById('loadingProgress');
setTimeout(() => loadingProgress.style.width = '100%', 80);

document.getElementById('enterBtn').addEventListener('click', () => {
  const splash = document.getElementById('splash');
  splash.style.opacity = '0';
  splash.style.pointerEvents = 'none';
  setTimeout(() => splash.style.display = 'none', 650);
  document.body.style.overflow = 'auto';
});

// Auto-enter after 5 seconds
setTimeout(() => {
  if (document.getElementById('splash').style.display !== 'none') {
    document.getElementById('enterBtn').click();
  }
}, 5000);

/* ---------- Live gold rates ---------- */
async function fetchGoldRates() {
  const el24 = document.getElementById('rate24');
  const el22 = document.getElementById('rate22');
  const el18 = document.getElementById('rate18');
  const elTime = document.getElementById('rateTime');
  
  el24.textContent = '...';
  el22.textContent = '...';
  el18.textContent = '...';
  
  try {
    if (!GOLD_API_KEY) throw new Error('No API key configured');
    
    if (GOLD_API_PROVIDER === 'goldapi') {
      const res = await fetch('https://www.goldapi.io/api/XAU/AED', {
        headers: { 'x-access-token': GOLD_API_KEY }
      });
      
      if (!res.ok) throw new Error('API request failed');
      
      const data = await res.json();
      const perOz = data.price;
      const perGram = perOz / 31.1034768;
      
      el24.textContent = `AED ${perGram.toFixed(2)}`;
      el22.textContent = `AED ${(perGram * (22/24)).toFixed(2)}`;
      el18.textContent = `AED ${(perGram * (18/24)).toFixed(2)}`;
      elTime.textContent = `Updated: ${new Date().toLocaleTimeString('en-US', {hour: '2-digit', minute:'2-digit'})}`;
      return;
    }
    
    throw new Error('Provider not configured');
    
  } catch (err) {
    // Fallback to realistic Dubai gold rates
    const baseRate = 215.50;
    const sample24 = baseRate + Math.random() * 10;
    
    el24.textContent = `AED ${sample24.toFixed(2)}`;
    el22.textContent = `AED ${(sample24 * (22/24)).toFixed(2)}`;
    el18.textContent = `AED ${(sample24 * (18/24)).toFixed(2)}`;
    elTime.textContent = 'Sample rates - Add API key for live';
    
    console.log('Gold rates: Using fallback -', err.message);
  }
}

// Initial fetch and update every 60 seconds
fetchGoldRates();
setInterval(fetchGoldRates, 60000);

/* ---------- Filter functions ---------- */
function filterProducts(type, btn) {
  document.querySelectorAll('#filterRow button').forEach(b => b.classList.remove('active'));
  if (btn) btn.classList.add('active');
  
  const products = document.querySelectorAll('.product');
  
  products.forEach(card => {
    if (type === 'all') {
      card.style.display = 'block';
    } else {
      const productType = card.getAttribute('data-type');
      card.style.display = productType === type ? 'block' : 'none';
    }
  });
}

function filterProductsByCategory(category, btn) {
  document.querySelectorAll('#filterRow button').forEach(b => b.classList.remove('active'));
  if (btn) btn.classList.add('active');
  
  const products = document.querySelectorAll('.product');
  
  products.forEach(card => {
    const productCategory = card.getAttribute('data-category');
    card.style.display = productCategory === category ? 'block' : 'none';
  });
}

/* ---------- Slider functions ---------- */
function renderSlider() {
  const track = document.getElementById('sliderTrack');
  track.innerHTML = '';
  
  // Mix products for featured slider
  const featuredProducts = [
    allProducts[0],  // Van Cleef Onyx
    allProducts[7],  // Serpenti Choker
    allProducts[100], // Messika Hoop Earrings
    allProducts[15], // Messika Rose Uno
    allProducts[8],  // Diamond Pendant
    allProducts[102] // Messika Classic Bracelet
  ];
  
  featuredProducts.forEach(p => {
    const slide = document.createElement('div');
    slide.className = 'slide';
    slide.innerHTML = `
      <img src="${p.image}" alt="${p.name}" loading="lazy" onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjBmMGYwIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNHB4IiBmaWxsPSIjODA4MDgwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSI+UllBQU4gSkVXRUxMRVJTPC90ZXh0Pjwvc3ZnPg=='">
      <div class="meta">
        <div style="font-size:13px;color:var(--muted)">${p.category}</div>
        <div style="font-weight:800;margin:6px 0">${p.name}</div>
        <div style="color:var(--rose);font-weight:800">AED ${p.price.toLocaleString()}</div>
        <div style="margin-top:12px;display:flex;gap:8px">
          <button class="btn btn-primary" onclick="addToCart(${p.id})">Add to Cart</button>
          <button class="btn btn-outline" onclick="viewProduct(${p.id})">View Details</button>
        </div>
      </div>`;
    track.appendChild(slide);
  });
  
  updateSliderPosition();
  startAutoSlide();
}

function updateSliderPosition() {
  const track = document.getElementById('sliderTrack');
  const slides = document.querySelectorAll('.slide');
  
  if (slides.length === 0) return;
  
  const slideWidth = slides[0].offsetWidth + 14;
  track.style.transform = `translateX(${-currentSlide * slideWidth}px)`;
}

function nextSlide() {
  const slides = document.querySelectorAll('.slide');
  if (slides.length === 0) return;
  
  currentSlide = (currentSlide + 1) % slides.length;
  updateSliderPosition();
  resetAutoSlide();
}

function prevSlide() {
  const slides = document.querySelectorAll('.slide');
  if (slides.length === 0) return;
  
  currentSlide = (currentSlide - 1 + slides.length) % slides.length;
  updateSliderPosition();
  resetAutoSlide();
}

function startAutoSlide() {
  clearInterval(autoSlide);
  autoSlide = setInterval(nextSlide, 4500);
}

function resetAutoSlide() {
  clearInterval(autoSlide);
  startAutoSlide();
}

/* ---------- Product rendering ---------- */
function renderProducts() {
  const grid = document.getElementById('productsGrid');
  grid.innerHTML = '';
  
  allProducts.forEach(p => {
    const productCard = document.createElement('div');
    productCard.className = 'product';
    productCard.setAttribute('data-type', p.type);
    productCard.setAttribute('data-category', p.category);
    
    productCard.innerHTML = `
      <img src="${p.image}" alt="${p.name}" loading="lazy" onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjBmMGYwIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNHB4IiBmaWxsPSIjODA4MDgwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSI+UlkgSkVXRUxMRVJTPC90ZXh0Pjwvc3ZnPg=='">
      <div class="info">
        <div class="name">${p.name}</div>
        <div class="desc">${p.description}</div>
        <div style="display:flex;align-items:center;justify-content:space-between;margin-top:12px">
          <div class="price">AED ${p.price.toLocaleString()}</div>
          <div style="display:flex;gap:8px">
            <button class="btn btn-outline" onclick="viewProduct(${p.id})">View</button>
            <button class="btn btn-primary" onclick="addToCart(${p.id})">Add</button>
          </div>
        </div>
      </div>`;
    
    grid.appendChild(productCard);
  });
  
  updateCartUI();
}

/* ---------- Cart functions ---------- */
function saveCart() {
  localStorage.setItem('ryaanCart', JSON.stringify(cart));
  updateCartUI();
}

function updateCartUI() {
  const itemCount = cart.reduce((sum, item) => sum + item.quantity, 0);
  const cartCount = document.getElementById('cartCount');
  cartCount.textContent = itemCount > 0 ? itemCount : '';
  cartCount.style.display = itemCount > 0 ? 'inline-block' : 'none';
}

function addToCart(id) {
  const product = allProducts.find(p => p.id === id);
  if (!product) return;
  
  const existingItem = cart.find(item => item.id === id);
  
  if (existingItem) {
    existingItem.quantity++;
  } else {
    cart.push({
      id: product.id,
      name: product.name,
      price: product.price,
      image: product.image,
      quantity: 1
    });
  }
  
  saveCart();
  showNotification(`${product.name} added to cart`);
}

function openCart() {
  renderCart();
  document.getElementById('cartModal').style.display = 'flex';
  document.body.style.overflow = 'hidden';
}

function closeCart() {
  document.getElementById('cartModal').style.display = 'none';
  document.body.style.overflow = 'auto';
}

function renderCart() {
  const cartItems = document.getElementById('cartItems');
  
  if (cart.length === 0) {
    cartItems.innerHTML = `
      <div style="text-align:center;padding:40px;color:var(--muted)">
        <i class="fas fa-shopping-bag" style="font-size:48px;margin-bottom:16px;opacity:0.3"></i>
        <p>Your cart is empty</p>
        <button class="btn btn-primary" style="margin-top:16px" onclick="closeCart()">Continue Shopping</button>
      </div>`;
    document.getElementById('cartTotal').textContent = 'Total: AED 0';
    return;
  }
  
  cartItems.innerHTML = '';
  let total = 0;
  
  cart.forEach((item, index) => {
    const subtotal = item.price * item.quantity;
    total += subtotal;
    
    const itemElement = document.createElement('div');
    itemElement.className = 'cart-item';
    itemElement.innerHTML = `
      <img src="${item.image}" alt="${item.name}" style="width:70px;height:70px;object-fit:cover;border-radius:8px" onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNzAiIGhlaWdodD0iNzAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iI2YwZjBmMCIvPjx0ZXh0IHg9IjUwJSIgeT0iNTAlIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMTJweCIgZmlsbD0iIzgwODA4MCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPlJZQUFOIEpFV0VMQzwvdGV4dD48L3N2Zz4='">
      <div style="flex:1">
        <div style="font-weight:700;font-size:15px">${item.name}</div>
        <div style="color:var(--rose);font-weight:700;margin-top:4px">AED ${item.price.toLocaleString()}</div>
      </div>
      <div style="display:flex;align-items:center;gap:12px">
        <div style="display:flex;align-items:center;gap:8px">
          <button class="icon-btn" onclick="updateQuantity(${index}, ${item.quantity - 1})" ${item.quantity <= 1 ? 'disabled style="opacity:0.5"' : ''}>-</button>
          <span style="min-width:30px;text-align:center">${item.quantity}</span>
          <button class="icon-btn" onclick="updateQuantity(${index}, ${item.quantity + 1})">+</button>
        </div>
        <button class="icon-btn" onclick="removeFromCart(${index})" title="Remove">
          <i class="fas fa-trash" style="color:#ff6b6b"></i>
        </button>
      </div>`;
    
    cartItems.appendChild(itemElement);
  });
  
  document.getElementById('cartTotal').textContent = `Total: AED ${total.toLocaleString()}`;
}

function updateQuantity(index, newQuantity) {
  if (newQuantity < 1) {
    removeFromCart(index);
    return;
  }
  
  cart[index].quantity = newQuantity;
  saveCart();
  renderCart();
}

function removeFromCart(index) {
  cart.splice(index, 1);
  saveCart();
  renderCart();
  
  if (cart.length === 0) {
    setTimeout(closeCart, 300);
  }
}

/* ---------- Checkout functions ---------- */
function openCheckout() {
  if (cart.length === 0) {
    showNotification('Your cart is empty');
    return;
  }
  
  renderCheckoutItems();
  document.getElementById('checkoutModal').style.display = 'flex';
  document.body.style.overflow = 'hidden';
}

function closeCheckout() {
  document.getElementById('checkoutModal').style.display = 'none';
  document.body.style.overflow = 'auto';
}

function renderCheckoutItems() {
  const checkoutItems = document.getElementById('checkoutItems');
  checkoutItems.innerHTML = '';
  
  let total = 0;
  
  cart.forEach(item => {
    const subtotal = item.price * item.quantity;
    total += subtotal;
    
    const itemElement = document.createElement('div');
    itemElement.style.padding = '8px 0';
    itemElement.style.borderBottom = '1px solid rgba(199,123,123,.1)';
    itemElement.innerHTML = `
      <div style="display:flex;justify-content:space-between">
        <div>
          <strong>${item.name}</strong>
          <div style="font-size:13px;color:var(--muted)">Qty: ${item.quantity} √ó AED ${item.price.toLocaleString()}</div>
        </div>
        <div style="font-weight:700">AED ${subtotal.toLocaleString()}</div>
      </div>`;
    
    checkoutItems.appendChild(itemElement);
  });
  
  const totalElement = document.createElement('div');
  totalElement.style.padding = '12px 0';
  totalElement.style.borderTop = '2px solid var(--rose)';
  totalElement.style.marginTop = '8px';
  totalElement.innerHTML = `
    <div style="display:flex;justify-content:space-between;font-weight:800;font-size:18px">
      <div>Total Amount:</div>
      <div style="color:var(--rose)">AED ${total.toLocaleString()}</div>
    </div>`;
  
  checkoutItems.appendChild(totalElement);
}

function sendOrderWhatsApp() {
  const name = document.getElementById('custName').value.trim();
  const phone = document.getElementById('custPhone').value.trim();
  const address = document.getElementById('custAddress').value.trim();
  
  if (!name || !phone || !address) {
    showNotification('Please fill in all delivery details');
    return;
  }
  
  let formattedPhone = phone.replace(/\D/g, '');
  if (!formattedPhone.startsWith('971') && formattedPhone.length === 9) {
    formattedPhone = '971' + formattedPhone;
  } else if (formattedPhone.length === 10 && formattedPhone.startsWith('0')) {
    formattedPhone = '971' + formattedPhone.substring(1);
  }
  
  let orderMessage = `üõçÔ∏è *RYAAN JEWELLERS - ORDER CONFIRMATION* üõçÔ∏è\n\n`;
  orderMessage += `*Customer Details:*\n`;
  orderMessage += `üë§ Name: ${name}\n`;
  orderMessage += `üì± Phone: ${phone}\n`;
  orderMessage += `üìç Address: ${address}\n\n`;
  orderMessage += `*Order Items:*\n`;
  
  let total = 0;
  cart.forEach((item, index) => {
    const subtotal = item.price * item.quantity;
    total += subtotal;
    orderMessage += `${index + 1}. ${item.name}\n`;
    orderMessage += `   Quantity: ${item.quantity}\n`;
    orderMessage += `   Price: AED ${item.price.toLocaleString()}\n`;
    orderMessage += `   Subtotal: AED ${subtotal.toLocaleString()}\n\n`;
  });
  
  orderMessage += `*Order Total: AED ${total.toLocaleString()}*\n\n`;
  orderMessage += `Please confirm this order and provide delivery timing.`;
  
  const whatsappNumber = '971543746476';
  const whatsappUrl = `https://wa.me/${whatsappNumber}?text=${encodeURIComponent(orderMessage)}`;
  
  window.open(whatsappUrl, '_blank');
  
  cart = [];
  saveCart();
  
  closeCheckout();
  closeCart();
  
  showNotification('Order sent via WhatsApp!', 'success');
  
  document.getElementById('custName').value = '';
  document.getElementById('custPhone').value = '';
  document.getElementById('custAddress').value = '';
}

/* ---------- Helper functions ---------- */
function viewProduct(id) {
  const product = allProducts.find(p => p.id === id);
  if (!product) return;
  
  const message = `üîç *Product Inquiry - RYAAN JEWELLERS*\n\n`;
  message += `*Product:* ${product.name}\n`;
  message += `*Category:* ${product.category}\n`;
  message += `*Price:* AED ${product.price.toLocaleString()}\n\n`;
  message += `I'm interested in this product. Please provide more details.`;
  
  const whatsappUrl = `https://wa.me/971543746476?text=${encodeURIComponent(message)}`;
  window.open(whatsappUrl, '_blank');
}

function openCustomInquiry() {
  const message = `üé® *Custom Design Inquiry - RYAAN JEWELLERS*\n\n`;
  message += `Hello, I'm interested in creating a custom jewellery piece.\n\n`;
  message += `Please assist me with the design process.`;
  
  const whatsappUrl = `https://wa.me/971543746476?text=${encodeURIComponent(message)}`;
  window.open(whatsappUrl, '_blank');
}

function showNotification(message, type = 'info') {
  const notify = document.getElementById('notify');
  notify.textContent = message;
  notify.style.backgroundColor = type === 'success' ? '#4CAF50' : 'var(--rose)';
  notify.style.display = 'block';
  
  setTimeout(() => notify.style.transform = 'translateX(0)', 10);
  
  setTimeout(() => {
    notify.style.transform = 'translateX(100%)';
    setTimeout(() => notify.style.display = 'none', 300);
  }, 3000);
}

/* ---------- Initialize ---------- */
function init() {
  renderSlider();
  renderProducts();
  updateCartUI();
  
  const savedCart = localStorage.getItem('ryaanCart');
  if (savedCart) {
    cart = JSON.parse(savedCart);
    updateCartUI();
  }
  
  const track = document.getElementById('sliderTrack');
  let isDragging = false;
  let startX = 0;
  let currentTranslate = 0;
  let prevTranslate = 0;
  
  track.addEventListener('pointerdown', (e) => {
    isDragging = true;
    startX = e.clientX;
    prevTranslate = currentTranslate;
    track.style.cursor = 'grabbing';
    clearInterval(autoSlide);
  });
  
  track.addEventListener('pointermove', (e) => {
    if (!isDragging) return;
    e.preventDefault();
    const currentX = e.clientX;
    const diff = currentX - startX;
    currentTranslate = prevTranslate + diff;
  });
  
  track.addEventListener('pointerup', () => {
    isDragging = false;
    track.style.cursor = 'grab';
    
    const slides = document.querySelectorAll('.slide');
    if (slides.length === 0) return;
    
    const slideWidth = slides[0].offsetWidth + 14;
    currentSlide = Math.round(currentTranslate / slideWidth);
    currentSlide = Math.max(0, Math.min(currentSlide, slides.length - 1));
    currentTranslate = currentSlide * slideWidth;
    
    updateSliderPosition();
    startAutoSlide();
  });
  
  track.addEventListener('pointerleave', () => {
    if (isDragging) {
      isDragging = false;
      track.style.cursor = 'grab';
      
      const slides = document.querySelectorAll('.slide');
      if (slides.length === 0) return;
      
      const slideWidth = slides[0].offsetWidth + 14;
      currentSlide = Math.round(currentTranslate / slideWidth);
      currentSlide = Math.max(0, Math.min(currentSlide, slides.length - 1));
      currentTranslate = currentSlide * slideWidth;
      
      updateSliderPosition();
      startAutoSlide();
    }
  });
  
  window.addEventListener('click', (e) => {
    if (e.target.id === 'cartModal') closeCart();
    if (e.target.id === 'checkoutModal') closeCheckout();
  });
  
  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape') {
      closeCart();
      closeCheckout();
    }
  });
  
  window.addEventListener('resize', updateSliderPosition);
}

document.addEventListener('DOMContentLoaded', init);
</script>
</body>
</html>
