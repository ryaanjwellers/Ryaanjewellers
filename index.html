<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Ryaan Jewellers ‚Äì Luxury 18K Jewellery Dubai ‚Äì Official Store</title>

<!-- Fonts & Chart -->
<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@600;700&family=Montserrat:wght@300;400;600&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<!-- Stripe.js (used when you set publishable key in env) -->
<script src="https://js.stripe.com/v3/"></script>

<style>
:root{
  --bg:#050505; --card:#0f0f10; --text:#f6f6f6; --gold:#D4AF37; --muted:#bfbfbf;
}
:root[data-theme="light"]{ --bg:#ffffff; --card:#f6f6f6; --text:#111; --muted:#666; }
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;font-family:Montserrat,Arial,sans-serif;background:var(--bg);color:var(--text);-webkit-font-smoothing:antialiased;transition:background .3s,color .3s}
.container{max-width:1200px;margin:0 auto;padding:18px}

/* HEADER */
header{position:sticky;top:0;z-index:999;background:linear-gradient(180deg, rgba(0,0,0,0.55), rgba(0,0,0,0.35));backdrop-filter:blur(6px);padding:12px 18px;border-bottom:1px solid rgba(212,175,55,0.06);display:flex;align-items:center;justify-content:space-between}
.header-left, .header-center, .header-right{display:flex;align-items:center;gap:12px}
.header-center{flex:0 0 auto; margin:0 auto; justify-content:center; text-align:center}
.header-center img{height:110px; object-fit:contain; border-radius:6px; filter: drop-shadow(0 6px 18px rgba(212,175,55,0.18));}
/* header small screens */
@media(max-width:768px){
  .header-center img{height:72px}
  header{padding:10px}
}

/* Buttons & widgets */
.btn{background:var(--gold);color:#111;border:none;padding:9px 14px;border-radius:8px;cursor:pointer;font-weight:700}
.small-btn{background:transparent;color:var(--text);border:1px solid rgba(255,255,255,0.06);padding:8px 10px;border-radius:8px;cursor:pointer}
.lang-btn{min-width:90px}
.gold-widget{background:linear-gradient(90deg, rgba(0,0,0,0.45), rgba(0,0,0,0.25));padding:8px 12px;border-radius:10px;border:1px solid rgba(212,175,55,0.08);display:flex;gap:10px;align-items:center}

/* PRELOADER / SPLASH */
#preloader{position:fixed;inset:0;background:transparent;display:flex;align-items:center;justify-content:center;z-index:10000}
.splash-wrap{width:100%;height:100vh;display:flex;align-items:center;justify-content:center;flex-direction:column;gap:18px}
.splash-logo{width:420px;height:420px;border-radius:50%;display:flex;align-items:center;justify-content:center;background:radial-gradient(circle at 30% 20%, rgba(212,175,55,0.18), transparent 30%);position:relative}
.splash-logo img{max-width:80%;max-height:80%;object-fit:contain;filter:drop-shadow(0 12px 36px rgba(212,175,55,0.25));}
.sparkle {position:absolute;pointer-events:none;mix-blend-mode:screen;}

/* animated sparkles */
.sparkle span{position:absolute;width:6px;height:6px;background:radial-gradient(circle, #fff 0%, rgba(212,175,55,0.9) 40%, rgba(212,175,55,0.2) 60%, transparent 100%);border-radius:50%;filter:blur(0.8px);opacity:0;animation:twinkle 2.8s infinite ease-in-out}
@keyframes twinkle{
  0%{transform:scale(0.6);opacity:0}
  35%{opacity:1;transform:scale(1.1)}
  60%{opacity:0.6;transform:scale(0.9)}
  100%{opacity:0;transform:scale(0.6)}
}

/* HERO */
.hero{border-radius:14px;overflow:hidden;position:relative;box-shadow:0 10px 40px rgba(0,0,0,0.6);margin-top:18px}
.track{display:flex;transition:transform .7s ease}
.slide{min-width:100%;height:460px;background-size:cover;background-position:center}
.slide-overlay{position:absolute;left:0;bottom:24px;width:100%;display:flex;align-items:center;justify-content:center;pointer-events:none}
.hero-caption{background:linear-gradient(90deg, rgba(0,0,0,0.6), rgba(0,0,0,0.35));padding:18px 26px;border-radius:10px;pointer-events:auto;max-width:880px;text-align:center}
.hero-caption h2{margin:0;font-family:Cinzel,serif;color:var(--gold);font-size:32px}
.hero-caption p{margin:8px 0 0 0;color:var(--muted);font-size:16px;line-height:1.6}

/* dots */
.dots{display:flex;gap:8px;justify-content:center;margin-top:12px}
.dot{width:12px;height:12px;border-radius:50%;background:rgba(255,255,255,0.12);cursor:pointer;border:1px solid rgba(255,255,255,0.02)}
.dot.active{background:var(--gold);box-shadow:0 6px 12px rgba(212,175,55,0.18)}

/* categories */
.cats{display:flex;gap:12px;overflow:auto;padding:12px 0;margin-top:18px}
.cat{min-width:140px;padding:8px;background:var(--card);border-radius:10px;text-align:center;cursor:pointer;border:1px solid rgba(212,175,55,0.06)}
.cat img{width:100%;height:90px;object-fit:cover;border-radius:8px}

/* product grid & carousel */
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:18px;margin-top:18px}
.card{background:var(--card);padding:12px;border-radius:12px}
.card img{width:100%;height:200px;object-fit:cover;border-radius:10px}

/* product sliding carousel */
.product-carousel{display:flex;gap:12px;overflow:hidden;padding:10px 0}
.carousel-track{display:flex;gap:12px;transition:transform .5s}

/* cart drawer */
#cartDrawer{position:fixed;top:0;right:-420px;width:420px;height:100vh;background:var(--card);border-left:1px solid rgba(212,175,55,0.08);box-shadow:-6px 0 30px rgba(0,0,0,0.55);padding:22px;z-index:10001;transition:right .35s;overflow-y:auto;border-radius:8px}

/* payment modal */
#paymentModal{display:none;position:fixed;inset:0;background:rgba(0,0,0,0.6);z-index:10010;align-items:center;justify-content:center}
.payment-box{width:460px;max-width:94%;background:var(--card);padding:18px;border-radius:12px}

/* footer */
footer{background:#000;padding:60px 25px 140px 25px;margin-top:60px;border-top:1px solid rgba(212,175,55,0.15);color:var(--text)}

/* mobile */
@media(max-width:900px){
  .slide{height:300px}
  .hero-caption h2{font-size:20px}
  .header-center img{height:72px}
  .card img{height:160px}
}
.small{font-size:13px;color:var(--muted)}
</style>
</head>
<body>

<!-- PRELOADER / SPLASH -->
<div id="preloader" aria-hidden="false">
  <div class="splash-wrap" role="status" aria-label="Loading">
    <div class="splash-logo" id="splashLogo">
      <img id="splashImg" src="https://raw.githubusercontent.com/ryaanjewellers007/Ryaanjewellers/main/Logo%20new%20ryaan.png" alt="Ryaan Jewellers">
      <div class="sparkle" id="sparkles"></div>
    </div>
    <div style="text-align:center;color:var(--muted);font-size:14px">Ryaan Jewellers ‚Äî Premium 18K Master-Copy Jewellery</div>
  </div>
</div>

<!-- HEADER -->
<header>
  <div class="header-left" style="gap:10px">
    <button class="small-btn lang-btn" id="langBtn">ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</button>
    <button class="small-btn" id="themeBtn">Theme</button>
  </div>

  <div class="header-center">
    <!-- BIG logo center -->
    <img id="headerLogo" src="https://raw.githubusercontent.com/ryaanjewellers007/Ryaanjewellers/main/Logo%20new%20ryaan.png" alt="Ryaan Logo">
  </div>

  <div class="header-right" style="gap:12px">
    <div class="gold-widget" title="Live 24K price AED/g">
      <div style="font-size:12px;color:var(--muted)"><strong id="goldLabel">24K</strong></div>
      <div style="font-weight:800;color:var(--gold);font-size:16px" id="goldHeaderPrice">--</div>
      <div style="font-size:11px;color:var(--muted);margin-left:6px">AED/g</div>
    </div>
    <button class="btn" onclick="showSection('shop')">Shop</button>
  </div>
</header>

<main class="container">

  <!-- HERO -->
  <div class="hero" id="hero">
    <div class="track" id="track">
      <div class="slide" style="background-image:url('https://raw.githubusercontent.com/ryaanjewellers007/Ryaanjewellers/main/S_1.jpg')"></div>
      <div class="slide" style="background-image:url('https://raw.githubusercontent.com/ryaanjewellers007/Ryaanjewellers/main/S_10.jpg')"></div>
      <div class="slide" style="background-image:url('https://raw.githubusercontent.com/ryaanjewellers007/Ryaanjewellers/main/S_11.jpg')"></div>
    </div>
    <div class="slide-overlay">
      <div class="hero-caption" role="region" aria-label="Hero caption">
        <h2 data-en="18K Crafted Luxury ‚Äî Master Copies" data-ar="ŸÅÿÆÿßŸÖÿ© 18 ŸÇŸäÿ±ÿßÿ∑ ‚Äî ŸÜÿ≥ÿÆ ŸÖÿßÿ≥ÿ™ÿ±">18K Crafted Luxury ‚Äî Master Copies</h2>
        <p data-en="Hand-finished pieces inspired by the finest maisons. Timeless designs, exquisite finishing, unmatched detail." data-ar="ŸÇÿ∑ÿπ ŸÖÿµŸÇŸàŸÑÿ© ŸäÿØŸàŸäÿßŸã ŸÖÿ≥ÿ™Ÿàÿ≠ÿßÿ© ŸÖŸÜ ÿ£ÿ±ŸÇŸâ ÿØŸàÿ± ÿßŸÑŸÖÿ¨ŸàŸáÿ±ÿßÿ™. ÿ™ÿµÿßŸÖŸäŸÖ ÿÆÿßŸÑÿØÿ©ÿå ÿ™ÿ¥ÿ∑Ÿäÿ®ÿßÿ™ ŸÅÿßÿÆÿ±ÿ©ÿå Ÿàÿ™ŸÅÿßÿµŸäŸÑ ŸÑÿß ŸÖÿ´ŸäŸÑ ŸÑŸáÿß.">Hand-finished pieces inspired by the finest maisons. Timeless designs, exquisite finishing, unmatched detail.</p>
      </div>
    </div>
  </div>

  <div class="dots" id="dots" style="margin-bottom:6px; margin-top:12px;">
    <div class="dot active" data-index="0" aria-label="Slide 1"></div>
    <div class="dot" data-index="1" aria-label="Slide 2"></div>
    <div class="dot" data-index="2" aria-label="Slide 3"></div>
  </div>

  <!-- GOLD RATES + CHART -->
  <section id="goldRates" style="margin-top:22px;display:grid;gap:12px;grid-template-columns:1fr 380px">
    <div style="background:#0d0d0d;padding:18px;border-radius:12px;border:1px solid rgba(212,175,55,0.08)">
      <h3 style="font-family:Cinzel,serif;color:var(--gold);margin:0 0 12px 0">Live Gold Rates (AED / gram)</h3>
      <div style="display:flex;gap:12px;flex-wrap:wrap">
        <div style="min-width:120px;padding:10px;background:var(--card);border-radius:8px;border:1px solid rgba(255,255,255,0.03)"><div class="small">24K</div><div style="font-weight:800;color:var(--gold);font-size:18px" id="gold24">--</div></div>
        <div style="min-width:120px;padding:10px;background:var(--card);border-radius:8px;border:1px solid rgba(255,255,255,0.03)"><div class="small">22K</div><div style="font-weight:800;color:var(--gold);font-size:18px" id="gold22">--</div></div>
        <div style="min-width:120px;padding:10px;background:var(--card);border-radius:8px;border:1px solid rgba(255,255,255,0.03)"><div class="small">21K</div><div style="font-weight:800;color:var(--gold);font-size:18px" id="gold21">--</div></div>
        <div style="min-width:120px;padding:10px;background:var(--card);border-radius:8px;border:1px solid rgba(255,255,255,0.03)"><div class="small">18K</div><div style="font-weight:800;color:var(--gold);font-size:18px" id="gold18">--</div></div>
      </div>
      <p class="small" style="margin-top:12px;color:var(--muted)">Prices auto-refresh every 30s. Source: public market fallback (no API key required)</p>
    </div>

    <!-- Chart -->
    <div style="background:var(--card);padding:14px;border-radius:12px;border:1px solid rgba(255,255,255,0.03)">
      <h4 style="margin:0 0 10px 0;font-family:Cinzel,serif;color:var(--gold)">24K ‚Äî Recent</h4>
      <canvas id="goldChart" width="400" height="240" style="width:100%;height:200px"></canvas>
      <div style="display:flex;justify-content:space-between;margin-top:10px;font-size:13px;color:var(--muted)"><div>Last update: <span id="goldUpdated">--</span></div><div><button class="small-btn" onclick="fetchAndUpdate(true)">Refresh</button></div></div>
    </div>
  </section>

  <!-- CATEGORIES -->
  <section id="categories" style="margin-top:30px;">
    <h2 data-en="Shop by Category" data-ar="ÿ™ÿ≥ŸàŸÇ ÿ≠ÿ≥ÿ® ÿßŸÑŸÅÿ¶ÿ©" style="font-family:Cinzel,serif;color:var(--gold);font-size:26px;text-align:center;">Shop by Category</h2>
    <div class="cats" style="margin-top:14px;">
      <div class="cat" onclick="filterCategory('rings')"><img src="https://raw.githubusercontent.com/ryaanjewellers007/Ryaanjewellers/main/S_1.jpg" alt=""><div style="margin-top:8px;font-weight:700;color:var(--gold)" data-en="Rings" data-ar="ÿÆŸàÿßÿ™ŸÖ">Rings</div></div>
      <div class="cat" onclick="filterCategory('necklaces')"><img src="https://raw.githubusercontent.com/ryaanjewellers007/Ryaanjewellers/main/S_2.jpg" alt=""><div style="margin-top:8px;font-weight:700;color:var(--gold)" data-en="Necklaces" data-ar="ŸÇŸÑÿßÿ¶ÿØ">Necklaces</div></div>
      <div class="cat" onclick="filterCategory('bracelets')"><img src="https://raw.githubusercontent.com/ryaanjewellers007/Ryaanjewellers/main/S_3.jpg" alt=""><div style="margin-top:8px;font-weight:700;color:var(--gold)" data-en="Bracelets" data-ar="ÿ£ÿ≥ÿßŸàÿ±">Bracelets</div></div>
      <div class="cat" onclick="filterCategory('earrings')"><img src="https://raw.githubusercontent.com/ryaanjewellers007/Ryaanjewellers/main/S_4.jpg" alt=""><div style="margin-top:8px;font-weight:700;color:var(--gold)" data-en="Earrings" data-ar="ÿ£ŸÇÿ±ÿßÿ∑">Earrings</div></div>
    </div>
  </section>

  <!-- BRANDS -->
  <section id="brands" style="margin-top:30px;">
    <h2 data-en="Designer Inspirations" data-ar="ÿ•ŸÑŸáÿßŸÖÿßÿ™ ÿßŸÑŸÖÿµŸÖŸÖŸäŸÜ" style="font-family:Cinzel,serif;color:var(--gold);font-size:26px;text-align:center;">Designer Inspirations</h2>
    <div style="margin-top:12px;overflow:hidden;border-radius:12px;padding:18px;background:linear-gradient(90deg, rgba(255,255,255,0.01), rgba(255,255,255,0.02));">
      <div id="brandTrack" style="display:flex;gap:20px;align-items:center;transition:transform .6s">
        <div style="min-width:200px;padding:18px;background:var(--card);border-radius:10px;text-align:center">Chopard</div>
        <div style="min-width:200px;padding:18px;background:var(--card);border-radius:10px;text-align:center">Van Cleef</div>
        <div style="min-width:200px;padding:18px;background:var(--card);border-radius:10px;text-align:center">Cartier</div>
        <div style="min-width:200px;padding:18px;background:var(--card);border-radius:10px;text-align:center">Boucheron</div>
        <div style="min-width:200px;padding:18px;background:var(--card);border-radius:10px;text-align:center">Messika</div>
        <div style="min-width:200px;padding:18px;background:var(--card);border-radius:10px;text-align:center">Marli</div>
      </div>
    </div>
  </section>

  <!-- FEATURED CAROUSEL -->
  <section style="margin-top:30px">
    <h2 style="font-family:Cinzel,serif;color:var(--gold);text-align:center">Featured Collection</h2>
    <div class="product-carousel" id="productCarouselOuter" style="margin-top:12px;overflow:hidden">
      <div class="carousel-track" id="carouselTrack">
        <!-- injected by JS -->
      </div>
    </div>
    <div style="text-align:center;margin-top:10px">
      <button class="small-btn" onclick="carouselPrev()">Prev</button>
      <button class="small-btn" onclick="carouselNext()">Next</button>
    </div>
  </section>

  <!-- SHOP GRID -->
  <section id="shop" style="margin-top:28px">
    <h2 data-en="Our Collections" data-ar="ŸÖÿ¨ŸÖŸàÿπÿßÿ™ŸÜÿß" style="font-family:Cinzel,serif;color:var(--gold);font-size:28px;text-align:center;">Our Collections</h2>
    <div style="margin:12px 0;text-align:center">
      <button class="small-btn" onclick="clearFilter()">All</button>
      <button class="small-btn" onclick="filterCategory('rings')">Rings</button>
      <button class="small-btn" onclick="filterCategory('necklaces')">Necklaces</button>
      <button class="small-btn" onclick="filterCategory('bracelets')">Bracelets</button>
      <button class="small-btn" onclick="filterCategory('earrings')">Earrings</button>
    </div>
    <div id="productGrid" class="grid"></div>
  </section>

  <!-- ENQUIRY -->
  <section id="enquiry" style="margin-top:32px;background:var(--card);padding:18px;border-radius:12px;border:1px solid rgba(255,255,255,0.03)">
    <h3 style="font-family:Cinzel,serif;color:var(--gold);margin:0 0 10px 0">Enquiry / Custom Order</h3>
    <form id="enquiryForm" onsubmit="submitEnquiry(event)" style="display:grid;gap:8px;grid-template-columns:1fr 1fr">
      <input required id="enq_name" placeholder="Full name" style="padding:10px;border-radius:6px;border:none;background:#0b0b0b;color:var(--text)">
      <input required id="enq_phone" placeholder="Phone (with country code)" style="padding:10px;border-radius:6px;border:none;background:#0b0b0b;color:var(--text)">
      <input id="enq_email" placeholder="Email (optional)" style="padding:10px;border-radius:6px;border:none;background:#0b0b0b;color:var(--text)">
      <select id="enq_pref" style="padding:10px;border-radius:6px;border:none;background:#0b0b0b;color:var(--text)">
        <option value="">Select category</option><option value="rings">Rings</option><option value="necklaces">Necklaces</option><option value="bracelets">Bracelets</option><option value="earrings">Earrings</option>
      </select>
      <textarea id="enq_msg" placeholder="Message / Requirements" style="grid-column:1 / -1;padding:10px;border-radius:6px;border:none;background:#0b0b0b;color:var(--text)"></textarea>
      <div style="grid-column:1 / -1;display:flex;gap:8px;justify-content:flex-end">
        <button class="btn" type="submit">Send Enquiry</button>
        <button class="small-btn" type="button" onclick="openInstagram()">Instagram</button>
      </div>
    </form>
  </section>

</main>

<!-- PAYMENT MODAL (Stripe will be used instead of demo if serverless set) -->
<div id="paymentModal" style="display:none;position:fixed;inset:0;background:rgba(0,0,0,0.6);z-index:10010;align-items:center;justify-content:center">
  <div class="payment-box">
    <h3 style="font-family:Cinzel,serif;color:var(--gold);margin:0 0 10px 0">Checkout ‚Äî Payment</h3>
    <div style="display:grid;gap:8px">
      <p class="small" style="margin:0 0 8px 0">This button will open Stripe Checkout to complete secure card payment.</p>
      <div style="display:flex;gap:8px;justify-content:flex-end">
        <button class="small-btn" onclick="closePayment()">Cancel</button>
        <button class="btn" onclick="processPaymentStripe()">Pay with Card</button>
      </div>
      <p class="small" style="color:var(--muted);margin-top:6px">Note: to enable real payments deploy the serverless endpoint <code>/api/create-checkout-session</code> and set your Stripe keys (instructions are in comments).</p>
    </div>
  </div>
</div>

<!-- CART DRAWER -->
<div id="cartDrawer">
  <h2 style="font-family:Cinzel,serif;color:var(--gold);font-size:22px;margin:0 0 10px 0">Your Cart</h2>
  <div id="cartItems"></div>
  <div style="margin-top:20px;border-top:1px solid rgba(255,255,255,0.08);padding-top:12px;">
    <p style="font-size:16px;color:var(--text);margin:0 0 8px 0">Total:</p>
    <p id="cartTotal" style="font-size:20px;color:var(--gold);margin:0">AED 0</p>
  </div>
  <div style="display:flex;gap:8px;margin-top:12px">
    <button class="btn" style="flex:1" onclick="openPayment()">Pay (Demo)</button>
    <button class="small-btn" style="flex:1" onclick="checkout()">Checkout (WhatsApp)</button>
  </div>
  <button class="small-btn" style="width:100%;margin-top:12px;background:#222" onclick="toggleCart()">Close</button>
</div>

<!-- FOOTER -->
<footer>
  <div class="container" style="max-width:1150px;">
    <div style="text-align:center;margin-bottom:18px;">
      <img src="https://raw.githubusercontent.com/ryaanjewellers007/Ryaanjewellers/main/Logo%20new%20ryaan.png" style="height:90px;object-fit:contain;filter:drop-shadow(0 0 6px rgba(212,175,55,0.25))" alt="Ryaan logo">
    </div>
    <div style="width:120px;height:2px;background:var(--gold);margin:15px auto 40px auto;border-radius:2px"></div>
    <div style="display:grid;gap:35px;grid-template-columns:repeat(auto-fit,minmax(240px,1fr))">
      <div>
        <h2 style="font-family:Cinzel,serif;color:var(--gold);font-size:26px;margin:0">Ryaan Jewellers</h2>
        <p style="font-size:15px;line-height:1.7;color:var(--muted)">Premium 18K Master-Copy Jewellery inspired by top maisons.</p>
      </div>
      <div>
        <h3 style="font-family:Cinzel,serif;color:var(--gold);font-size:20px;margin-bottom:10px">Quick Links</h3>
        <p><a onclick="showSection('shop')" style="color:var(--text);cursor:pointer;text-decoration:none">Shop</a></p>
        <p><a onclick="filterCategory('rings')" style="color:var(--text);cursor:pointer;text-decoration:none">Rings</a></p>
      </div>
      <div>
        <h3 style="font-family:Cinzel,serif;color:var(--gold);font-size:20px;margin-bottom:10px">Contact Us</h3>
        <p>üìç Dubai, UAE</p>
        <p>üìû <a href="tel:+971543746476" style="color:var(--text);text-decoration:none">+971 543746476</a></p>
        <p>üìß <a href="mailto:ryaanjewellers@gmail.com" style="color:var(--text);text-decoration:none">ryaanjewellers@gmail.com</a></p>
        <p>üí¨ <a href="https://wa.me/971543746476" target="_blank" style="color:var(--text);text-decoration:none">WhatsApp</a></p>
      </div>
      <div>
        <h3 style="font-family:Cinzel,serif;color:var(--gold);font-size:20px;margin-bottom:10px">Follow</h3>
        <p>üì∏ <a id="instaLink" href="https://instagram.com/ryaanjewellers007" target="_blank" style="color:var(--text);text-decoration:none">Instagram</a></p>
      </div>
    </div>

    <div style="margin-top:45px;display:grid;gap:12px;grid-template-columns:repeat(auto-fit,minmax(120px,1fr))">
      <img src="https://raw.githubusercontent.com/ryaanjewellers007/Ryaanjewellers/main/Screenshot_20251129_014405_Chrome.jpg" style="width:100%;border-radius:8px">
      <img src="https://raw.githubusercontent.com/ryaanjewellers007/Ryaanjewellers/main/Screenshot_20251129_014643_Chrome.jpg" style="width:100%;border-radius:8px">
      <img src="https://raw.githubusercontent.com/ryaanjewellers007/Ryaanjewellers/main/Screenshot_20251129_204200_Instagram.jpg" style="width:100%;border-radius:8px">
      <img src="https://raw.githubusercontent.com/ryaanjewellers007/Ryaanjewellers/main/Screenshot_20251129_014643_Chrome.jpg" style="width:100%;border-radius:8px">
    </div>

    <div style="width:100%;height:1px;background:rgba(255,255,255,0.08);margin:35px 0"></div>
    <p style="text-align:center;font-size:14px;color:var(--muted)">¬© 2025 Ryaan Jewellers ‚Äî All Rights Reserved.</p>
  </div>
</footer>

<!-- MOBILE FOOTER BAR -->
<div style="position:fixed;bottom:0;left:0;width:100%;background:#000;border-top:1px solid rgba(212,175,55,0.15);padding:12px 0;display:flex;justify-content:space-around;z-index:9999">
  <button onclick="showSection('shop')" style="background:none;border:none;color:var(--gold);font-size:22px">üè¨</button>
  <button onclick="toggleCart()" style="background:none;border:none;color:var(--gold);font-size:22px">üõç</button>
  <button onclick="window.scrollTo({top:0,behavior:'smooth'})" style="background:none;border:none;color:var(--gold);font-size:22px">‚¨ÜÔ∏è</button>
</div>

<!-- BACK TO TOP -->
<button onclick="window.scrollTo({top:0,behavior:'smooth'})" style="position:fixed;bottom:110px;right:20px;height:48px;width:48px;border-radius:50%;border:none;background:var(--gold);color:#111;font-size:18px;cursor:pointer;box-shadow:0 4px 18px rgba(212,175,55,0.35);z-index:9999">‚Üë</button>

<script>
/* ============================
   RYAAN JEWELLERS ‚Äî single file JS
   - Live gold (public fallback)
   - Splash sparkle animation
   - Sliders, carousel, products, cart
   - Stripe Checkout integration (client side)
   ============================ */

/* ---------- Config ---------- */
const RAW_BASE = "https://raw.githubusercontent.com/ryaanjewellers007/Ryaanjewellers/main/";
const GOLD_FALLBACK = 500.00; // AED/g fallback
let livePerGram24 = GOLD_FALLBACK; // 24K per gram
let goldChartData = {labels:[],data:[]};

/* ---------- PRODUCTS (S_1..S_13) ---------- */
const PRODUCTS = [
  {"id":"P100","title_en":"Chic Lattice - Yellow 18K","title_ar":"Chic Lattice - Yellow 18K","purity":"18K","metal":"Yellow","weight_g":6,"image":RAW_BASE+"S_1.jpg","category":"rings"},
  {"id":"P101","title_en":"Maison Classic - White 18K","title_ar":"Maison Classic - White 18K","purity":"18K","metal":"White","weight_g":7,"image":RAW_BASE+"S_2.jpg","category":"necklaces"},
  {"id":"P102","title_en":"√âclat Diamond - Rose 18K","title_ar":"√âclat Diamond - Rose 18K","purity":"18K","metal":"Rose","weight_g":5,"image":RAW_BASE+"S_3.jpg","category":"bracelets"},
  {"id":"P103","title_en":"Royal Motif - Yellow 18K","title_ar":"Royal Motif - Yellow 18K","purity":"18K","metal":"Yellow","weight_g":8,"image":RAW_BASE+"S_4.jpg","category":"earrings"},
  {"id":"P104","title_en":"Petite √âtoile - White 18K","title_ar":"Petite √âtoile - White 18K","purity":"18K","metal":"White","weight_g":9,"image":RAW_BASE+"S_5.jpg","category":"rings"},
  {"id":"P105","title_en":"Aurora Braid - Rose 18K","title_ar":"Aurora Braid - Rose 18K","purity":"18K","metal":"Rose","weight_g":10,"image":RAW_BASE+"S_6.jpg","category":"necklaces"},
  {"id":"P106","title_en":"Celeste Drop - Yellow 18K","title_ar":"Celeste Drop - Yellow 18K","purity":"18K","metal":"Yellow","weight_g":6,"image":RAW_BASE+"S_7.jpg","category":"bracelets"},
  {"id":"P107","title_en":"Opal Curve - White 18K","title_ar":"Opal Curve - White 18K","purity":"18K","metal":"White","weight_g":11,"image":RAW_BASE+"S_8.jpg","category":"earrings"},
  {"id":"P108","title_en":"Luna Band - Rose 18K","title_ar":"Luna Band - Rose 18K","purity":"18K","metal":"Rose","weight_g":12,"image":RAW_BASE+"S_9.jpg","category":"rings"},
  {"id":"P109","title_en":"Velvet Hoop - Yellow 18K","title_ar":"Velvet Hoop - Yellow 18K","purity":"18K","metal":"Yellow","weight_g":7,"image":RAW_BASE+"S_10.jpg","category":"necklaces"},
  {"id":"P110","title_en":"Regal Chain - White 18K","title_ar":"Regal Chain - White 18K","purity":"18K","metal":"White","weight_g":14,"image":RAW_BASE+"S_11.jpg","category":"bracelets"},
  {"id":"P111","title_en":"Solitaire Muse - Rose 18K","title_ar":"Solitaire Muse - Rose 18K","purity":"18K","metal":"Rose","weight_g":5,"image":RAW_BASE+"S_12.jpg","category":"earrings"},
  {"id":"P112","title_en":"Marli Twist - Yellow 18K","title_ar":"Marli Twist - Yellow 18K","purity":"18K","metal":"Yellow","weight_g":13,"image":RAW_BASE+"S_13.jpg","category":"necklaces"}
];
let currentProductsFilter = null;

/* ---------- Helpers ---------- */
function LANG(){ return localStorage.getItem('ry_lang') || 'en'; }
function t(en, ar){ return LANG() === 'ar' ? (ar||en) : en; }
function escapeHtml(s){ return String(s).replace(/&/g,'&amp;').replace(/</g,'&lt;'); }

/* ---------- Splash sparkle animation build ---------- */
function buildSparkles(){
  const sparkWrap = document.getElementById('sparkles');
  if(!sparkWrap) return;
  const spots = [
    {left:'18%', top:'18%', delay:0},
    {left:'70%', top:'26%', delay:0.4},
    {left:'40%', top:'72%', delay:0.9},
    {left:'82%', top:'70%', delay:1.4},
    {left:'22%', top:'60%', delay:1.8},
    {left:'56%', top:'42%', delay:0.6}
  ];
  sparkWrap.innerHTML = '';
  spots.forEach((s,i)=>{
    const sp = document.createElement('span');
    sp.style.left = s.left; sp.style.top = s.top;
    sp.style.animationDelay = (s.delay + (i*0.12)) + 's';
    // size random
    const sz = 4 + Math.round(Math.random()*6);
    sp.style.width = sz + 'px'; sp.style.height = sz + 'px';
    sparkWrap.appendChild(sp);
  });
}

/* ---------- Preloader hide ---------- */
window.addEventListener('load', ()=> {
  setTimeout(()=> {
    const pre = document.getElementById('preloader');
    if(pre){ pre.style.opacity = 0; pre.style.pointerEvents = 'none'; setTimeout(()=> pre.remove(), 900); }
  }, 900);
  buildSparkles();
});

/* ---------- HERO SLIDER ---------- */
let slideIndex = 0;
const slides = () => document.querySelectorAll('.track .slide');
const dots = () => document.querySelectorAll('.dot');
function goToSlide(i){
  const s = slides();
  if(!s || s.length===0) return;
  slideIndex = ((i % s.length) + s.length) % s.length;
  document.getElementById('track').style.transform = 'translateX(-' + (slideIndex * 100) + '%)';
  dots().forEach(d=>d.classList.remove('active'));
  if(dots()[slideIndex]) dots()[slideIndex].classList.add('active');
}
document.addEventListener('click', function(e){
  if(e.target && e.target.matches('.dot')) goToSlide(Number(e.target.getAttribute('data-index')));
});
let sliderAuto = setInterval(()=> goToSlide(slideIndex + 1), 4000);

/* ---------- BRANDS TRACK ---------- */
try {
  const brandTrack = document.getElementById('brandTrack');
  let brandPos = 0;
  if(brandTrack) setInterval(()=> {
    brandPos = (brandPos + 1) % (brandTrack.children.length || 1);
    brandTrack.style.transform = 'translateX(-' + (brandPos * 220) + 'px)';
  }, 2600);
}catch(e){}

/* ---------- GOLD PRICE (public fallback method) ----------
   Strategy:
   1) Try public gold price feed (no key) that returns USD/ounce
   2) Convert USD -> AED via exchangerate.host (free)
   3) Convert ounce -> gram (1 troy oz = 31.1034768 g)
   4) If any step fails, fallback to GOLD_FALLBACK (500)
----------------------------------------------- */
async function fetchLiveGoldPublic(){
  // attempt sequence of public endpoints
  try{
    // 1) Try goldprice.org JSON endpoint (common public source)
    let ounceUSD = null;
    try{
      // data-asg.goldprice.org gives JSON with items and price in USD
      const res = await fetch('https://data-asg.goldprice.org/dbXRates/USD', {cache:'no-store'});
      if(res.ok){
        const json = await res.json();
        // json?.items[0].xauPrice is per ounce in USD (if present)
        if(json && json.items && json.items.length){
          const itm = json.items[0];
          if(itm && (itm.xauPrice || itm.price)) ounceUSD = Number(itm.xauPrice || itm.price);
        }
      }
    }catch(e){ console.warn('goldprice.org fetch fail', e); }

    // 2) fallback: alternative public JSON (if above null)
    if(!ounceUSD){
      try{
        const res2 = await fetch('https://www.goldapi.io/api/XAU/USD', {cache:'no-store'});
        if(res2.ok){
          const j2 = await res2.json();
          if(j2 && j2.price) ounceUSD = Number(j2.price);
        }
      }catch(e){ /* ignore, may require key */ }
    }

    // If we have ounceUSD -> convert USD -> AED
    if(ounceUSD){
      // convert USD to AED using exchangerate.host
      try{
        const fx = await fetch('https://api.exchangerate.host/convert?from=USD&to=AED', {cache:'no-store'});
        if(fx.ok){
          const jfx = await fx.json();
          if(jfx && jfx.result){
            const rate = Number(jfx.result); // USD->AED
            const ounceAED = ounceUSD * rate;
            const perGram24 = ounceAED / 31.1034768;
            livePerGram24 = perGram24;
            updateGoldDisplays(perGram24);
            pushChartPoint(perGram24);
            document.getElementById('goldUpdated').innerText = new Date().toLocaleTimeString();
            return true;
          }
        }
      }catch(e){ console.warn('fx fetch fail', e); }
    }

    // If we reach here, no public data -> fallback
    livePerGram24 = GOLD_FALLBACK;
    updateGoldDisplays(livePerGram24);
    pushChartPoint(livePerGram24);
    document.getElementById('goldUpdated').innerText = new Date().toLocaleTimeString();
    return false;

  }catch(err){
    console.warn('fetchLiveGoldPublic fail', err);
    livePerGram24 = GOLD_FALLBACK;
    updateGoldDisplays(livePerGram24);
    pushChartPoint(livePerGram24);
    document.getElementById('goldUpdated').innerText = new Date().toLocaleTimeString();
    return false;
  }
}

function updateGoldDisplays(perGram24){
  const safe = v => v ? Number(v).toFixed(2) : '--';
  const p24 = Number(perGram24);
  const p22 = p24 * (22/24);
  const p21 = p24 * (21/24);
  const p18 = p24 * (18/24);
  document.getElementById('gold24').innerText = safe(p24);
  document.getElementById('gold22').innerText = safe(p22);
  document.getElementById('gold21').innerText = safe(p21);
  document.getElementById('gold18').innerText = safe(p18);
  document.getElementById('goldHeaderPrice').innerText = safe(p24);
}

/* auto refresh every 30s */
fetchLiveGoldPublic();
setInterval(()=> fetchLiveGoldPublic(), 30000);

/* ---------- Chart (Chart.js) ---------- */
const ctx = document.getElementById('goldChart').getContext('2d');
const chartData = { labels: [], datasets: [{ label: '24K AED/g', data: [], borderColor: '#D4AF37', backgroundColor: 'rgba(212,175,55,0.08)', tension: 0.3 }] };
const goldChart = new Chart(ctx, { type:'line', data: chartData, options:{responsive:true,plugins:{legend:{display:false}},scales:{x:{display:true},y:{display:true}}} });
function pushChartPoint(val){
  const label = new Date().toLocaleTimeString();
  chartData.labels.push(label);
  chartData.datasets[0].data.push(Number(Number(val).toFixed(2)));
  if(chartData.labels.length > 24){ chartData.labels.shift(); chartData.datasets[0].data.shift(); }
  goldChart.update();
}

/* ---------- PRODUCT CAROUSEL ---------- */
const carouselTrack = document.getElementById('carouselTrack');
function buildCarousel(){
  if(!carouselTrack) return;
  carouselTrack.innerHTML = '';
  PRODUCTS.forEach(p=>{
    const d = document.createElement('div');
    d.style.minWidth = '260px';
    d.style.background = 'var(--card)';
    d.style.borderRadius = '12px';
    d.style.padding = '10px';
    d.innerHTML = `<img src="${p.image}" style="width:100%;height:160px;object-fit:cover;border-radius:8px"><div style="margin-top:8px;font-weight:700;color:var(--gold)">${escapeHtml(LANG()==='ar'?p.title_ar:p.title_en)}</div><div class="small">${p.purity} ‚Ä¢ ${p.metal} ‚Ä¢ ${p.weight_g}g</div><div style="margin-top:8px;display:flex;gap:8px"><button class="btn" onclick="addToCart('${p.id}')">Add</button><button class="small-btn" onclick="viewProduct('${p.id}')">View</button></div>`;
    carouselTrack.appendChild(d);
  });
}
let carouselPos = 0;
function carouselNext(){ carouselTrack.parentElement.scrollBy({left:260,behavior:'smooth'}); }
function carouselPrev(){ carouselTrack.parentElement.scrollBy({left:-260,behavior:'smooth'}); }

/* ---------- PRICING & PRODUCTS ---------- */
function computePrice(product){
  const purity = parseInt(product.purity) || 18;
  const grams = Number(product.weight_g || 0);
  const perGram = livePerGram24 || GOLD_FALLBACK;
  const base = perGram * grams * (purity/24);
  return Number(base * 1.10); // 10% markup
}

function renderProducts(list){
  const grid = document.getElementById('productGrid');
  if(!grid) return;
  const items = list || PRODUCTS;
  grid.innerHTML = '';
  items.forEach(p=>{
    const price = computePrice(p);
    const card = document.createElement('div'); card.className = 'card';
    card.innerHTML = `<img src="${p.image}" alt="${escapeHtml(p.title_en)}" loading="lazy"><h3 style="margin:8px 0">${escapeHtml(LANG()==='ar'?p.title_ar:p.title_en)}</h3><div class="small">${p.purity} ‚Ä¢ ${p.metal} Gold ‚Ä¢ ${p.weight_g} g</div><div style="margin-top:8px;font-weight:800;color:var(--gold)">AED ${price.toLocaleString(undefined,{minimumFractionDigits:2,maximumFractionDigits:2})}</div><div style="margin-top:10px;display:flex;gap:8px"><button class="btn" onclick="addToCart('${p.id}')">${t('Add to Cart','ÿ£ÿ∂ŸÅ ÿ•ŸÑŸâ ÿßŸÑÿ≥ŸÑÿ©')}</button><button class="small-btn" onclick="viewProduct('${p.id}')">${t('View','ÿπÿ±ÿ∂')}</button></div>`;
    grid.appendChild(card);
  });
}

/* ---------- FILTERS ---------- */
function filterCategory(cat){ if(!cat) return renderProducts(PRODUCTS); currentProductsFilter = cat; const filtered = PRODUCTS.filter(p => p.category === cat); renderProducts(filtered); }
function clearFilter(){ currentProductsFilter = null; renderProducts(PRODUCTS); }

/* ---------- CART ---------- */
function getCart(){ return JSON.parse(localStorage.getItem('ry_cart') || '[]'); }
function saveCart(c){ localStorage.setItem('ry_cart', JSON.stringify(c)); updateCartUI(); renderCartItems(); }
function addToCart(id){ const cart = getCart(); const it = cart.find(x=>x.id===id); if(it) it.qty++; else cart.push({id:id,qty:1}); saveCart(cart); alert(t('Added to cart','ÿ™ŸÖÿ™ ÿßŸÑÿ•ÿ∂ÿßŸÅÿ© ÿ•ŸÑŸâ ÿßŸÑÿ≥ŸÑÿ©')); }
function changeQty(id, delta){ const cart = getCart(); const it = cart.find(x=>x.id===id); if(!it) return; it.qty += delta; if(it.qty<=0){ const idx = cart.findIndex(x=>x.id===id); if(idx>=0) cart.splice(idx,1); } saveCart(cart); }
function renderCartItems(){ const container = document.getElementById('cartItems'); if(!container) return; const cart = getCart(); if(cart.length===0){ container.innerHTML = `<p class="small">${t('Your cart is empty','ÿ≥ŸÑÿ© ÿßŸÑÿ™ÿ≥ŸàŸÇ ŸÅÿßÿ±ÿ∫ÿ©')}</p>`; document.getElementById('cartTotal').innerText = 'AED 0'; return; } let html=''; let total=0; cart.forEach(it=>{ const p = PRODUCTS.find(x=>x.id===it.id); if(!p) return; const price = computePrice(p); const subtotal = price * it.qty; total += subtotal; html += `<div style="display:flex;justify-content:space-between;padding:10px 0;border-bottom:1px solid rgba(255,255,255,0.04)"><div><strong>${escapeHtml(LANG()==='ar'?p.title_ar:p.title_en)}</strong><div class="small">${p.purity} ‚Ä¢ ${p.metal} ‚Ä¢ ${p.weight_g} g</div><div class="small">${t('Qty','ÿßŸÑŸÉŸÖŸäÿ©')}: ${it.qty} &nbsp;<button class="small-btn" onclick="changeQty('${p.id}', -1)">-</button> <button class="small-btn" onclick="changeQty('${p.id}', 1)">+</button></div></div><div style="font-weight:800;color:var(--gold)">AED ${subtotal.toFixed(2)}</div></div>`; }); html += `<div style="margin-top:12px"><strong style="color:var(--gold)">${t('Total','ÿßŸÑÿ•ÿ¨ŸÖÿßŸÑŸä')}: AED ${total.toFixed(2)}</strong></div>`; container.innerHTML = html; document.getElementById('cartTotal').innerText = `AED ${total.toFixed(2)}`; }
function toggleCart(){ const drawer = document.getElementById('cartDrawer'); if(!drawer) return; const open = drawer.style.right === '0px' || drawer.style.right === '0'; drawer.style.right = open ? '-420px' : '0'; if(!open) renderCartItems(); }
function clearCart(){ localStorage.removeItem('ry_cart'); renderCartItems(); updateCartUI(); }
function updateCartUI(){ const count = getCart().reduce((s,i)=>s+i.qty,0); /* Optionally show count in header */ }

/* ---------- View product ---------- */
function viewProduct(id){ const p = PRODUCTS.find(x=>x.id===id); if(!p) return; const price = computePrice(p).toFixed(2); if(LANG()==='ar'){ alert(`${p.title_ar}\n${p.purity} ‚Ä¢ ${p.metal} ‚Ä¢ ${p.weight_g}g\nÿßŸÑÿ≥ÿπÿ±: AED ${price}`); } else { alert(`${p.title_en}\n${p.purity} ‚Ä¢ ${p.metal} ‚Ä¢ ${p.weight_g}g\nPrice: AED ${price}`); } }

/* ---------- CHECKOUT via WhatsApp (quick orders) ---------- */
function checkout(){ const cart = getCart(); if(!cart || cart.length===0){ alert(t('Cart is empty','ÿßŸÑÿ≥ŸÑÿ© ŸÅÿßÿ±ÿ∫ÿ©')); return; } let total=0; let message = LANG()==='ar' ? 'ÿ∑ŸÑÿ® ŸÖŸÜ Ryaan Jewellers%0A%0A' : 'Order from Ryaan Jewellers%0A%0A'; cart.forEach(it=>{ const p = PRODUCTS.find(x=>x.id===it.id); if(!p) return; const price = computePrice(p); const subtotal = (price*it.qty).toFixed(2); total += parseFloat(subtotal); message += `‚Ä¢ ${LANG()==='ar'?p.title_ar:p.title_en} (${p.purity}, ${p.metal}, ${p.weight_g}g) x ${it.qty} - AED ${subtotal}%0A`; }); message += `%0ATotal: AED ${total.toFixed(2)}%0A%0A` + (LANG()==='ar' ? 'ÿßŸÑŸÖÿ±ÿ¨Ÿà ÿ™ÿ£ŸÉŸäÿØ ÿßŸÑÿ™ŸàŸÅÿ±' : 'Please confirm availability'); window.open('https://wa.me/971543746476?text=' + encodeURIComponent(message),'_blank'); }

/* ---------- ENQUIRY FORM ---------- */
function submitEnquiry(e){ e.preventDefault(); const name = document.getElementById('enq_name').value; const phone = document.getElementById('enq_phone').value; const email = document.getElementById('enq_email').value; const pref = document.getElementById('enq_pref').value; const msg = document.getElementById('enq_msg').value; const text = `Enquiry from ${name} (${phone})%0AEmail: ${email}%0APreference: ${pref}%0A${msg}`; window.open('https://wa.me/971543746476?text=' + encodeURIComponent(text),'_blank'); }

/* ---------- INSTAGRAM ---------- */
function openInstagram(){ window.open('https://instagram.com/ryaanjewellers007','_blank'); }

/* ---------- LANGUAGE & THEME ---------- */
const langBtn = document.getElementById('langBtn');
function applyLang(){ const L = localStorage.getItem('ry_lang') || 'en'; document.querySelectorAll('[data-en]').forEach(el=>
