<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Ryaan | Luxury 18K Gold & Diamond Jewellery</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="description" content="Ryaan Jewellers — Minimalist luxury 18K gold and diamond jewellery. Handcrafted pieces inspired by Van Cleef & Messika aesthetics." />
  
  <!-- Premium Meta Tags -->
  <meta property="og:title" content="Ryaan | Luxury Jewellery House">
  <meta property="og:description" content="Exclusive 18K gold and diamond collections. Minimalist design, maximum impact.">
  <meta property="og:image" content="">
  <meta property="og:url" content="https://ryaanjewellers.com">
  <meta property="og:type" content="website">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@ryaanjewellers">
  
  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;500;600&family=Inter:wght@300;400;500&display=swap" rel="stylesheet">
  
  <style>
    /* ========== LUXURY MINIMALIST THEME (Enhanced) ========== */
    :root {
      --bg-primary: #040404;
      --bg-secondary: #0f0f0f;
      --text-primary: #F7F6F3;
      --text-secondary: #BDB7AB;
      --accent-gold: #D4AF37;
      --accent-light: #F7E9A6;
      --accent-dark: #A67C00;
      --glass: rgba(255,255,255,0.03);
      --border-color: rgba(212,175,55,0.06);
      --transition: all 0.45s cubic-bezier(0.2, 0.8, 0.2, 1);
      --max-width: 1400px;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }
    html { scroll-behavior: smooth; }
    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      background: linear-gradient(180deg, var(--bg-primary) 0%, #070707 100%);
      color: var(--text-primary);
      -webkit-font-smoothing: antialiased;
      overflow-x: hidden;
      line-height: 1.6;
    }
    .serif { font-family: 'Cormorant Garamond', serif; letter-spacing: -0.02em; }

    /* ========== header & logo ========== */
    header {
      position: fixed; top: 0; left: 0; right: 0; z-index: 1000;
      padding: 1.4rem 0; backdrop-filter: blur(12px);
      background: linear-gradient(180deg, rgba(4,4,4,0.7), rgba(4,4,4,0.35));
      border-bottom: 1px solid var(--border-color);
      transition: var(--transition);
    }
    .nav-container {
      max-width: var(--max-width);
      margin: 0 auto; padding: 0 2rem;
      display: flex; align-items: center; justify-content: space-between;
    }

    /* Logo (responsive SVG monogram + wordmark) */
    .logo-container {
      display:flex; align-items:center; gap:0.9rem; transition: var(--transition);
    }
    .logo-wrap { display:flex; align-items:center; gap:0.85rem; cursor:pointer; }
    .logo-svg { width:56px; height:56px; flex: 0 0 56px; transition: transform 0.45s ease; }
    .logo-wordmark {
      font-family: 'Cormorant Garamond', serif; font-weight:500; font-size:1.25rem;
      letter-spacing: 0.12em; text-transform: uppercase;
      background: linear-gradient(135deg, var(--accent-gold), var(--accent-light));
      -webkit-background-clip: text; -webkit-text-fill-color: transparent;
      opacity: 1; transition: var(--transition);
    }
    .logo-compact .logo-svg { transform: scale(0.8); }
    .logo-compact .logo-wordmark { transform: scale(0.9); opacity: 0.95; }

    /* Nav */
    .nav-links { display:flex; gap:2.5rem; list-style:none; align-items:center; }
    .nav-link { font-size:0.85rem; letter-spacing:0.08em; color:var(--text-secondary);
      text-decoration:none; padding:0.4rem 0; position:relative; transition:var(--transition);
    }
    .nav-link:hover { color:var(--text-primary); }
    .nav-link::after { content:''; position:absolute; bottom:-6px; left:0; height:1px; width:0; background:var(--accent-gold); transition: width 0.35s ease; }
    .nav-link:hover::after { width:100%; }

    /* Actions */
    .nav-actions { display:flex; align-items:center; gap:1rem; }
    .nav-icon { width:44px; height:44px; display:flex; align-items:center; justify-content:center;
      border-radius:50%; background:var(--glass); border:1px solid var(--border-color); cursor:pointer;
      transition: var(--transition); position:relative;
    }
    .nav-icon:hover { transform: translateY(-3px); box-shadow: 0 8px 30px rgba(0,0,0,0.5); }
    .cart-count { position:absolute; top:-6px; right:-6px; background:var(--accent-gold); color:#070707;
      width:18px; height:18px; border-radius:50%; font-size:0.72rem; display:flex; align-items:center; justify-content:center; font-weight:700; }

    /* Language toggle explicit style */
    .lang-badge { font-size:0.9rem; font-weight:600; letter-spacing:0.06em; color:var(--text-primary); }

    /* ========== Preloader / Splash ========== */
    #preloader {
      position: fixed; inset:0; z-index:99999; display:flex; align-items:center; justify-content:center;
      background: radial-gradient(ellipse at center, rgba(0,0,0,0.95) 0%, rgba(4,4,4,0.98) 60%);
    }
    .splash-card {
      width: min(680px, 92%); padding:2.4rem; border-radius:16px; text-align:center;
      border: 1px solid rgba(212,175,55,0.06); background: linear-gradient(180deg, rgba(20,18,15,0.6), rgba(8,8,8,0.6));
      box-shadow: 0 30px 80px rgba(0,0,0,0.6);
    }
    .splash-logo { margin-bottom:1.25rem; display:flex; align-items:center; justify-content:center; gap:1rem; }
    .splash-logo .logo-svg { width:72px; height:72px; }
    .splash-line { margin:1rem auto; height:2px; width:260px; background: linear-gradient(90deg, transparent, var(--accent-gold), transparent); overflow:hidden; position:relative; }
    .shimmer-dot { width:14px; height:14px; border-radius:50%; background:linear-gradient(90deg,#fff,#D4AF37); display:inline-block; animation: float 1.6s ease-in-out infinite; opacity:0.95; }
    @keyframes float { 0%{ transform: translateY(0);}50%{ transform: translateY(-6px);}100%{ transform: translateY(0);} }

    /* ========== HERO ========== */
    .hero {
      min-height: 92vh; display:flex; align-items:center; justify-content:center; position:relative; overflow:hidden;
      padding-top:6.4rem;
    }
    .hero-video { position:absolute; inset:0; width:100%; height:100%; object-fit:cover; opacity:0.08; filter:grayscale(100%) contrast(0.9); transform: scale(1.02); }
    .hero-content { text-align:center; position:relative; z-index:2; padding:2rem; max-width:1100px; }
    .hero-title { font-size:4.2rem; font-weight:400; margin-bottom:1rem; opacity:0; transform:translateY(12px); animation: fadeUp 0.9s ease forwards 0.3s; }
    .hero-subtitle { font-size:1.15rem; color:var(--text-secondary); max-width:720px; margin:0 auto 1.8rem; opacity:0; animation: fadeUp 0.9s ease forwards 0.55s; }
    .hero-cta { display:inline-block; padding:0.95rem 2.25rem; border:1px solid var(--border-color); background:linear-gradient(90deg, rgba(212,175,55,0.06), transparent);
      color:var(--text-primary); text-decoration:none; letter-spacing:0.12em; text-transform:uppercase; font-size:0.9rem; border-radius:8px; transition:var(--transition); opacity:0; animation: fadeUp 0.9s ease forwards 0.8s;
    }
    .hero-cta:hover { background:linear-gradient(90deg, rgba(212,175,55,0.12), rgba(212,175,55,0.04)); transform: translateY(-4px); box-shadow: 0 14px 40px rgba(0,0,0,0.5); }

    @keyframes fadeUp {
      from { opacity:0; transform: translateY(24px); }
      to { opacity:1; transform: translateY(0); }
    }

    /* ========== SECTIONS ========== */
    .section { padding:7rem 2rem; position:relative; max-width:var(--max-width); margin:0 auto; }
    .section-title { font-size:2.6rem; text-align:center; margin-bottom:3.2rem; position:relative; }
    .section-title::after { content:''; position:absolute; bottom:-1rem; left:50%; transform:translateX(-50%); width:84px; height:2px; background:var(--accent-gold); border-radius:2px; }

    /* Collections grid */
    .collections-grid { display:grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap:1.2rem; align-items:stretch; }

    .collection-card {
      position:relative; overflow:hidden; cursor:pointer; min-height:420px; border-radius:12px;
      border:1px solid var(--border-color); background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.06));
      transition: transform 0.9s cubic-bezier(0.2,0.9,0.2,1), box-shadow 0.45s ease;
    }
    .collection-card:hover { transform: translateY(-8px); box-shadow: 0 30px 70px rgba(0,0,0,0.6); }
    .collection-image { width:100%; height:100%; object-fit:cover; display:block; transition: transform 1.2s cubic-bezier(0.2,0.9,0.2,1); }
    .collection-overlay { position:absolute; inset:0; display:flex; flex-direction:column; justify-content:flex-end; padding:2rem; background: linear-gradient(to top, rgba(2,2,2,0.9), transparent 45%); opacity:0.98; }
    .collection-name { font-size:1.6rem; margin-bottom:0.25rem; color:var(--text-primary); }
    .collection-count { color:var(--text-secondary); letter-spacing:0.08em; }

    /* ========== PRODUCT SLIDER (Autoplay carousel) ========== */
    .products-wrap { position:relative; }
    .products-slider {
      display:flex; gap:1.25rem; overflow:hidden; padding:1.5rem 0; align-items:stretch;
    }
    .product-card {
      min-width:320px; max-width:320px; flex:0 0 320px; position:relative; border-radius:12px; overflow:hidden;
      border:1px solid var(--border-color); background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.03));
      transition: transform 0.45s ease;
    }
    .product-card:hover { transform: translateY(-8px); box-shadow: 0 30px 60px rgba(0,0,0,0.6); }
    .product-image { width:100%; height:340px; object-fit:cover; display:block; transition: transform 0.9s ease; }
    .product-info { padding:1rem 1rem 1.4rem; text-align:center; }
    .product-name { font-size:1.05rem; margin-bottom:0.2rem; }
    .product-specs { color:var(--text-secondary); font-size:0.9rem; margin-bottom:0.6rem; }
    .product-price { color:var(--accent-gold); font-family:'Cormorant Garamond'; font-size:1.3rem; margin-bottom:0.6rem; }

    .product-actions { display:flex; gap:0.6rem; justify-content:center; flex-wrap:wrap; }
    .btn-minimal { padding:0.6rem 1.3rem; border:1px solid var(--border-color); background:transparent; color:var(--text-primary); font-size:0.82rem; letter-spacing:0.08em; border-radius:8px; cursor:pointer; transition:var(--transition); }
    .btn-minimal.btn-gold { background:linear-gradient(90deg,var(--accent-gold),var(--accent-light)); color:#070707; border:none; }
    .btn-minimal:hover { transform: translateY(-3px); }

    /* Carousel navigation */
    .carousel-nav { position:absolute; top:50%; transform:translateY(-50%); width:100%; display:flex; justify-content:space-between; pointer-events:none; }
    .carousel-arrow { pointer-events:all; background:rgba(10,10,10,0.6); border-radius:50%; width:44px; height:44px; display:flex; align-items:center; justify-content:center; margin:0 8px; border:1px solid var(--border-color); transition:var(--transition); }
    .carousel-arrow:hover { transform:scale(1.04); background:linear-gradient(180deg, rgba(212,175,55,0.08), rgba(212,175,55,0.02)); }

    /* ========== GOLD TICKER ========== */
    .gold-ticker { position:fixed; bottom:2rem; right:2rem; background:linear-gradient(180deg, rgba(8,8,8,0.86), rgba(12,12,12,0.9)); padding:1.2rem; border-radius:12px; border:1px solid var(--border-color); z-index:100; width:300px; opacity:0; transform:translateY(18px); transition:var(--transition); }
    .gold-ticker.visible { opacity:1; transform:translateY(0); }

    /* ========== MODAL ========== */
    .modal { position:fixed; inset:0; background:rgba(0,0,0,0.95); display:none; align-items:center; justify-content:center; z-index:2000; padding:2rem; }
    .modal-content { background:var(--bg-secondary); max-width:1200px; width:100%; border:1px solid var(--border-color); display:flex; min-height:600px; border-radius:12px; overflow:hidden; }
    .modal-images { flex:1; padding:2.2rem; display:flex; flex-direction:column; justify-content:center; align-items:center; gap:1.2rem; background:linear-gradient(180deg, rgba(18,18,18,0.8), rgba(9,9,9,0.8)); }
    .modal-main-image { width:100%; max-height:420px; object-fit:contain; border-radius:8px; }
    .modal-thumbs { display:flex; gap:0.8rem; overflow:auto; padding-top:0.6rem; }
    .modal-thumb { width:64px; height:64px; object-fit:cover; cursor:pointer; opacity:0.6; border-radius:6px; border:1px solid transparent; }
    .modal-thumb.active { opacity:1; border-color:var(--accent-gold); }

    .modal-info { width:420px; padding:2.4rem; border-left:1px solid var(--border-color); display:flex; flex-direction:column; gap:0.8rem; }
    .modal-title { font-size:1.8rem; margin-bottom:0.25rem; }
    .modal-price { font-size:2rem; color:var(--accent-gold); margin-bottom:0.6rem; }

    /* ========== CART SIDEBAR ========== */
    .cart { position:fixed; top:0; right:-420px; width:420px; height:100vh; background:var(--bg-secondary); border-left:1px solid var(--border-color); z-index:1500; transition:right 0.4s ease; display:flex; flex-direction:column; }
    .cart.open { right:0; }
    .cart-header { padding:1.3rem; border-bottom:1px solid var(--border-color); display:flex; justify-content:space-between; align-items:center; }
    .cart-items { flex:1; overflow-y:auto; padding:1.2rem; }
    .cart-item { display:flex; gap:0.9rem; padding:1rem 0; border-bottom:1px solid var(--border-color); align-items:center; }
    .cart-item-image { width:84px; height:84px; object-fit:cover; border-radius:8px; }
    .cart-footer { padding:1.2rem; border-top:1px solid var(--border-color); }

    /* ========== CONTACT / FOOTER ========== */
    .contact { padding:6rem 2rem; text-align:center; max-width:var(--max-width); margin:0 auto; }
    .contact-title { font-size:2.6rem; margin-bottom:0.6rem; }
    .contact-subtitle { color:var(--text-secondary); margin-bottom:2rem; }
    footer { padding:3rem 2rem; border-top:1px solid var(--border-color); text-align:center; color:var(--text-secondary); }

    /* ========== UTILITIES & RESPONSIVE ========== */
    .text-gold { color:var(--accent-gold); }
    .text-center { text-align:center; }
    .mb-1{margin-bottom:1rem} .mb-2{margin-bottom:2rem} .mb-3{margin-bottom:3rem}
    @media (max-width:1024px) { .hero-title { font-size:3rem; } .logo-svg{width:48px;height:48px} .logo-wordmark{font-size:1.05rem} .product-card{min-width:280px;max-width:280px} .cart{width:100%;} .cart.open{right:0;} }
    @media (max-width:768px) { .nav-links{display:none} .hero-title{font-size:2.1rem} .section{padding:4rem 1rem} .gold-ticker{display:none} }

    /* RTL tweaks for Arabic */
    [dir="rtl"] .nav-container { direction: rtl; }
    [dir="rtl"] .nav-links { gap:2.5rem; }
    [dir="rtl"] .collection-overlay { text-align: right; }
    [dir="rtl"] .product-info { text-align: right; }
  </style>
</head>
<body>

<!-- ========== PRELOADER / SPLASH ========== -->
<div id="preloader">
  <div class="splash-card" role="status" aria-live="polite">
    <div class="splash-logo">
      <!-- Inline SVG monogram (original logo) -->
      <svg class="logo-svg" viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
        <defs>
          <linearGradient id="gGold" x1="0" x2="1" y1="0" y2="1">
            <stop offset="0" stop-color="#D4AF37"/>
            <stop offset="1" stop-color="#F7E9A6"/>
          </linearGradient>
        </defs>
        <rect width="120" height="120" rx="18" fill="#070606"/>
        <g transform="translate(22,22)">
          <path d="M38 0C52 0 62 10 62 24S52 48 38 48 14 38 14 24 24 0 38 0z" fill="url(#gGold)"></path>
          <text x="2" y="90" font-family="Cormorant Garamond" font-size="28" fill="url(#gGold)">R</text>
        </g>
      </svg>
      <div style="text-align:left">
        <div class="logo-wordmark serif" style="font-size:1.4rem">Ryaan</div>
        <div style="font-size:0.85rem; color:var(--text-secondary); margin-top:0.25rem; letter-spacing:0.12em;">Luxury Jewellery House</div>
      </div>
    </div>
    <div class="splash-line"></div>
    <div style="margin-top:1.2rem; color:var(--text-secondary); letter-spacing:0.12em;">Curating Heirloom Jewellery</div>
    <div style="margin-top:1.4rem;">
      <span class="shimmer-dot" aria-hidden="true"></span>
    </div>
  </div>
</div>

<!-- ========== NAVIGATION ========== -->
<header id="header">
  <div class="nav-container">
    <div class="logo-container" id="logo" aria-label="Ryaan Logo">
      <div class="logo-wrap" onclick="window.location='#home'">
        <!-- Use same inline SVG logo for crispness -->
        <svg class="logo-svg" viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
          <linearGradient id="gGold2" x1="0" x2="1" y1="0" y2="1">
            <stop offset="0" stop-color="#D4AF37"/>
            <stop offset="1" stop-color="#F7E9A6"/>
          </linearGradient>
          <rect width="120" height="120" rx="18" fill="#070606"/>
          <g transform="translate(22,22)">
            <path d="M38 0C52 0 62 10 62 24S52 48 38 48 14 38 14 24 24 0 38 0z" fill="url(#gGold2)"></path>
          </g>
        </svg>
        <div class="logo-wordmark serif">Ryaan</div>
      </div>
    </div>
    
    <ul class="nav-links" id="navLinks">
      <li><a href="#collections" class="nav-link" data-key="collections">Collections</a></li>
      <li><a href="#products" class="nav-link" data-key="pieces">Pieces</a></li>
      <li><a href="#bespoke" class="nav-link" data-key="bespoke">Bespoke</a></li>
      <li><a href="#contact" class="nav-link" data-key="contact">Contact</a></li>
    </ul>
    
    <div class="nav-actions">
      <div class="nav-icon" id="themeToggle" title="Toggle theme" aria-label="Toggle theme">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
        </svg>
      </div>

      <!-- Language toggle -->
      <div class="nav-icon" id="languageToggle" title="Switch language" aria-label="Switch language">
        <span class="lang-badge">EN</span>
      </div>

      <div class="nav-icon" id="cartButton" title="Open collection" aria-label="Open collection">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M6 2L3 6v14a2 2 0 002 2h14a2 2 0 002-2V6l-3-4z"></path>
          <line x1="3" y1="6" x2="21" y2="6"></line>
          <path d="M16 10a4 4 0 01-8 0"></path>
        </svg>
        <span class="cart-count" aria-live="polite">0</span>
      </div>
    </div>
  </div>
</header>

<!-- ========== HERO ========== -->
<section class="hero" id="home">
  <video class="hero-video" autoplay muted loop playsinline>
    <!-- Provide a fallback or keep empty; just decorative -->
    <source src="" type="video/mp4">
  </video>
  
  <div class="hero-content">
    <h1 class="hero-title serif" id="heroTitle">Timeless Elegance</h1>
    <p class="hero-subtitle" id="heroSubtitle">18K gold and diamond jewellery, crafted with precision for those who value subtle luxury.</p>
    <a href="#collections" class="hero-cta" id="heroCta">Discover Collections</a>
  </div>
</section>

<!-- ========== COLLECTIONS ========== -->
<section class="section" id="collections">
  <h2 class="section-title serif" data-key="collectionsHeading">Collections</h2>
  <div class="collections-grid" id="collectionsGrid"></div>
</section>

<!-- ========== PRODUCTS ========== -->
<section class="section" id="products">
  <h2 class="section-title serif" data-key="signaturePieces">Signature Pieces</h2>
  <div class="products-wrap">
    <div class="products-slider" id="productsSlider" aria-live="polite" aria-label="Product carousel"></div>
    <div class="carousel-nav" aria-hidden="false">
      <div class="carousel-arrow" id="prevArrow" aria-label="Previous"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="15 18 9 12 15 6"></polyline></svg></div>
      <div class="carousel-arrow" id="nextArrow" aria-label="Next"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"></polyline></svg></div>
    </div>
  </div>
</section>

<!-- ========== BESPOKE ========== -->
<section class="section" id="bespoke">
  <h2 class="section-title serif" data-key="bespokeHeading">Bespoke</h2>
  <div class="text-center mb-4">
    <p class="hero-subtitle" data-key="bespokeSubtitle">Create a unique piece that tells your story.<br>Our artisans transform your vision into heirloom jewellery.</p>
  </div>
  <div class="text-center">
    <a href="#contact" class="hero-cta" data-key="beginCreation">Begin Creation</a>
  </div>
</section>

<!-- ========== GOLD TICKER ========== -->
<div class="gold-ticker" id="goldTicker" aria-hidden="true">
  <div class="ticker-header">
    <div class="ticker-title">Gold Rates</div>
    <div style="font-size: 0.8rem; color: var(--text-secondary);">Live</div>
  </div>
  <div class="ticker-values">
    <div class="ticker-item">
      <span class="ticker-karat">24K</span>
      <span class="ticker-price" id="gold24k">--</span>
      <span class="ticker-change" id="change24k">+0.2%</span>
    </div>
    <div class="ticker-item">
      <span class="ticker-karat">22K</span>
      <span class="ticker-price" id="gold22k">--</span>
      <span class="ticker-change" id="change22k">+0.2%</span>
    </div>
    <div class="ticker-item">
      <span class="ticker-karat">18K</span>
      <span class="ticker-price" id="gold18k">--</span>
      <span class="ticker-change" id="change18k">+0.2%</span>
    </div>
  </div>
</div>

<!-- ========== MODAL ========== -->
<div class="modal" id="productModal" role="dialog" aria-modal="true" aria-hidden="true">
  <div class="modal-content">
    <div class="modal-close" id="modalClose" style="position:absolute;right:18px;top:18px;cursor:pointer;">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
    </div>
    <div class="modal-images">
      <img class="modal-main-image" id="modalMainImage" src="" alt="">
      <div class="modal-thumbs" id="modalThumbs"></div>
    </div>
    <div class="modal-info">
      <h2 class="modal-title serif" id="modalTitle">Product Name</h2>
      <div class="modal-specs" id="modalSpecs">18K • 0g</div>
      <div class="modal-price" id="modalPrice">AED 0</div>
      <p class="modal-description" id="modalDescription">Product description will appear here.</p>
      <div class="product-actions">
        <button class="btn-minimal btn-gold" id="modalAddToCart">Add to Collection</button>
        <button class="btn-minimal" id="modalEnquire">Enquire</button>
        <button class="btn-minimal" id="modalShareInsta">Share on Instagram</button>
      </div>
    </div>
  </div>
</div>

<!-- ========== CART ========== -->
<div class="cart" id="cartSidebar" aria-hidden="true">
  <div class="cart-header">
    <div class="cart-title">Your Collection</div>
    <div class="modal-close" id="cartClose" style="cursor:pointer;">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
    </div>
  </div>
  <div class="cart-items" id="cartItems"></div>
  <div class="cart-footer">
    <div class="cart-total" style="display:flex;justify-content:space-between;margin-bottom:1rem;">
      <span>Total</span>
      <span class="cart-total-amount" id="cartTotal">AED 0</span>
    </div>
    <button class="btn-minimal btn-gold" style="width:100%;" id="cartCheckout">Proceed to Enquiry</button>
  </div>
</div>

<!-- ========== CONTACT ========== -->
<section class="contact" id="contact">
  <h2 class="contact-title serif" data-key="connect">Connect</h2>
  <p class="contact-subtitle" data-key="contactSubtitle">Schedule a private viewing at our Dubai showroom or begin a virtual consultation.</p>
  
  <div class="contact-grid" style="display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:2rem;max-width:900px;margin:2rem auto 0;">
    <div class="contact-item text-center">
      <div class="contact-icon" style="display:inline-flex;align-items:center;justify-content:center;">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 16.92v3a2 2 0 01-2.18 2 19.79 19.79 0 01-8.63-3.07 19.5 19.5 0 01-6-6 19.79 19.79 0 01-3.07-8.67A2 2 0 014.11 2h3a2 2 0 012 1.72 12.84 12.84 0 00.7 2.81 2 2 0 01-.45 2.11L8.09 9.91a16 16 0 006 6l1.27-1.27a2 2 0 012.11-.45 12.84 12.84 0 002.81.7A2 2 0 0122 16.92z"></path></svg>
      </div>
      <a href="tel:+971543746476" class="contact-link" id="phoneLink">+971 543 746 476</a>
    </div>
    
    <div class="contact-item text-center">
      <div class="contact-icon">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"></path></svg>
      </div>
      <a href="#" id="whatsappLink" target="_blank" class="contact-link">WhatsApp</a>
    </div>
    
    <div class="contact-item text-center">
      <div class="contact-icon">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg>
      </div>
      <a href="#" id="emailLink" class="contact-link">ryaanjewellers@gmail.com</a>
    </div>
  </div>
</section>

<!-- ========== FOOTER ========== -->
<footer>
  <div class="footer-logo serif">Ryaan</div>
  <ul class="footer-links" style="display:flex;justify-content:center;gap:1.5rem;list-style:none;margin:1rem 0;">
    <li><a href="#collections" class="footer-link" data-key="collections">Collections</a></li>
    <li><a href="#products" class="footer-link" data-key="pieces">Pieces</a></li>
    <li><a href="#bespoke" class="footer-link" data-key="bespoke">Bespoke</a></li>
    <li><a href="#contact" class="footer-link" data-key="contact">Contact</a></li>
  </ul>
  <div style="display:flex;justify-content:center;gap:1rem;margin-bottom:1rem;">
    <a id="instaProfile" href="#" target="_blank" class="social-icon" aria-label="Instagram profile" style="display:inline-flex;align-items:center;justify-content:center;">
      <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect>
        <path d="M16 11.37A4 4 0 1112.63 8 4 4 0 0116 11.37z"></path>
        <line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line>
      </svg>
    </a>
    <a id="fbProfile" href="https://www.facebook.com/share/1BqQaN6utP/" target="_blank" class="social-icon" aria-label="Facebook profile" style="display:inline-flex;align-items:center;justify-content:center;">
      <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 2h-3a5 5 0 00-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 011-1h3z"></path></svg>
    </a>
  </div>
  <div class="footer-copyright">© 2025 Ryaan Jewellers. All rights reserved.</div>
</footer>

<script>
/* ===================== CONFIG ===================== */
const CONFIG = {
  github: {
    owner: 'ryaanjewellers007',
    repo: 'Ryaanjewellers',
    branch: 'main',
    get baseUrl() { return `https://raw.githubusercontent.com/${this.owner}/${this.repo}/${this.branch}/`; }
  },
  whatsapp: '971543746476',
  instagram: 'ryaanjewellers007',
  email: 'ryaanjewellers@gmail.com'
};

/* ===================== TRANSLATIONS (EN <-> AR) ===================== */
const TRANSLATIONS = {
  en: {
    nav: { collections: 'Collections', pieces: 'Pieces', bespoke: 'Bespoke', contact: 'Contact' },
    heroTitle: 'Timeless Elegance',
    heroSubtitle: '18K gold and diamond jewellery, crafted with precision for those who value subtle luxury.',
    heroCta: 'Discover Collections',
    collectionsHeading: 'Collections',
    signaturePieces: 'Signature Pieces',
    bespokeHeading: 'Bespoke',
    bespokeSubtitle: 'Create a unique piece that tells your story. Our artisans transform your vision into heirloom jewellery.',
    beginCreation: 'Begin Creation',
    connect: 'Connect',
    contactSubtitle: 'Schedule a private viewing at our Dubai showroom or begin a virtual consultation.'
  },
  ar: {
    nav: { collections: 'المجموعات', pieces: 'القطع', bespoke: 'تفصيل', contact: 'تواصل' },
    heroTitle: 'أناقة خالدة',
    heroSubtitle: 'مجوهرات من ذهب عيار 18 وألماس، مصممة بدقة لمن يقدرون الفخامة الراقية.',
    heroCta: 'اكتشف المجموعات',
    collectionsHeading: 'المجموعات',
    signaturePieces: 'القطع المميزة',
    bespokeHeading: 'تفصيل حسب الطلب',
    bespokeSubtitle: 'اصنع قطعة فريدة تروي قصتك. فنّيّونا يحولون رؤيتك إلى مجوهرات إرثية.',
    beginCreation: 'ابدأ التصميم',
    connect: 'تواصل',
    contactSubtitle: 'حدد موعداً لعرض خاص في جناحنا بدبي أو ابدأ استشارة افتراضية.'
  }
};

/* ===================== PRODUCT DATA ===================== */
const PRODUCTS = [
  { id:'heart_bangle', title:'Alhambra Heart Bangle', price:4200, purity:18, weight:8.2, category:'bangles', collection:'Alhambra', description:'Inspired by Moorish architecture, this heart-shaped bangle features intricate guilloché engraving.', images:['Heart Bangle.jpg'], materials:['18K Yellow Gold','Diamond Pave'], limited:true },
  { id:'butterfly_ring', title:'Papillon Ring', price:3200, purity:18, weight:4.8, category:'rings', collection:'Nature', description:'Delicate butterfly motif with articulated wings, capturing the essence of movement.', images:['Batterfly Ring.jpg'], materials:['18K White Gold','Diamond Accents'] },
  { id:'chopard_earring', title:'Happy Diamond Earrings', price:5800, purity:18, weight:5.2, category:'earrings', collection:'Haute Joaillerie', description:'Floating diamonds encased in transparent crystal, a modern interpretation of luxury.', images:['Chopard Earring.jpg'], materials:['18K Rose Gold','Moving Diamonds','Crystal Casing'] },
  { id:'chaumet_bangle', title:'Liens Bangle', price:5200, purity:18, weight:9.8, category:'bangles', collection:'Liens', description:'The iconic link symbolizing connection, crafted with precision in 18K gold.', images:['Channel Bangles.jpg'], materials:['18K Yellow Gold','Signature Clasp'] },
  { id:'floral_necklace', title:'Floral Motif Necklace', price:3800, purity:18, weight:6.3, category:'necklaces', collection:'Botanical', description:'Floral design inspired by Persian miniature art, set with delicate diamond petals.', images:['S_1.jpg'], materials:['18K Yellow Gold','Diamond Petals'] },
  { id:'diamond_bangle', title:'Pave Diamond Bangle', price:6500, purity:18, weight:8.5, category:'bangles', collection:'Haute Joaillerie', description:'Full diamond pave setting with invisible setting technique for maximum brilliance.', images:['S_10.jpg'], materials:['18K White Gold','Full Pave Diamonds'] },
  { id:'statement_earrings', title:'Geometric Ear Climbers', price:4200, purity:18, weight:7.1, category:'earrings', collection:'Modern', description:'Architectural design with geometric precision, for the contemporary collector.', images:['S_11.jpg'], materials:['18K Yellow Gold','Geometric Design'] }
];

/* ===================== Logo Manager (responsive) ===================== */
class LogoManager {
  constructor() {
    this.logo = document.getElementById('logo');
    this.header = document.getElementById('header');
    this.lastScroll = 0;
    this.init();
  }
  init() {
    window.addEventListener('scroll', this.handleScroll.bind(this));
    this.handleScroll();
  }
  handleScroll() {
    const scrollY = window.scrollY;
    const scrollDelta = scrollY - this.lastScroll;
    if (scrollDelta > 50 && scrollY > 120) this.logo.classList.add('logo-hidden');
    else if (scrollDelta < -10) this.logo.classList.remove('logo-hidden');
    if (scrollY > 60) {
      this.logo.classList.add('logo-compact');
      this.header.style.padding = '0.9rem 0';
      this.header.style.backdropFilter = 'blur(20px)';
    } else {
      this.logo.classList.remove('logo-compact');
      this.header.style.padding = '1.4rem 0';
      this.header.style.backdropFilter = 'blur(12px)';
    }
    this.lastScroll = scrollY;
  }
}

/* ===================== Image Loader ===================== */
class ImageLoader {
  static loadImage(filename) {
    return new Promise((resolve) => {
      const img = new Image();
      img.src = CONFIG.github.baseUrl + encodeURIComponent(filename);
      img.onload = () => resolve(img.src);
      img.onerror = () => { console.warn('Image not found:', filename); resolve(null); };
    });
  }
  static async setImage(element, filename, fallbackColor='#111111') {
    const src = await this.loadImage(filename);
    if (src) {
      element.src = src;
      element.style.opacity = 1;
    } else {
      element.style.background = `linear-gradient(45deg, ${fallbackColor}, #1a1a1a)`;
      element.style.display = 'flex'; element.style.alignItems='center'; element.style.justifyContent='center';
      element.style.color = '#333';
      element.innerHTML = '<div style="font-size:0.95rem;color:var(--text-secondary)">RYAAN</div>';
    }
  }
}

/* ===================== Product Manager (render collections, slider) ===================== */
class ProductManager {
  constructor() {
    this.products = PRODUCTS;
    this.currentProduct = null;
    this.sliderPosition = 0;
    this.autoPlayInterval = null;
  }

  renderCollections() {
    const grid = document.getElementById('collectionsGrid');
    if(!grid) return;
    grid.innerHTML = '';
    const collections = [...new Set(this.products.map(p => p.collection))];
    collections.forEach(collection => {
      const collectionProducts = this.products.filter(p => p.collection === collection);
      const featured = collectionProducts[0];
      const card = document.createElement('div');
      card.className = 'collection-card';
      card.innerHTML = `<img class="collection-image" alt="${collection}" style="opacity:0"><div class="collection-overlay"><h3 class="collection-name serif">${collection}</h3><div class="collection-count">${collectionProducts.length} pieces</div></div>`;
      if(featured && featured.images && featured.images[0]) {
        ImageLoader.setImage(card.querySelector('.collection-image'), featured.images[0]);
      }
      card.addEventListener('click', () => {
        window.location.hash = `collection=${encodeURIComponent(collection)}`;
      });
      grid.appendChild(card);
    });
  }

  renderProducts() {
    const slider = document.getElementById('productsSlider');
    if(!slider) return;
    slider.innerHTML = '';
    this.products.forEach(product => {
      const card = document.createElement('div');
      card.className = 'product-card';
      card.innerHTML = `<img class="product-image" alt="${product.title}" style="opacity:0"><div class="product-info"><h3 class="product-name serif">${product.title}</h3><div class="product-specs">${product.purity}K • ${product.weight}g</div><div class="product-price">AED ${product.price.toLocaleString()}</div><div class="product-actions"><button class="btn-minimal" data-action="view" data-id="${product.id}">View</button><button class="btn-minimal btn-gold" data-action="add" data-id="${product.id}">Add</button></div></div>`;
      if(product.images && product.images[0]) ImageLoader.setImage(card.querySelector('.product-image'), product.images[0]);
      slider.appendChild(card);
    });

    // Attach delegates for buttons
    slider.addEventListener('click', (e) => {
      const btn = e.target.closest('button');
      if(!btn) return;
      const act = btn.dataset.action;
      const id = btn.dataset.id;
      if(act === 'view') this.viewProduct(id);
      if(act === 'add') cartManager.addToCart(id);
    });

    // Setup autoplay carousel behavior
    this.initCarousel();
  }

  initCarousel() {
    const slider = document.getElementById('productsSlider');
    const prev = document.getElementById('prevArrow');
    const next = document.getElementById('nextArrow');
    let cardWidth = slider.querySelector('.product-card')?.getBoundingClientRect().width || 320;
    const scrollStep = cardWidth + 20;

    const stepNext = () => {
      slider.scrollBy({ left: scrollStep, behavior: 'smooth' });
    };
    const stepPrev = () => {
      slider.scrollBy({ left: -scrollStep, behavior: 'smooth' });
    };
    if(prev) prev.onclick = () => { stepPrev(); resetAutoplay(); };
    if(next) next.onclick = () => { stepNext(); resetAutoplay(); };

    slider.addEventListener('mouseenter', () => { stopAutoplay(); });
    slider.addEventListener('mouseleave', () => { startAutoplay(); });

    const startAutoplay = () => {
      stopAutoplay();
      this.autoPlayInterval = setInterval(() => {
        const maxScroll = slider.scrollWidth - slider.clientWidth;
        if(Math.abs(slider.scrollLeft - maxScroll) < 4) slider.scrollTo({ left: 0, behavior: 'smooth' });
        else slider.scrollBy({ left: scrollStep, behavior: 'smooth' });
      }, 3800);
    };
    const stopAutoplay = () => {
      if(this.autoPlayInterval) clearInterval(this.autoPlayInterval);
      this.autoPlayInterval = null;
    };
    const resetAutoplay = () => { stopAutoplay(); setTimeout(startAutoplay, 2200); };

    startAutoplay();
    window.addEventListener('resize', () => {
      cardWidth = slider.querySelector('.product-card')?.getBoundingClientRect().width || 320;
    });
  }

  viewProduct(productId) {
    const product = this.products.find(p => p.id === productId);
    if(!product) return;
    this.currentProduct = product;
    document.getElementById('modalTitle').textContent = product.title;
    document.getElementById('modalSpecs').textContent = `${product.purity}K • ${product.weight}g • ${product.collection}`;
    document.getElementById('modalPrice').textContent = `AED ${product.price.toLocaleString()}`;
    document.getElementById('modalDescription').textContent = product.description;
    const mainImage = document.getElementById('modalMainImage');
    if(product.images && product.images[0]) ImageLoader.setImage(mainImage, product.images[0]);
    const thumbs = document.getElementById('modalThumbs');
    thumbs.innerHTML = '';
    (product.images || []).forEach((img, i) => {
      const t = document.createElement('img');
      t.className = 'modal-thumb' + (i===0?' active':'');
      t.alt = `${product.title} ${i+1}`;
      t.addEventListener('click', () => {
        ImageLoader.setImage(mainImage, img);
        thumbs.querySelectorAll('.modal-thumb').forEach(x=>x.classList.remove('active'));
        t.classList.add('active');
      });
      ImageLoader.setImage(t, img).then(()=>{ if(i===0) t.classList.add('active'); });
      thumbs.appendChild(t);
    });

    document.getElementById('modalAddToCart').onclick = () => { cartManager.addToCart(productId); document.getElementById('productModal').style.display='none'; showNotification(`${product.title} added to collection`); };
    document.getElementById('modalEnquire').onclick = () => { window.open(`https://wa.me/${CONFIG.whatsapp}?text=Enquiry about: ${encodeURIComponent(product.title)}`, '_blank'); };
    document.getElementById('modalShareInsta').onclick = () => { shareToInstagram(product); };

    document.getElementById('productModal').style.display = 'flex'; document.getElementById('productModal').setAttribute('aria-hidden','false');
  }
}

/* ===================== Cart Manager ===================== */
class CartManager {
  constructor() {
    this.cart = JSON.parse(localStorage.getItem('ryaan_cart')) || [];
  }
  init() {
    this.updateCartDisplay();
    document.getElementById('cartButton').addEventListener('click', () => {
      document.getElementById('cartSidebar').classList.add('open');
      document.getElementById('cartSidebar').setAttribute('aria-hidden','false');
    });
    document.getElementById('cartClose').addEventListener('click', () => {
      document.getElementById('cartSidebar').classList.remove('open');
      document.getElementById('cartSidebar').setAttribute('aria-hidden','true');
    });
    document.getElementById('cartCheckout').addEventListener('click', () => this.checkout());
  }

  addToCart(productId) {
    const product = PRODUCTS.find(p=>p.id===productId);
    if(!product) return;
    const existing = this.cart.find(i=>i.id===productId);
    if(existing) existing.quantity++;
    else this.cart.push({ id:productId, title:product.title, price:product.price, image:product.images[0], quantity:1 });
    this.saveCart(); this.updateCartDisplay();
    showNotification(`${product.title} added to collection`);
  }

  removeFromCart(productId) {
    this.cart = this.cart.filter(i=>i.id!==productId);
    this.saveCart(); this.updateCartDisplay();
  }

  updateQuantity(productId, qty) {
    if(qty < 1) return this.removeFromCart(productId);
    const itm = this.cart.find(i=>i.id===productId);
    if(itm) { itm.quantity = qty; this.saveCart(); this.updateCartDisplay(); }
  }

  saveCart() { localStorage.setItem('ryaan_cart', JSON.stringify(this.cart)); }

  updateCartDisplay() {
    const totalItems = this.cart.reduce((s,i)=>s+i.quantity,0);
    document.querySelector('.cart-count').textContent = totalItems;
    const container = document.getElementById('cartItems');
    container.innerHTML = '';
    if(this.cart.length===0) {
      container.innerHTML = `<div style="text-align:center;padding:2.5rem;color:var(--text-secondary)"><div style="font-size:1.1rem;margin-bottom:0.5rem">Collection is empty</div><div style="font-size:0.9rem">Add pieces to begin your collection</div></div>`;
      document.getElementById('cartTotal').textContent = `AED 0`;
      return;
    }
    let total = 0;
    this.cart.forEach(item=>{
      const product = PRODUCTS.find(p=>p.id===item.id);
      if(!product) return;
      const itemTotal = product.price * item.quantity;
      total += itemTotal;
      const node = document.createElement('div');
      node.className = 'cart-item';
      node.innerHTML = `<img class="cart-item-image" src="${CONFIG.github.baseUrl}${encodeURIComponent(item.image)}" alt="${item.title}" onerror="this.style.background='#111'"><div style="flex:1"><div style="font-weight:600">${item.title}</div><div style="color:var(--text-secondary);margin:6px 0">AED ${product.price.toLocaleString()}</div><div style="display:flex;gap:8px;align-items:center"><button style="background:none;border:1px solid var(--border-color);padding:4px 8px;border-radius:6px;cursor:pointer" data-action="dec" data-id="${item.id}">-</button><span>${item.quantity}</span><button style="background:none;border:1px solid var(--border-color);padding:4px 8px;border-radius:6px;cursor:pointer" data-action="inc" data-id="${item.id}">+</button><button style="margin-left:auto;background:none;border:none;color:var(--text-secondary);cursor:pointer" data-action="remove" data-id="${item.id}">Remove</button></div></div>`;
      container.appendChild(node);
    });
    container.querySelectorAll('button[data-action]').forEach(btn=>{
      btn.addEventListener('click', (e)=>{
        const a = btn.dataset.action; const id = btn.dataset.id;
        if(a==='dec') this.updateQuantity(id, Math.max(1,(this.cart.find(x=>x.id===id)?.quantity||1)-1));
        if(a==='inc') this.updateQuantity(id, (this.cart.find(x=>x.id===id)?.quantity||0)+1);
        if(a==='remove') this.removeFromCart(id);
      });
    });
    document.getElementById('cartTotal').textContent = `AED ${total.toLocaleString()}`;
  }

  checkout() {
    if(this.cart.length===0) { showNotification('Collection is empty'); return; }
    const itemsText = this.cart.map(item => {
      const product = PRODUCTS.find(p=>p.id===item.id);
      return `${item.quantity}x ${product?.title || item.title} - AED ${product ? product.price*item.quantity : 0}`;
    }).join('%0A');
    const total = this.cart.reduce((sum,item)=> { const p = PRODUCTS.find(pp=>pp.id===item.id); return sum + (p ? p.price*item.quantity : 0); }, 0);
    const message = `Collection Enquiry - Ryaan Jewellers%0A%0AItems:%0A${itemsText}%0A%0ATotal: AED ${total.toLocaleString()}%0A%0APlease provide shipping details and preferred payment method.`;
    window.open(`https://wa.me/${CONFIG.whatsapp}?text=${message}`, '_blank');
  }
}

/* ===================== Gold Ticker (simulated) ===================== */
class GoldTicker {
  constructor() {
    this.ticker = document.getElementById('goldTicker');
    this.init();
  }
  init() {
    this.updateRates();
    setInterval(()=>this.updateRates(),30000);
    window.addEventListener('scroll', ()=> { if(window.scrollY>500) this.ticker.classList.add('visible'); else this.ticker.classList.remove('visible'); });
  }
  updateRates() {
    const base24K = 280.50 + (Math.random()*2 -1);
    document.getElementById('gold24k').textContent = `AED ${base24K.toFixed(2)}`;
    document.getElementById('gold22k').textContent = `AED ${(base24K*0.9167).toFixed(2)}`;
    document.getElementById('gold18k').textContent = `AED ${(base24K*0.75).toFixed(2)}`;
    const change = (Math.random()*0.4 - 0.2).toFixed(2);
    const el = document.getElementById('change24k'); el.textContent = `${change>0?'+':''}${change}%`; el.style.color = change>=0? '#10B981' : '#EF4444';
  }
}

/* ===================== Theme Manager ===================== */
class ThemeManager {
  constructor() { this.theme = localStorage.getItem('ryaan_theme') || 'dark'; this.init(); }
  init() { this.applyTheme(); document.getElementById('themeToggle').addEventListener('click', ()=> this.toggleTheme()); }
  applyTheme() {
    if(this.theme==='light') {
      document.documentElement.style.setProperty('--bg-primary','#FAF8F5');
      document.documentElement.style.setProperty('--bg-secondary','#FFFFFF');
      document.documentElement.style.setProperty('--text-primary','#1A1A1A');
      document.documentElement.style.setProperty('--text-secondary','#666666');
      document.documentElement.style.setProperty('--border-color','rgba(212,175,55,0.12)');
    } else {
      document.documentElement.style.setProperty('--bg-primary','#040404');
      document.documentElement.style.setProperty('--bg-secondary','#0f0f0f');
      document.documentElement.style.setProperty('--text-primary','#F7F6F3');
      document.documentElement.style.setProperty('--text-secondary','#BDB7AB');
      document.documentElement.style.setProperty('--border-color','rgba(212,175,55,0.06)');
    }
  }
  toggleTheme() { this.theme = this.theme==='dark' ? 'light' : 'dark'; localStorage.setItem('ryaan_theme', this.theme); this.applyTheme(); }
}

/* ===================== Notifications ===================== */
function showNotification(message) {
  const notification = document.createElement('div');
  notification.style.cssText = `position:fixed;bottom:2rem;right:2rem;background:var(--bg-secondary);color:var(--text-primary);padding:1rem 1.2rem;border-radius:8px;border:1px solid var(--border-color);box-shadow:0 18px 60px rgba(0,0,0,0.6);z-index:10000;animation:slideIn .35s ease;max-width:320px;`;
  notification.innerHTML = `<div style="display:flex;align-items:center;gap:0.6rem;"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#D4AF37" stroke-width="2"><path d="M22 11.08V12a10 10 0 11-5.93-9.14"></path><path d="M22 4L12 14.01l-3-3"></path></svg><span style="font-size:0.92rem">${message}</span></div>`;
  document.body.appendChild(notification);
  setTimeout(()=>{ notification.style.animation = 'slideOut .3s ease'; setTimeout(()=>notification.remove(),300); }, 2800);
}
const notificationStyle = document.createElement('style');
notificationStyle.textContent = `@keyframes slideIn{from{transform:translateX(100%);opacity:0}to{transform:translateX(0);opacity:1}}@keyframes slideOut{from{transform:translateX(0);opacity:1}to{transform:translateX(100%);opacity:0}}`; document.head.appendChild(notificationStyle);

/* ===================== Instagram share (safe) ===================== */
function shareToInstagram(product) {
  // Browsers cannot auto-post to Instagram. We'll:
  // 1) open the brand profile
  // 2) copy a suggested caption (with product) to clipboard for easy paste into Instagram.
  const caption = `${product.title} — ${product.description}\n\n@${CONFIG.instagram} #RyaanJewellers #FineJewellery`;
  navigator.clipboard?.writeText(caption).then(()=> {
    window.open(`https://instagram.com/${CONFIG.instagram}`, '_blank');
    showNotification('Suggested Instagram caption copied to clipboard. Opened Instagram profile.');
  }).catch(()=> {
    window.open(`https://instagram.com/${CONFIG.instagram}`, '_blank');
    showNotification('Opened Instagram profile. Caption ready to copy.');
  });
}

/* ===================== Language Manager (EN <-> AR) ===================== */
class LanguageManager {
  constructor() {
    this.lang = localStorage.getItem('ryaan_lang') || 'en';
    this.elements = {
      nav: document.querySelectorAll('.nav-link'),
      heroTitle: document.getElementById('heroTitle'),
      heroSubtitle: document.getElementById('heroSubtitle'),
      heroCta: document.getElementById('heroCta'),
      collectionsHeading: document.querySelector('[data-key="collectionsHeading"]'),
      signaturePieces: document.querySelector('[data-key="signaturePieces"]'),
      bespokeHeading: document.querySelector('[data-key="bespokeHeading"]'),
      bespokeSubtitle: document.querySelector('[data-key="bespokeSubtitle"]'),
      beginCreation: document.querySelector('[data-key="beginCreation"]'),
      connect: document.querySelector('[data-key="connect"]'),
      contactSubtitle: document.querySelector('[data-key="contactSubtitle"]'),
      languageToggle: document.getElementById('languageToggle')
    };
    this.init();
  }
  init() {
    this.apply();
    this.elements.languageToggle.addEventListener('click', ()=> this.toggle());
    // set initial language badge
    this.updateBadge();
  }
  apply() {
    const t = TRANSLATIONS[this.lang] || TRANSLATIONS.en;
    // nav
    document.querySelectorAll('[data-key]').forEach(el=>{
      const key = el.getAttribute('data-key');
      if(key && t[key]) el.textContent = t[key];
    });
    // specific ones
    if(this.elements.heroTitle) this.elements.heroTitle.textContent = t.heroTitle;
    if(this.elements.heroSubtitle) this.elements.heroSubtitle.textContent = t.heroSubtitle;
    if(this.elements.heroCta) this.elements.heroCta.textContent = t.heroCta;
    document.documentElement.setAttribute('lang', this.lang === 'ar' ? 'ar' : 'en');
    document.documentElement.dir = this.lang === 'ar' ? 'rtl' : 'ltr';
    this.updateBadge();
  }
  toggle() {
    this.lang = this.lang === 'en' ? 'ar' : 'en';
    localStorage.setItem('ryaan_lang', this.lang);
    this.apply();
    showNotification(`Language switched to ${this.lang === 'ar' ? 'العربية' : 'English'}`);
  }
  updateBadge() {
    const badge = document.querySelector('#languageToggle .lang-badge');
    if(badge) badge.textContent = this.lang === 'en' ? 'EN' : 'AR';
  }
}

/* ===================== Initialization ===================== */
let logoManager, productManager, cartManager, goldTicker, themeManager, languageManager;

document.addEventListener('DOMContentLoaded', async () => {
  // Hide preloader after a short elegant delay
  setTimeout(()=> {
    const pre = document.getElementById('preloader');
    pre.style.opacity = '0';
    setTimeout(()=> pre.style.display = 'none', 650);
  }, 1200);

  logoManager = new LogoManager();
  productManager = new ProductManager();
  cartManager = new CartManager();
  goldTicker = new GoldTicker();
  themeManager = new ThemeManager();
  languageManager = new LanguageManager();

  cartManager.init();
  productManager.renderCollections();
  productManager.renderProducts();

  // modal close
  document.getElementById('modalClose').addEventListener('click', ()=> { document.getElementById('productModal').style.display='none'; document.getElementById('productModal').setAttribute('aria-hidden','true'); });
  document.getElementById('productModal').addEventListener('click', (e)=> { if(e.target === e.currentTarget) { e.currentTarget.style.display='none'; e.currentTarget.setAttribute('aria-hidden','true'); } });

  // language toggle click (also handled in LanguageManager) - ensure visual badge update
  document.getElementById('languageToggle').addEventListener('click', (e)=> { /* handled by LanguageManager */ });

  // Smooth anchor scrolling
  document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function(e) {
      e.preventDefault();
      const target = document.querySelector(this.getAttribute('href'));
      if (target) {
        target.scrollIntoView({ behavior: 'smooth', block: 'start' });
      }
    });
  });

  // set contact links (WhatsApp, email, instagram)
  const wa = document.getElementById('whatsappLink');
  if(wa) wa.href = `https://wa.me/${CONFIG.whatsapp}`;
  const em = document.getElementById('emailLink');
  if(em) em.href = `mailto:${CONFIG.email}`;
  const ip = document.getElementById('instaProfile');
  if(ip) ip.href = `https://instagram.com/${CONFIG.instagram}`;
  const phone = document.getElementById('phoneLink');
  if(phone) phone.href = `tel:+${CONFIG.whatsapp}`;

  // Hash routing for collections
  window.addEventListener('hashchange', () => {
    const hash = window.location.hash;
    if (hash.startsWith('#collection=')) {
      const collectionName = decodeURIComponent(hash.split('=')[1]);
      showNotification(`Viewing ${collectionName} collection`);
    }
  });

  // set share behaviour for insta links in product modal to also copy caption
  document.getElementById('modalShareInsta').addEventListener('click', ()=> {
    if(productManager.currentProduct) shareToInstagram(productManager.currentProduct);
  });
});

</script>
</body>
</html>
